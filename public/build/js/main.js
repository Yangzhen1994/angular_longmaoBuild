/**
 * @license AngularJS v1.5.5
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * State-based routing for AngularJS
 * @version v0.2.10
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*
 AngularJS v1.5.5
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/

/*! 12.2.13 */

!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,s=o[0],a="["+(e?e+":":"")+s+"] ",l=o[1];for(a+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?$e(o[n]):e}),a+="\nhttp://errors.angularjs.org/1.5.5/"+(e?e+"/":"")+s,r=i,n="?";r<o.length;r++,n="&")a+=n+"p"+(r-i)+"="+encodeURIComponent($e(o[r]));return new t(a)}}function n(e){if(null==e||C(e))return!1;if(Wr(e)||y(e)||Nr&&e instanceof Nr)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,s;if(e)if(b(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(Wr(e)||n(e)){var a="object"!=typeof e;for(o=0,s=e.length;o<s;o++)(a||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(I(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Er.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function s(){return++Hr}function a(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(w(s)||b(s))for(var u=Object.keys(s),c=0,d=u.length;c<d;c++){var f=u[c],p=s[f];n&&w(p)?_(p)?e[f]=new Date(p.valueOf()):k(p)?e[f]=new RegExp(p):p.nodeName?e[f]=p.cloneNode(!0):N(p)?e[f]=p.clone():(w(e[f])||(e[f]=Wr(p)?[]:{}),l(e[f],[p],!0)):e[f]=p}}return a(e,r),e}function u(e){return l(e,jr.call(arguments,1),!1)}function c(e){return l(e,jr.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function f(e,t){return u(Object.create(e),t)}function p(){}function h(e){return e}function m(e){return function(){return e}}function g(e){return b(e.toString)&&e.toString!==Vr}function v(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function w(e){return null!==e&&"object"==typeof e}function I(e){return null!==e&&"object"==typeof e&&!Br(e)}function y(e){return"string"==typeof e}function x(e){return"number"==typeof e}function _(e){return"[object Date]"===Vr.call(e)}function b(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Vr.call(e)}function C(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Vr.call(e)}function E(e){return"[object FormData]"===Vr.call(e)}function R(e){return"[object Blob]"===Vr.call(e)}function O(e){return"boolean"==typeof e}function A(e){return e&&b(e.then)}function P(e){return e&&x(e.length)&&Gr.test(Vr.call(e))}function U(e){return"[object ArrayBuffer]"===Vr.call(e)}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function D(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function M(e){return Rr(e.nodeName||e[0]&&e[0].nodeName)}function j(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,r=t.$$hashKey;if(Wr(e))for(var o=0,s=e.length;o<s;o++)t.push(i(e[o]));else if(I(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Er.call(e,n)&&(t[n]=i(e[n]));return a(t,r),t}function i(e){if(!w(e))return e;var t=s.indexOf(e);if(t!==-1)return l[t];if(C(e)||S(e))throw qr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=Wr(e)?[]:Object.create(Br(e)),r=!0),s.push(e),l.push(i),r?n(e,i):i}function o(e){switch(Vr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(b(e.cloneNode))return e.cloneNode(!0)}var s=[],l=[];if(t){if(P(t)||U(t))throw qr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw qr("cpi","Can't copy! Source and destination are identical.");return Wr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),s.push(e),l.push(t),n(e,t)}return i(e)}function L(e,t){if(Wr(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function V(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!Wr(e)){if(_(e))return!!_(t)&&V(e.getTime(),t.getTime());if(k(e))return!!k(t)&&e.toString()==t.toString();if(S(e)||S(t)||C(e)||C(t)||Wr(t)||_(t)||k(t))return!1;i=me();for(r in e)if("$"!==r.charAt(0)&&!b(e[r])){if(!V(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&$(t[r])&&!b(t[r]))return!1;return!0}if(!Wr(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!V(e[r],t[r]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(jr.call(t,n))}function q(e,t){return jr.call(e,t||0)}function z(e,t){var n=arguments.length>2?q(arguments,2):[];return!b(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,B(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:C(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":S(n)&&(r="$SCOPE"),r}function W(e,t){if(!v(e))return x(t)||(t=t?2:null),JSON.stringify(e,H,t)}function G(e){return y(e)?JSON.parse(e):e}function K(e,t){e=e.replace(Zr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Y(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=K(t,r);return Y(e,n*(i-r))}function X(e){e=Nr(e).clone();try{e.empty()}catch(e){}var t=Nr("<div>").append(e).html();try{return e[0].nodeType===ii?Rr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Rr(t)})}catch(e){return Rr(t)}}function Z(e){try{return decodeURIComponent(e)}catch(e){}}function Q(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),i=e.substring(n+1)),r=Z(r),$(r)&&(i=!$(i)||Z(i),Er.call(t,r)?Wr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function ee(e){var t=[];return r(e,function(e,n){Wr(e)?r(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,i=Qr.length;for(r=0;r<i;++r)if(n=Qr[r]+t,y(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,i,o={};r(Qr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(Qr,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==re(n,"strict-di"),t(n,i?[i]:[],o))}function oe(t,n,i){w(i)||(i={});var o={strictDi:!1};i=u(o,i);var s=function(){if(t=Nr(t),t.injector()){var r=t[0]===e.document?"document":X(t);throw qr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=nt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),zr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),s()},void(b(zr.resumeDeferredBootstrap)&&zr.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ae(e){var t=zr.element(e).injector();if(!t)throw qr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(ei,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!ti){var n=Xr();Dr=v(n)?e.jQuery:n?e[n]:void 0,Dr&&Dr.fn.on?(Nr=Dr,u(Dr.fn,{scope:_i.scope,isolateScope:_i.isolateScope,controller:_i.controller,injector:_i.injector,inheritedData:_i.inheritedData}),t=Dr.cleanData,Dr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Dr._data(r,"events"),n&&n.$destroy&&Dr(r).triggerHandler("$destroy");t(e)}):Nr=Ee,zr.element=Nr,ti=!0}}function ce(e,t,n){if(!e)throw qr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&Wr(e)&&(e=e[e.length-1]),ce(b(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw qr("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&b(e)?z(o,e):e}function he(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Nr(jr.call(e,0,i))),t.push(n));return t||e}function me(){return Object.create(null)}function ge(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,s){var a=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return a(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(r,o){return o&&b(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),c}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],a=[],l=[],u=e("$injector","invoke","push",a),c={_invokeQueue:i,_configBlocks:a,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return s&&u(s),c})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=H(e,n),w(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function $e(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function we(n){u(n,{bootstrap:oe,copy:F,extend:u,merge:c,equals:V,element:Nr,forEach:r,injector:nt,noop:p,bind:z,toJson:W,fromJson:G,identity:h,isUndefined:v,isDefined:$,isString:y,isFunction:b,isObject:w,isNumber:x,isElement:N,isArray:Wr,version:li,isDate:_,lowercase:Rr,uppercase:Or,callbacks:{counter:0},getTestability:ae,$$minErr:t,$$csp:Jr,reloadWithDebugInfo:se}),(Mr=ge(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:_n}),e.provider("$compile",pt).directive({a:Oo,input:Jo,textarea:Jo,form:Do,script:Hs,select:Ks,style:Js,option:Ys,ngBind:Qo,ngBindHtml:ts,ngBindTemplate:es,ngClass:rs,ngClassEven:os,ngClassOdd:is,ngCloak:ss,ngController:as,ngForm:Mo,ngHide:js,ngIf:cs,ngInclude:ds,ngInit:ps,ngNonBindable:Es,ngPluralize:Ps,ngRepeat:Us,ngShow:Ms,ngStyle:Fs,ngSwitch:Ls,ngSwitchWhen:Vs,ngSwitchDefault:Bs,ngOptions:As,ngTransclude:zs,ngModel:Cs,ngList:hs,ngChange:ns,pattern:Zs,ngPattern:Zs,required:Xs,ngRequired:Xs,minlength:ea,ngMinlength:ea,maxlength:Qs,ngMaxlength:Qs,ngValue:Zo,ngModelOptions:Ts}).directive({ngInclude:fs}).directive(Ao).directive(ls),e.provider({$anchorScroll:rt,$animate:Fi,$animateCss:Bi,$$animateJs:Mi,$$animateQueue:ji,$$AnimateRunner:Vi,$$animateAsyncRun:Li,$browser:ut,$cacheFactory:ct,$controller:wt,$document:It,$exceptionHandler:yt,$filter:Mn,$$forceReflow:Ki,$interpolate:Nt,$interval:Dt,$http:Ot,$httpParamSerializer:_t,$httpParamSerializerJQLike:bt,$httpBackend:Pt,$xhrFactory:At,$location:Jt,$log:Xt,$parse:vn,$rootScope:xn,$q:$n,$$q:wn,$sce:Sn,$sceDelegate:Cn,$sniffer:Tn,$templateCache:dt,$templateRequest:En,$$testability:Rn,$timeout:On,$window:Un,$$rAF:yn,$$jqLite:Je,$$HashMap:Si,$$cookieReader:Dn})}])}function Ie(){return++ci}function ye(e){return e.replace(pi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(hi,"Moz$1")}function xe(e){return!$i.test(e)}function _e(e){var t=e.nodeType;return t===ni||!t||t===si}function be(e){for(var t in ui[e.ng339])return!0;return!1}function ke(e){for(var t=0,n=e.length;t<n;t++)Pe(e[t])}function Ce(e,t){var n,i,o,s,a=t.createDocumentFragment(),l=[];if(xe(e))l.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),i=(wi.exec(e)||["",""])[1].toLowerCase(),o=yi[i]||yi._default,n.innerHTML=o[1]+e.replace(Ii,"<$1></$2>")+o[2],s=o[0];s--;)n=n.lastChild;l=B(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",r(l,function(e){a.appendChild(e)}),a}function Se(t,n){n=n||e.document;var r;return(r=vi.exec(t))?[n.createElement(r[1])]:(r=Ce(t,n))?r.childNodes:[]}function Te(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ee(e){if(e instanceof Ee)return e;var t;if(y(e)&&(e=Kr(e),t=!0),!(this instanceof Ee)){if(t&&"<"!=e.charAt(0))throw gi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ee(e)}t?Fe(this,Se(e)):Fe(this,e)}function Re(e){return e.cloneNode(!0)}function Oe(e,t){if(t||Pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Pe(n[r])}function Ae(e,t,n,i){if($(i))throw gi("offargs","jqLite#off() does not support the `selector` argument");var o=Ue(e),s=o&&o.events,a=o&&o.handle;if(a)if(t){var l=function(t){var r=s[t];$(n)&&j(r||[],n),$(n)&&r&&r.length>0||(fi(e,t,a),delete s[t])};r(t.split(" "),function(e){l(e),mi[e]&&l(mi[e])})}else for(t in s)"$destroy"!==t&&fi(e,t,a),delete s[t]}function Pe(e,t){var n=e.ng339,r=n&&ui[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ae(e)),delete ui[n],e.ng339=void 0}}function Ue(e,t){var n=e.ng339,r=n&&ui[n];return t&&!r&&(e.ng339=n=Ie(),r=ui[n]={events:{},data:{},handle:void 0}),r}function Ne(e,t,n){if(_e(e)){var r=$(n),i=!r&&t&&!w(t),o=!t,s=Ue(e,!i),a=s&&s.data;if(r)a[t]=n;else{if(o)return a;if(i)return a&&a[t];u(a,t)}}}function De(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Me(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Kr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Kr(t)+" "," ")))})}function je(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Kr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",Kr(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Le(e,t){return Ve(e,"$"+(t||"ngController")+"Controller")}function Ve(e,t,n){e.nodeType==si&&(e=e.documentElement);for(var r=Wr(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if($(n=Nr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===ai&&e.host}}function Be(e){for(Oe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function qe(e,t){t||Oe(e);var n=e.parentNode;n&&n.removeChild(e)}function ze(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Nr(n).on("load",t)}function He(e,t){var n=bi[t.toLowerCase()];return n&&ki[M(e)]&&n}function We(e){return Ci[e]}function Ge(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=i.specialHandlerWrapper||Ke;o>1&&(i=L(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(e,n,i[l])}};return n.elem=e,n}function Ke(e,t,n){n.call(e,t)}function Ye(e,t,n){var r=t.relatedTarget;r&&(r===e||xi.call(e,r))||n.call(e,t)}function Je(){this.$get=function(){return u(Ee,{hasClass:function(e,t){return e.attr&&(e=e[0]),De(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),je(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)}})}}function Xe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||s)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){var t=Function.prototype.toString.call(e).replace(Ai,""),n=t.match(Ti)||t.match(Ei);return n}function et(e){var t=Qe(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tt(e,t,n){var i,o,s;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw y(n)&&n||(n=e.name||et(e)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=Qe(e),r(o[1].split(Ri),function(e){e.replace(Oi,function(e,t,n){i.push(n)})})}e.$inject=i}}else Wr(e)?(s=e.length-1,de(e[s],"fn"),i=e.slice(0,s)):de(e,"fn",!0);return i}function nt(e,t){function n(e){return function(t,n){return w(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(fe(e,"service"),(b(t)||Wr(t))&&(t=_.instantiate(t)),!t.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",e);return x[e+g]=t}function s(e,t){return function(){var n=S.invoke(t,this);if(v(n))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function a(e,t,n){return i(e,{$get:n!==!1?s(e,t):t})}function l(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,m(t),!1)}function c(e,t){fe(e,"constant"),x[e]=t,k[e]=t}function d(e,t){var n=_.get(e+g),r=n.$get;n.$get=function(){var e=S.invoke(r,n);return S.invoke(t,null,{$delegate:e})}}function f(e){ce(v(e)||Wr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=_.get(r[0]);i[r[1]].apply(i,r[2])}}if(!I.get(e)){I.put(e,!0);try{y(e)?(t=Mr(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):b(e)?n.push(_.invoke(e)):Wr(e)?n.push(_.invoke(e)):de(e,"module")}catch(t){throw Wr(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)==-1&&(t=t.message+"\n"+t.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw Pi("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=h,e[t]=n(t,r)}catch(n){throw e[t]===h&&delete e[t],n}finally{$.shift()}}function i(e,n,i){for(var o=[],s=nt.$$annotate(e,t,i),a=0,l=s.length;a<l;a++){var u=s[a];if("string"!=typeof u)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){return!(Ur<=11)&&("function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e)))}function s(e,t,n,r){"string"==typeof n&&(r=n,n=null);var s=i(e,n,r);return Wr(e)&&(e=e[e.length-1]),o(e)?(s.unshift(null),new(Function.prototype.bind.apply(e,s))):e.apply(t,s)}function a(e,t,n){var r=Wr(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:s,instantiate:a,get:r,annotate:nt.$$annotate,has:function(t){return x.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",$=[],I=new Ze([],!0),x={$provide:{provider:n(i),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:d}},_=x.$injector=p(x,function(e,t){throw zr.isString(t)&&$.push(t),Pi("unpr","Unknown provider: {0}",$.join(" <- "))}),k={},C=p(k,function(e,t){var n=_.get(e+g,t);return S.invoke(n.$get,n,void 0,e)}),S=C;x["$injector"+g]={$get:m(C)};var T=f(e);return S=C.get("$injector"),S.strictDi=t,r(T,function(e){e&&S.invoke(e)}),S}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===M(e))return t=e,!0}),t}function o(){var e=a.yOffset;if(b(e))e=e();else if(N(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function a(e){e=y(e)?e:n.hash();var t;e?(t=l.getElementById(e))?s(t):(t=i(l.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||ze(function(){r.$evalAsync(a)})}),a}]}function it(e,t){return e||t?e?t?(Wr(e)&&(e=e.join(" ")),Wr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ot(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ni)return n}}function st(e){y(e)&&(e=e.split(" "));var t=me();return r(e,function(e){e.length&&(t[e]=!0)}),t}function at(e){return w(e)?e:{}}function lt(e,t,n,i){function o(e){try{e.apply(null,q(arguments,1))}finally{if($--,0===$)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function s(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function a(){b=null,l(),u()}function l(){I=k(),I=v(I)?null:I,V(I,T)&&(I=T),T=I}function u(){x===c.url()&&y===I||(x=c.url(),y=I,r(C,function(e){e(c.url(),I)}))}var c=this,d=e.location,f=e.history,h=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var $=0,w=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){$++},c.notifyWhenNoOutstandingRequests=function(e){0===$?e():w.push(e)};var I,y,x=d.href,_=t.find("base"),b=null,k=i.history?function(){try{return f.state}catch(e){}}:p;l(),y=I,c.url=function(t,n,r){if(v(r)&&(r=null),d!==e.location&&(d=e.location),f!==e.history&&(f=e.history),t){var o=y===r;if(x===t&&(!i.history||o))return c;var a=x&&Vt(x)===Vt(t);return x=t,y=r,!i.history||a&&o?(a&&!b||(b=t),n?d.replace(t):a?d.hash=s(t):d.href=t,d.href!==t&&(b=t)):(f[n?"replaceState":"pushState"](r,"",t),l(),y=I),c}return b||d.href.replace(/%27/g,"'")},c.state=function(){return I};var C=[],S=!1,T=null;c.onUrlChange=function(t){return S||(i.history&&Nr(e).on("popstate",a),Nr(e).on("hashchange",a),S=!0),C.push(t),t},c.$$applicationDestroyed=function(){Nr(e).off("hashchange popstate",a)},c.$$checkUrlChange=u,c.baseHref=function(){var e=_.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return $++,n=h(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return!!g[e]&&(delete g[e],m(e),o(p),!0)}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new lt(e,r,t,n)}]}function ct(){this.$get=function(){function e(e,r){function i(e){e!=f&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var s=0,a=u({},r,{id:e}),l=me(),c=r&&r.capacity||Number.MAX_VALUE,d=me(),f=null,p=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in l||s++,l[e]=t,s>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==f&&(f=t.p),t==p&&(p=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],s--)},removeAll:function(){l=me(),s=0,d=me(),f=p=null},destroy:function(){l=null,a=null,d=null,delete n[e]},info:function(){return u({},a,{size:s})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function dt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function pt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=me();return r(e,function(e,r){if(e in k)return void(o[r]=k[e]);var s=e.match(i);if(!s)throw qi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||r},s[4]&&(k[e]=o[r])}),o}function s(e,t){var n={isolateScope:null,bindToController:null};if(w(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),w(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),w(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw qi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!$t(r,o))throw qi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function a(e){var t=e.charAt(0);if(!t||t!==Rr(t))throw qi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw qi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},c="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,I=D("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/,k=me();this.directive=function e(n,i){return fe(n,"directive"),y(n)?(a(n),ce(i,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],t.factory(n+c,["$injector","$exceptionHandler",function(e,t){var i=[];return r(l[n],function(r,o){try{var s=e.invoke(r);b(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(e){t(e)}}),i}])),l[n].push(i)):r(n,o(e)),this},this.component=function(e,t){function n(e){function n(t){return b(t)||Wr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",s={controller:i,controllerAs:$t(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(s[t]=e)}),s}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,b(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return $(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return $(e)?(C=e,this):C};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,a,m,$,k,E,R){function A(){try{if(!--we)throw ge=void 0,qi("infchng","{0} $onChanges() iterations reached. Aborting!\n",T);$.$apply(function(){for(var e=0,t=ge.length;e<t;++e)ge[e]();ge=void 0})}finally{we++}}function P(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function U(e,t,n){$e.innerHTML="<span "+t+">";var r=$e.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function N(e,t){try{e.addClass(t)}catch(e){}}function D(t,n,r,i,o){t instanceof Nr||(t=Nr(t));for(var s=/\S+/,a=0,l=t.length;a<l;a++){var u=t[a];u.nodeType===ii&&u.nodeValue.match(s)&&Te(u,t[a]=e.document.createElement("span"))}var c=L(t,n,t,r,i,o);D.$$addScopeClass(t);var d=null;return function(e,n,r){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,s=r.transcludeControllers,a=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=F(a));var l;if(l="html"!==d?Nr(se(d,Nr("<div>").append(t).html())):n?_i.clone.call(t):t,s)for(var u in s)l.data("$"+u+"Controller",s[u].instance);return D.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,i),l}}function F(e){var t=e&&e[0];return t&&"foreignobject"!==M(t)&&Vr.call(t).match(/SVG/)?"svg":"html"}function L(e,t,n,r,i,o){function s(e,n,r,i){var o,s,a,l,u,c,d,f,m;if(p){var g=n.length;for(m=new Array(g),u=0;u<h.length;u+=3)d=h[u],m[d]=n[d]}else m=n;for(u=0,c=h.length;u<c;)a=m[h[u++]],o=h[u++],s=h[u++],o?(o.scope?(l=e.$new(),D.$$addScopeInfo(Nr(a),l)):l=e,f=o.transcludeOnThisElement?B(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?B(e,t):null,o(s,l,a,r,f)):s&&s(e,a.childNodes,void 0,i)}for(var a,l,u,c,d,f,p,h=[],m=0;m<e.length;m++)a=new P,l=z(e[m],[],a,0===m?r:void 0,i),u=l.length?K(l,e[m],a,t,n,null,[],[],o):null,u&&u.scope&&D.$$addScopeClass(a.$$element),d=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:L(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(h.push(m,u,d),f=!0,p=p||u),o=null;return f?s:null}function B(e,t,n){function r(r,i,o,s,a){return r||(r=e.$new(!1,a),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i=r.$$slots=me();for(var o in t.$$slots)t.$$slots[o]?i[o]=B(e,t.$$slots[o],n):i[o]=null;return r}function z(e,t,n,r,i){var o,s,a=e.nodeType,l=n.$attr;switch(a){case ni:Q(t,mt(M(e)),"E",r,i);for(var u,c,f,p,h,m,v=e.attributes,$=0,I=v&&v.length;$<I;$++){var x=!1,_=!1;u=v[$],c=u.name,h=Kr(u.value),p=mt(c),(m=be.test(p))&&(c=c.replace(Hi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var b=p.match(ke);b&&ee(b[1])&&(x=c,_=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),f=mt(c.toLowerCase()),l[f]=c,!m&&n.hasOwnProperty(f)||(n[f]=h,He(e,f)&&(n[f]=!0)),ue(e,t,h,f,m),Q(t,f,"A",r,i,x,_)}if(s=e.className,w(s)&&(s=s.animVal),y(s)&&""!==s)for(;o=g.exec(s);)f=mt(o[2]),Q(t,f,"C",r,i)&&(n[f]=Kr(o[3])),s=s.substr(o.index+o[0].length);break;case ii:if(11===Ur)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ii;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);oe(t,e.nodeValue);break;case oi:try{o=d.exec(e.nodeValue),o&&(f=mt(o[1]),Q(t,f,"M",r,i)&&(n[f]=Kr(o[2])))}catch(e){}}return t.sort(re),t}function H(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw qi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ni&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),
r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Nr(r)}function W(e,t,n){return function(r,i,o,s,a){return i=H(i[0],t,n),e(r,i,o,s,a)}}function G(e,t,n,r,i,o){var s;return e?D(t,n,r,i,o):function(){return s||(s=D(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function K(e,t,n,o,s,a,l,c,d){function f(e,t,n,r){e&&(n&&(e=W(e,n,r)),e.require=h.require,e.directiveName=m,(k===h||h.$$isolateScope)&&(e=fe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=W(t,n,r)),t.require=h.require,t.directiveName=m,(k===h||h.$$isolateScope)&&(t=fe(t,{isolateScope:!0})),c.push(t))}function p(e,i,o,s,a){function d(e,t,n,r){var i;if(S(e)||(r=n,n=t,t=e,e=void 0),O&&(i=$),n||(n=O?y.parent():y),!r)return a(e,t,i,n,j);var o=a.$$slots[r];if(o)return o(e,t,i,n,j);if(v(o))throw qi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,X(y))}var f,p,h,m,g,$,I,y,T,E;t===o?(T=n,y=n.$$element):(y=Nr(o),T=new P(y,n)),g=i,k?m=i.$new(!0):x&&(g=i.$parent),a&&(I=d,I.$$boundTransclude=a,I.isSlotFilled=function(e){return!!a.$$slots[e]}),_&&($=J(y,T,I,_,m,i,k)),k&&(D.$$addScopeInfo(y,m,!0,!(C&&(C===k||C===k.$$originalDirective))),D.$$addScopeClass(y,!0),m.$$isolateBindings=k.$$isolateBindings,E=he(i,T,m,m.$$isolateBindings,k),E.removeWatches&&m.$on("$destroy",E.removeWatches));for(var R in $){var A=_[R],U=$[R],N=A.$$bindings.bindToController;U.identifier&&N?U.bindingInfo=he(g,T,U.instance,N,A):U.bindingInfo={};var M=U();M!==U.instance&&(U.instance=M,y.data("$"+A.name+"Controller",M),U.bindingInfo.removeWatches&&U.bindingInfo.removeWatches(),U.bindingInfo=he(g,T,U.instance,N,A))}for(r(_,function(e,t){var n=e.require;e.bindToController&&!Wr(n)&&w(n)&&u($[t].instance,Y(t,n,y,$))}),r($,function(e){var t=e.instance;b(t.$onChanges)&&t.$onChanges(e.bindingInfo.initialChanges),b(t.$onInit)&&t.$onInit(),b(t.$onDestroy)&&g.$on("$destroy",function(){t.$onDestroy()})}),f=0,p=l.length;f<p;f++)h=l[f],pe(h,h.isolateScope?m:i,y,T,h.require&&Y(h.directiveName,h.require,y,$),I);var j=i;for(k&&(k.template||null===k.templateUrl)&&(j=m),e&&e(j,o.childNodes,void 0,a),f=c.length-1;f>=0;f--)h=c[f],pe(h,h.isolateScope?m:i,y,T,h.require&&Y(h.directiveName,h.require,y,$),I);r($,function(e){var t=e.instance;b(t.$postLink)&&t.$postLink()})}d=d||{};for(var h,m,g,$,I,y=-Number.MAX_VALUE,x=d.newScopeDirective,_=d.controllerDirectives,k=d.newIsolateScopeDirective,C=d.templateDirective,T=d.nonTlbTranscludeDirective,E=!1,R=!1,O=d.hasElementTranscludeDirective,A=n.$$element=Nr(t),U=a,N=o,j=!1,F=!1,L=0,V=e.length;L<V;L++){h=e[L];var B=h.$$start,K=h.$$end;if(B&&(A=H(t,B,K)),g=void 0,y>h.priority)break;if((I=h.scope)&&(h.templateUrl||(w(I)?(ie("new/isolated scope",k||x,h,A),k=h):ie("new/isolated scope",k,h,A)),x=x||h),m=h.name,!j&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var Q,ee=L+1;Q=e[ee++];)if(Q.transclude&&!Q.$$tlb||Q.replace&&(Q.templateUrl||Q.template)){F=!0;break}j=!0}if(!h.templateUrl&&h.controller&&(I=h.controller,_=_||me(),ie("'"+m+"' controller",_[m],h,A),_[m]=h),I=h.transclude)if(E=!0,h.$$tlb||(ie("transclusion",T,h,A),T=h),"element"==I)O=!0,y=h.priority,g=A,A=n.$$element=Nr(D.$$createComment(m,n[m])),t=A[0],de(s,q(g),t),g[0].$$parentNode=g[0].parentNode,N=G(F,g,o,y,U&&U.name,{nonTlbTranscludeDirective:T});else{var re=me();if(g=Nr(Re(t)).contents(),w(I)){g=[];var oe=me(),ae=me();r(I,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,oe[e]=t,re[t]=null,ae[t]=n}),r(A.contents(),function(e){var t=oe[mt(M(e))];t?(ae[t]=!0,re[t]=re[t]||[],re[t].push(e)):g.push(e)}),r(ae,function(e,t){if(!e)throw qi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in re)re[le]&&(re[le]=G(F,re[le],o))}A.empty(),N=G(F,g,o,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),N.$$slots=re}if(h.template)if(R=!0,ie("template",C,h,A),C=h,I=b(h.template)?h.template(A,n):h.template,I=_e(I),h.replace){if(U=h,g=xe(I)?[]:vt(se(h.templateNamespace,Kr(I))),t=g[0],1!=g.length||t.nodeType!==ni)throw qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");de(s,A,t);var ue={$attr:{}},ce=z(t,[],ue),ge=e.splice(L+1,e.length-(L+1));(k||x)&&Z(ce,k,x),e=e.concat(ce).concat(ge),te(n,ue),V=e.length}else A.html(I);if(h.templateUrl)R=!0,ie("template",C,h,A),C=h,h.replace&&(U=h),p=ne(e.splice(L,e.length-L),A,n,s,E&&N,l,c,{controllerDirectives:_,newScopeDirective:x!==h&&x,newIsolateScopeDirective:k,templateDirective:C,nonTlbTranscludeDirective:T}),V=e.length;else if(h.compile)try{$=h.compile(A,n,N),b($)?f(null,$,B,K):$&&f($.pre,$.post,B,K)}catch(e){i(e,X(A))}h.terminal&&(p.terminal=!0,y=Math.max(y,h.priority))}return p.scope=x&&x.scope===!0,p.transcludeOnThisElement=E,p.templateOnThisElement=R,p.transclude=N,d.hasElementTranscludeDirective=O,p}function Y(e,t,n,i){var o;if(y(t)){var s=t.match(x),a=t.substring(s[0].length),l=s[1]||s[3],u="?"===s[2];if("^^"===l?n=n.parent():(o=i&&i[a],o=o&&o.instance),!o){var c="$"+a+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw qi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Wr(t)){o=[];for(var d=0,f=t.length;d<f;d++)o[d]=Y(e,t[d],n,i)}else w(t)&&(o={},r(t,function(t,r){o[r]=Y(e,t,n,i)}));return o||null}function J(e,t,n,r,i,o,s){var a=me();for(var l in r){var u=r[l],c={$scope:u===s||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]);var f=m(d,c,!0,u.controllerAs);a[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return a}function Z(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=f(e[r],{$$isolateScope:t,$$newScope:n})}function Q(e,n,r,o,a,u,d){if(n===a)return null;var p=null;if(l.hasOwnProperty(n))for(var h,m=t.get(n+c),g=0,$=m.length;g<$;g++)try{if(h=m[g],(v(o)||o>h.priority)&&h.restrict.indexOf(r)!=-1){if(u&&(h=f(h,{$$start:u,$$end:d})),!h.$$bindings){var I=h.$$bindings=s(h,h.name);w(I.isolateScope)&&(h.$$isolateBindings=I.isolateScope)}e.push(h),p=h}}catch(e){i(e)}return p}function ee(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function te(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){"class"==r?(N(o,t),e.class=(e.class?e.class+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function ne(e,t,n,i,s,a,l,u){var c,d,p=[],h=t[0],m=e.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=b(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,$=m.templateNamespace;return t.empty(),o(v).then(function(o){var f,I,y,x;if(o=_e(o),m.replace){if(y=xe(o)?[]:vt(se($,Kr(o))),f=y[0],1!=y.length||f.nodeType!==ni)throw qi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);I={$attr:{}},de(i,t,f);var _=z(f,[],I);w(m.scope)&&Z(_,!0),e=_.concat(e),te(n,I)}else f=h,t.html(o);for(e.unshift(g),c=K(e,f,n,s,t,m,a,l,u),r(i,function(e,n){e==f&&(i[n]=t[0])}),d=L(t[0].childNodes,s);p.length;){var b=p.shift(),k=p.shift(),C=p.shift(),S=p.shift(),T=t[0];if(!b.$$destroyed){if(k!==h){var E=k.className;u.hasElementTranscludeDirective&&m.replace||(T=Re(f)),de(C,Nr(k),T),N(Nr(T),E)}x=c.transcludeOnThisElement?B(b,c.transclude,S):S,c(d,b,T,i,x)}}p=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(c.transcludeOnThisElement&&(o=B(t,c.transclude,i)),c(d,t,n,r,o)))}}function re(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw qi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,X(r))}function oe(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&D.$$addBindingClass(t),function(e,t){var i=t.parent();n||D.$$addBindingClass(i),D.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function se(t,n){switch(t=Rr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ae(e,t){if("srcdoc"==t)return k.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function ue(e,t,r,i,o){var s=ae(e,i);o=I[i]||o;var a=n(r,!0,s,o);if(a){if("multiple"===i&&"select"===M(e))throw qi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=me());if(_.test(i))throw qi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==r&&(a=c&&n(c,!0,s,o),r=c),a&&(l[i]=a(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(a,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function de(t,n,r){var i,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==s){t[i++]=r;for(var u=i,c=u+a-1,d=t.length;u<d;u++,c++)c<d?t[u]=t[c]:delete t[u];t.length-=a-1,t.context===s&&(t.context=r);break}l&&l.replaceChild(r,s);var f=e.document.createDocumentFragment();for(i=0;i<a;i++)f.appendChild(n[i]);for(Nr.hasData(s)&&(Nr.data(r,Nr.data(s)),Nr(s).off("$destroy")),Nr.cleanData(f.querySelectorAll("*")),i=1;i<a;i++)delete n[i];n[0]=r,n.length=1}function fe(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function pe(e,t,n,r,o,s){try{e(t,n,r,o,s)}catch(e){i(e,X(n))}}function he(e,t,i,o,s){function l(t,n,r){b(i.$onChanges)&&n!==r&&(ge||(e.$$postDigest(A),ge=[]),c||(c={},ge.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new ht(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],f={};return r(o,function(r,o){var u,c,h,m,g,v=r.attrName,$=r.optional,w=r.mode;switch(w){case"@":$||Er.call(t,v)||(i[o]=t[v]=void 0),t.$observe(v,function(e){if(y(e)||O(e)){var t=i[o];l(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],y(u)?i[o]=n(u)(e):O(u)&&(i[o]=u),f[o]=new ht(zi,i[o]);break;case"=":if(!Er.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=a(t[v]),m=c.literal?V:function(e,t){return e===t||e!==e&&t!==t},h=c.assign||function(){throw u=i[o]=c(e),qi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,s.name)},u=i[o]=c(e);var I=function(t){return m(t,i[o])||(m(t,u)?h(e,t=i[o]):i[o]=t),u=t};I.$stateful=!0,g=r.collection?e.$watchCollection(t[v],I):e.$watch(a(t[v],I),null,c.literal),d.push(g);break;case"<":if(!Er.call(t,v)){if($)break;t[v]=void 0}if($&&!t[v])break;c=a(t[v]),i[o]=c(e),f[o]=new ht(zi,i[o]),g=e.$watch(c,function(e,t){e===t&&(t=i[o]),l(o,e,t),i[o]=e},c.literal),d.push(g);break;case"&":if(c=t.hasOwnProperty(v)?a(t[v]):p,c===p&&$)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:f,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var ge,ve=/^\w/,$e=e.document.createElement("div"),we=T;P.prototype={$normalize:mt,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=gt(e,t);n&&n.length&&E.addClass(this.$$element,n);var r=gt(t,e);r&&r.length&&E.removeClass(this.$$element,r)},$set:function(e,t,n,o){var s,a=this.$$element[0],l=He(a,e),u=We(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),s=M(this.$$element),"a"===s&&("href"===e||"xlinkHref"===e)||"img"===s&&"src"===e)this[e]=t=R(t,"src"===e);else if("img"===s&&"srcset"===e){for(var d="",f=Kr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(f)?p:/(,)/,m=f.split(h),g=Math.floor(m.length/2),$=0;$<g;$++){var w=2*$;d+=R(Kr(m[w]),!0),d+=" "+Kr(m[w+1])}var I=Kr(m[2*$]).split(/\s/);d+=R(Kr(I[0]),!0),2===I.length&&(d+=" "+Kr(I[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):ve.test(o)?this.$$element.attr(o,t):U(this.$$element[0],o,t));var y=this.$$observers;y&&r(y[c],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=me()),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){j(i,t)}}};var Ie=n.startSymbol(),ye=n.endSymbol(),_e="{{"==Ie&&"}}"==ye?h:function(e){return e.replace(/\{\{/g,Ie).replace(/}}/g,ye)},be=/^ngAttr[A-Z]/,ke=/^(.+)Start$/;return D.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];Wr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,D.$$addBindingClass=C?function(e){N(e,"ng-binding")}:p,D.$$addScopeInfo=C?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:p,D.$$addScopeClass=C?function(e,t){N(e,t?"ng-isolate-scope":"ng-scope")}:p,D.$$createComment=function(t,n){var r="";return C&&(r=" "+(t||"")+": "+(n||"")+" "),e.document.createComment(r)},D}]}function ht(e,t){this.previousValue=e,this.currentValue=t}function mt(e){return ye(e.replace(Hi,""))}function gt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function vt(e){e=Nr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===oi&&Fr.call(e,t,1)}return e}function $t(e,t){if(t&&y(t))return t;if(y(e)){var n=Gi.exec(e);if(n)return n[3]}}function wt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){fe(t,"controller"),w(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!w(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,s,a,l){var c,d,f,p;if(a=a===!0,l&&y(l)&&(p=l),y(t)){if(d=t.match(Gi),!d)throw Wi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);f=d[1],p=p||d[3],t=e.hasOwnProperty(f)?e[f]:pe(s.$scope,f,!0)||(n?pe(i,f,!0):void 0),de(t,f,!0)}if(a){var h=(Wr(t)?t[t.length-1]:t).prototype;c=Object.create(h||null),p&&o(s,p,c,f||t.name);var m;return m=u(function(){var e=r.invoke(t,c,s,f);return e!==c&&(w(e)||b(e))&&(c=e,p&&o(s,p,c,f||t.name)),c},{instance:c,identifier:p})}return c=r.instantiate(t,s,f),p&&o(s,p,c,f||t.name),c}}]}function It(){this.$get=["$window",function(e){return Nr(e.document)}]}function yt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function xt(e){return w(e)?_(e)?e.toISOString():W(e):e}function _t(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(Wr(e)?r(e,function(e){t.push(ne(n)+"="+ne(xt(e)))}):t.push(ne(n)+"="+ne(xt(e))))}),t.join("&")}}}function bt(){this.$get=function(){return function(e){function t(e,o,s){null===e||v(e)||(Wr(e)?r(e,function(e,n){t(e,o+"["+(w(e)?n:"")+"]")}):w(e)&&!_(e)?i(e,function(e,n){t(e,o+(s?"":"[")+n+(s?"":"]"))}):n.push(ne(o)+"="+ne(xt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function kt(e,t){if(y(e)){var n=e.replace(Qi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Yi)||Ct(n))&&(e=G(n))}}return e}function Ct(e){var t=e.match(Xi);return t&&Zi[t[0]].test(e)}function St(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=me();return y(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Rr(Kr(e.substr(0,n))),Kr(e.substr(n+1)))}):w(e)&&r(e,function(e,n){t(Rr(n),Kr(e))}),i}function Tt(e){var t;return function(n){if(t||(t=St(e)),n){var r=t[Rr(n)];return void 0===r&&(r=null),r}return t}}function Et(e,t,n,i){return b(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function Rt(e){return 200<=e&&e<300}function Ot(){var e=this.defaults={transformResponse:[kt],transformRequest:[function(e){return!w(e)||T(e)||R(e)||E(e)?e:W(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Ji),put:L(Ji),patch:L(Ji)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return $(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return $(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,l,c,d,f){function p(n){function o(e){var t=u({},e);return t.data=Et(e.data,e.headers,e.status,l.transformResponse),Rt(e.status)?t:d.reject(t)}function s(e,t){var n,i={};return r(e,function(e,r){b(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function a(t){var n,r,i,o=e.headers,a=u({},t.headers);o=u({},o.common,o[Rr(t.method)]);e:for(n in o){r=Rr(n);for(i in a)if(Rr(i)===r)continue e;a[n]=o[n]}return s(a,L(t))}if(!w(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!y(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=a(n),l.method=Or(l.method),l.paramSerializer=y(l.paramSerializer)?f.get(l.paramSerializer):l.paramSerializer;var c=function(t){var n=t.headers,i=Et(t.data,Tt(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===Rr(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(o,o)},p=[c,void 0],h=d.when(l);for(r(_,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var m=p.shift(),$=p.shift();h=h.then(m,$)}return i?(h.success=function(e){return de(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,l)}),h},h.error=function(e){return de(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,l)}),h}):(h.success=to("success"),h.error=to("error")),h}function h(e){r(arguments,function(e){p[e]=function(t,n){return p(u({},n||{},{method:e,url:t}))}})}function m(e){r(arguments,function(e){p[e]=function(t,n,r){return p(u({},r||{},{method:e,url:t,data:n}))}})}function g(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,i){function o(){u(t,e,r,i)}m&&(Rt(e)?m.put(k,[e,t,St(r),i]):m.remove(k)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,r,i){n=n>=-1?n:0,(Rt(n)?y.resolve:y.reject)({data:e,status:n,headers:Tt(r),config:t,statusText:i})}function f(e){u(e.data,e.status,L(e.headers()),e.statusText)}function h(){var e=p.pendingRequests.indexOf(t);e!==-1&&p.pendingRequests.splice(e,1)}var m,g,y=d.defer(),_=y.promise,b=t.headers,k=I(t.url,t.paramSerializer(t.params));if(p.pendingRequests.push(t),_.then(h,h),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=w(t.cache)?t.cache:w(e.cache)?e.cache:x),m&&(g=m.get(k),$(g)?A(g)?g.then(f,f):Wr(g)?u(g[1],g[0],L(g[2]),g[3]):u(g,200,{},"OK"):m.put(k,_)),v(g)){var C=Pn(t.url)?a()[t.xsrfCookieName||e.xsrfCookieName]:void 0;C&&(b[t.xsrfHeaderName||e.xsrfHeaderName]=C),s(t.method,k,i,l,b,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return _}function I(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var x=l("$http");e.paramSerializer=y(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var _=[];return r(o,function(e){_.unshift(y(e)?f.get(e):f.invoke(e))}),p.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=e,p}]}function At(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Ut(e,r,e.defer,t.angular.callbacks,n[0])}]}function Ut(e,t,n,i,o){function s(e,t,n){var r=o.createElement("script"),s=null;return r.type="text/javascript",r.src=e,r.async=!0,s=function(e){fi(r,"load",s),fi(r,"error",s),o.body.removeChild(r),r=null;var a=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},di(r,"load",s),di(r,"error",s),o.body.appendChild(r),s}return function(o,a,l,u,c,d,f,h,m,g){function w(){x&&x(),_&&_.abort()}function I(t,r,i,o,s){$(k)&&n.cancel(k),x=_=null,t(r,i,o,s),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),a=a||e.url(),"jsonp"==Rr(o)){var y="_"+(i.counter++).toString(36);i[y]=function(e){i[y].data=e,i[y].called=!0};var x=s(a.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){I(u,e,i[y].data,"",t),i[y]=p})}else{var _=t(o,a);_.open(o,a,!0),r(c,function(e,t){$(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==An(a).protocol?404:0),I(u,n,t,_.getAllResponseHeaders(),e)};var b=function(){I(u,-1,null,null,"")};if(_.onerror=b,_.onabort=b,r(m,function(e,t){_.addEventListener(t,e)}),r(g,function(e,t){_.upload.addEventListener(t,e)}),f&&(_.withCredentials=!0),h)try{_.responseType=h}catch(e){if("json"!==h)throw e}_.send(v(l)?null:l)}if(d>0)var k=n(w,d);else A(d)&&d.then(w)}}function Nt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function s(n){return n.replace(p,e).replace(h,t)}function a(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=W(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function c(o,c,p,h){function g(e){try{return e=A(e),h&&!$(e)?e:a(e)}catch(e){r(no.interr(o,e))}}if(!o.length||o.indexOf(e)===-1){var w;if(!c){var I=s(o);w=m(I),w.exp=o,w.expressions=[],w.$$watchDelegate=l}return w}h=!!h;for(var y,x,_,k=0,C=[],S=[],T=o.length,E=[],R=[];k<T;){if((y=o.indexOf(e,k))==-1||(x=o.indexOf(t,y+d))==-1){k!==T&&E.push(s(o.substring(k)));break}k!==y&&E.push(s(o.substring(k,y))),_=o.substring(y+d,x),C.push(_),S.push(n(_,g)),k=x+f,R.push(E.length),E.push("")}if(p&&E.length>1&&no.throwNoconcat(o),!c||C.length){var O=function(e){for(var t=0,n=C.length;t<n;t++){if(h&&v(e[t]))return;E[R[t]]=e[t]}return E.join("")},A=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return u(function(e){var t=0,n=C.length,i=new Array(n);try{for(;t<n;t++)i[t]=S[t](e);return O(i)}catch(e){r(no.interr(o,e))}},{exp:o,expressions:C,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(r,i){var o=O(r);b(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var d=e.length,f=t.length,p=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Dt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,a,l,u){function c(){d?o.apply(null,f):o(m)}var d=arguments.length>4,f=d?q(arguments,4):[],p=t.setInterval,h=t.clearInterval,m=0,g=$(u)&&!u,v=(g?r:n).defer(),w=v.promise;return l=$(l)?l:0,w.$$intervalId=p(function(){g?i.defer(c):e.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),h(w.$$intervalId),delete s[w.$$intervalId]),g||e.$apply()},a),s[w.$$intervalId]=v,w}var s={};return o.cancel=function(e){return!!(e&&e.$$intervalId in s)&&(s[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete s[e.$$intervalId],!0)},o}]}function Mt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function jt(e,t){var n=An(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||io[n.protocol]||null}function Ft(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=An(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Q(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Lt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Vt(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Bt(e){return e.replace(/(#.+)|#$/,"$1")}function qt(e){return e.substr(0,Vt(e).lastIndexOf("/")+1)}function zt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ht(e,t,n){this.$$html5=!0,n=n||"",jt(e,this),this.$$parse=function(e){var n=Lt(t,e);if(!y(n))throw oo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Ft(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Mt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s,a;return $(o=Lt(e,r))?(s=o,a=$(o=Lt(n,o))?t+(Lt("/",o)||o):e+s):$(o=Lt(t,r))?a=t+o:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function Wt(e,t,n){jt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,s=Lt(e,r)||Lt(t,r);v(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",v(s)&&(e=r,this.replace())):(o=Lt(n,s),v(o)&&(o=s)),Ft(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Vt(e)==Vt(t)&&(this.$$parse(t),!0)}}function Gt(e,t,n){this.$$html5=!0,Wt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return e==Vt(r)?o=r:(s=Lt(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Kt(e){return function(){return this[e]}}function Yt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Jt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):w(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function a(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(e){throw u.url(i),u.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,f=r.baseHref(),p=r.url();if(t.enabled){if(!f&&t.requireBase)throw oo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=zt(p)+(f||"/"),c=i.history?Ht:Gt}else d=Vt(p),c=Wt;var h=qt(d);u=new c(d,h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Nr(e.target);"a"!==M(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var a=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");w(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=An(a.animVal).href),m.test(a)||!a||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(a,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),Bt(u.absUrl())!=Bt(p)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){return v(Lt(h,e))?void(s.location.href=e):(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Bt(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,a(i,!1,o)):(g=!1,l(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Bt(r.url()),t=Bt(u.absUrl()),o=r.state(),s=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&a(t,s,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Xt(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p,s=!1;try{s=!!o.apply}catch(e){}return s?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Zt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ao("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Qt(e){return e+""}function en(e,t){if(e){if(e.constructor===e)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw ao("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ao("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ao("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function tn(e,t){if(e){if(e.constructor===e)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===lo||e===uo||e===co)throw ao("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nn(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw ao("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function rn(e,t){return"undefined"!=typeof e?e:t}function on(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function sn(e,t){var n=e(t);return!n.$stateful}function an(e,t){var n,i;switch(e.type){case mo.Program:n=!0,r(e.body,function(e){an(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case mo.Literal:e.constant=!0,e.toWatch=[];break;case mo.UnaryExpression:an(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case mo.BinaryExpression:an(e.left,t),an(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case mo.LogicalExpression:an(e.left,t),an(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case mo.ConditionalExpression:an(e.test,t),an(e.alternate,t),an(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case mo.Identifier:e.constant=!1,e.toWatch=[e];break;case mo.MemberExpression:an(e.object,t),e.computed&&an(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case mo.CallExpression:n=!!e.filter&&sn(t,e.callee.name),i=[],r(e.arguments,function(e){an(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&sn(t,e.callee.name)?i:[e];break;case mo.AssignmentExpression:an(e.left,t),an(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case mo.ArrayExpression:n=!0,i=[],r(e.elements,function(e){an(e,t),n=n&&e.constant,
e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case mo.ObjectExpression:n=!0,i=[],r(e.properties,function(e){an(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case mo.ThisExpression:e.constant=!1,e.toWatch=[];break;case mo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function un(e){return e.type===mo.Identifier||e.type===mo.MemberExpression}function cn(e){if(1===e.body.length&&un(e.body[0].expression))return{type:mo.AssignmentExpression,left:e.body[0].expression,right:{type:mo.NGValueParameter},operator:"="}}function dn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===mo.Literal||e.body[0].expression.type===mo.ArrayExpression||e.body[0].expression.type===mo.ObjectExpression)}function fn(e){return e.constant}function pn(e,t){this.astBuilder=e,this.$filter=t}function hn(e,t){this.astBuilder=e,this.$filter=t}function mn(e){return"constructor"==e}function gn(e){return b(e.valueOf)?e.valueOf():vo.call(e)}function vn(){var e,t,n=me(),i=me(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(s){function a(e,t,r){var o,a,u;switch(r=r||I,typeof e){case"string":e=e.trim(),u=e;var g=r?i:n;if(o=g[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(a=!0,e=e.substring(2));var $=r?w:v,y=new ho($),x=new go(y,s,$);o=x.parse(e),o.constant?o.$$watchDelegate=h:a?o.$$watchDelegate=o.literal?f:d:o.inputs&&(o.$$watchDelegate=c),r&&(o=l(o)),g[u]=o}return m(o,t);case"function":return m(e,t);default:return m(p,t)}}function l(e){function t(t,n,r,i){var o=I;I=!0;try{return e(t,n,r,i)}finally{I=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=gn(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function c(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var a=u;return s=s[0],e.$watch(function(e){var t=s(e);return u(t,a)||(o=r(e,void 0,void 0,[t]),a=t&&gn(t)),o},t,n,i)}for(var l=[],c=[],d=0,f=s.length;d<f;d++)l[d]=u,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var a=s[n](e);(t||(t=!u(a,l[n])))&&(c[n]=a,l[n]=a&&gn(a))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function d(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,b(t)&&t.apply(this,arguments),$(e)&&r.$$postDigest(function(){$(o)&&i()})},n)}function f(e,t,n,i){function o(e){var t=!0;return r(e,function(e){$(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,r){a=e,b(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(a)&&s()})},n)}function h(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==f&&n!==d,o=i?function(n,i,o,s){var a=r&&s?s[0]:e(n,i,o,s);return t(a,n,i)}:function(n,r,i,o){var s=e(n,r,i,o),a=t(s,n,r);return $(s)?a:s};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=Jr().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:b(e)&&e,isIdentifierContinue:b(t)&&t},w={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:b(e)&&e,isIdentifierContinue:b(t)&&t},I=!1;return a.$$runningExpensiveChecks=function(){return I},a}]}function $n(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return In(function(t){e.$evalAsync(t)},t)}]}function wn(){this.$get=["$browser","$exceptionHandler",function(e,t){return In(function(t){e.defer(t)},t)}]}function In(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function s(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,s=i.length;o<s;++o){r=i[o][0],t=i[o][e.status];try{b(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),n(e)}}}function a(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){s(t)}))}function l(){this.promise=new i}function c(e){var t=new l,n=0,i=Wr(e)?[]:{};return r(e,function(e,r){n++,g(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var d=t("$q",TypeError),f=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(i.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&a(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,s.$$resolve(e))}function r(e){l||(l=!0,s.$$reject(e))}var i,s=this,l=!1;try{(w(e)||b(e))&&(i=e&&e.then),b(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,a(this.promise.$$state))}catch(e){r(e),n(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,s=r.length;o<s;o++){i=r[o][0],e=r[o][3];try{i.notify(b(e)?e(t):t)}catch(e){n(e)}}})}});var p=function(e){var t=new l;return t.reject(e),t.promise},h=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var r=null;try{b(n)&&(r=n())}catch(e){return h(e,!1)}return A(r)?r.then(function(){return h(e,t)},function(e){return h(e,!1)}):h(e,t)},g=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},$=g,I=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!b(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return I.prototype=i.prototype,I.defer=f,I.reject=p,I.when=g,I.resolve=$,I.all=c,I}function yn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function xn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=s(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),a=null,l=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function d(e){e.currentScope.$$destroyed=!0}function f(e){9===Ur&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=s(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(k.$$phase)throw o("inprog","{0} already in progress",k.$$phase);k.$$phase=e}function g(){k.$$phase=null}function $(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function I(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function x(){for(;T.length;)try{T.shift()()}catch(e){t(e)}l=null}function _(){null===l&&(l=c.defer(function(){k.$apply(x)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,l={fn:t,last:y,get:i,exp:r||e,eq:!!n};return a=null,b(t)||(l.fn=p),s||(s=o.$$watchers=[]),s.unshift(l),$(this,1),function(){j(s,l)>=0&&$(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,a)):t(o,i,a)}var i=new Array(e.length),o=new Array(e.length),s=[],a=this,l=!1,u=!0;if(!e.length){var c=!0;return a.$evalAsync(function(){c&&t(o,o,a)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=a.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,a.$evalAsync(n))});s.push(r)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,a,l;if(!v(o)){if(w(o))if(n(o)){s!==p&&(s=p,g=s.length=0,d++),t=o.length,g!==t&&(d++,s.length=g=t);for(var u=0;u<t;u++)l=s[u],a=o[u],i=l!==l&&a!==a,i||l===a||(d++,s[u]=a)}else{s!==h&&(s=h={},g=0,d++),t=0;for(r in o)Er.call(o,r)&&(t++,a=o[r],l=s[r],r in s?(i=l!==l&&a!==a,i||l===a||(d++,s[r]=a)):(g++,s[r]=a,d++));if(g>t){d++;for(r in s)Er.call(o,r)||(g--,delete s[r])}}else s!==o&&(s=o,d++);return d}}function i(){if(m?(m=!1,t(o,o,l)):t(o,a,l),c)if(w(o))if(n(o)){a=new Array(o.length);for(var e=0;e<o.length;e++)a[e]=o[e]}else{a={};for(var r in o)Er.call(o,r)&&(a[r]=o[r])}else a=o}r.$stateful=!0;var o,s,a,l=this,c=t.length>1,d=0,f=u(e,r),p=[],h={},m=!0,g=0;return this.$watch(f,i)},$digest:function(){var e,n,r,s,u,d,f,p,h,v,$,w,I=i,_=this,T=[];m("$digest"),c.$$checkUrlChange(),this===k&&null!==l&&(c.defer.cancel(l),x()),a=null;do{for(p=!1,v=_;C.length;){try{w=C.shift(),w.scope.$eval(w.expression,w.locals)}catch(e){t(e)}a=null}e:do{if(d=v.$$watchers)for(f=d.length;f--;)try{if(e=d[f])if(u=e.get,(n=u(v))===(r=e.last)||(e.eq?V(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===a){p=!1;break e}}else p=!0,a=e,e.last=e.eq?F(n,null):n,s=e.fn,s(n,r===y?n:r,v),I<5&&($=4-I,T[$]||(T[$]=[]),T[$].push({msg:b(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(e){t(e)}if(!(h=v.$$watchersCount&&v.$$childHead||v!==_&&v.$$nextSibling))for(;v!==_&&!(h=v.$$nextSibling);)v=v.$parent}while(v=h);if((p||C.length)&&!I--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,T)}while(p||C.length);for(g();S.length;)try{S.shift()()}catch(e){t(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===k&&c.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var t in this.$$listenerCount)I(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){k.$$phase||C.length||c.defer(function(){C.length&&k.$digest()}),C.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(e){t(e)}finally{try{k.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=u(e),_()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,I(i,1,e))}},$emit:function(e,n){var r,i,o,s=[],a=this,l=!1,u={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=B([u],arguments,1);do{for(r=a.$$listeners[e]||s,u.currentScope=a,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,c)}catch(e){t(e)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=r,o=r,s={name:e,targetScope:r,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return s;for(var a,l,u,c=B([s],arguments,1);i=o;){for(s.currentScope=i,a=i.$$listeners[e]||[],l=0,u=a.length;l<u;l++)if(a[l])try{a[l].apply(null,c)}catch(e){t(e)}else a.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return s.currentScope=null,s}};var k=new h,C=k.$$asyncQueue=[],S=k.$$postDigestQueue=[],T=k.$$applyAsyncQueue=[];return k}]}function _n(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=An(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function bn(e){if("self"===e)return e;if(y(e)){if(e.indexOf("***")>-1)throw $o("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Yr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw $o("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function kn(e){var t=[];return $(e)&&r(e,function(e){t.push(bn(e))}),t}function Cn(){this.SCE_CONTEXTS=wo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=kn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=kn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Pn(t):!!e.exec(t.href)}function i(n){var i,o,s=An(n.toString()),a=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],s)){a=!0;break}if(a)for(i=0,o=t.length;i<o;i++)if(r(t[i],s)){a=!1;break}return a}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw $o("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw $o("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function a(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===wo.RESOURCE_URL){if(i(t))return t;throw $o("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===wo.HTML)return u(t);throw $o("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw $o("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[wo.HTML]=o(c),d[wo.CSS]=o(c),d[wo.URL]=o(c),d[wo.JS]=o(c),d[wo.RESOURCE_URL]=o(d[wo.URL]),{trustAs:s,getTrusted:l,valueOf:a}}]}function Sn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Ur<8)throw $o("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=L(wo);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,s=i.getTrusted,a=i.trustAs;return r(wo,function(e,t){var n=Rr(t);i[ye("parse_as_"+n)]=function(t){return o(e,t)},i[ye("get_trusted_"+n)]=function(t){return s(e,t)},i[ye("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Tn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,s=!o&&e.history&&e.history.pushState,a=d((/android (\d+)/.exec(Rr((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,f=u.body&&u.body.style,p=!1,h=!1;if(f){for(var m in f)if(r=c.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in f&&"webkit"),p=!!("transition"in f||n+"Transition"in f),h=!!("animation"in f||n+"Animation"in f),!a||p&&h||(p=y(f.webkitTransition),h=y(f.webkitAnimation))}return{history:!(!s||a<4||l),hasEvent:function(e){if("input"===e&&Ur<=11)return!1;if(v(i[e])){var t=u.createElement("div");i[e]="on"+e in t}return i[e]},csp:Jr(),vendorPrefix:n,transitions:p,animations:h,android:a}}]}function En(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(s,a){function l(e){if(!a)throw Io("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,y(s)&&t.get(s)||(s=i.getTrustedResourceUrl(s));var c=n.defaults&&n.defaults.transformResponse;return Wr(c)?c=c.filter(function(e){return e!==kt}):c===kt&&(c=null),n.get(s,u({cache:t,transformResponse:c},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(s,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function Rn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=zr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Yr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else r.indexOf(t)!=-1&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",s="["+r[i]+"model"+o+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function On(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,a,l){b(o)||(l=a,a=o,o=p);var u,c=q(arguments,3),d=$(l)&&!l,f=(d?r:n).defer(),h=f.promise;return u=t.defer(function(){try{f.resolve(o.apply(null,c))}catch(e){f.reject(e),i(e)}finally{delete s[h.$$timeoutId]}d||e.$apply()},a),h.$$timeoutId=u,s[u]=f,h}var s={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in s)&&(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function An(e){var t=e;return Ur&&(yo.setAttribute("href",t),t=yo.href),yo.setAttribute("href",t),{href:yo.href,protocol:yo.protocol?yo.protocol.replace(/:$/,""):"",host:yo.host,search:yo.search?yo.search.replace(/^\?/,""):"",hash:yo.hash?yo.hash.replace(/^#/,""):"",hostname:yo.hostname,port:yo.port,pathname:"/"===yo.pathname.charAt(0)?yo.pathname:"/"+yo.pathname}}function Pn(e){var t=y(e)?An(e):e;return t.protocol===xo.protocol&&t.host===xo.host}function Un(){this.$get=m(e)}function Nn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,s,a,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},s=0;s<e.length;s++)o=e[s],a=o.indexOf("="),a>0&&(l=t(o.substring(0,a)),v(r[l])&&(r[l]=t(o.substring(a+1))));return r}}function Dn(){this.$get=Nn}function Mn(e){function t(i,o){if(w(i)){var s={};return r(i,function(e,n){s[n]=t(n,e)}),s}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Bn),t("date",rr),t("filter",jn),t("json",ir),t("limitTo",or),t("lowercase",Eo),t("number",qn),t("orderBy",sr),t("uppercase",Ro)}function jn(){return function(e,r,i){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var o,s,a=Vn(r);switch(a){case"function":o=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Fn(r,i,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function Fn(e,t,n){var r,i=w(e)&&"$"in e;return t===!0?t=V:b(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!(w(t)||w(e)&&!g(e))&&(e=Rr(""+e),t=Rr(""+t),e.indexOf(t)!==-1))}),r=function(r){return i&&!w(r)?Ln(r,e.$,t,!1):Ln(r,e,t,n)}}function Ln(e,t,n,r,i){var o=Vn(e),s=Vn(t);if("string"===s&&"!"===t.charAt(0))return!Ln(e,t.substring(1),n,r);if(Wr(e))return e.some(function(e){return Ln(e,t,n,r)});switch(o){case"object":var a;if(r){for(a in e)if("$"!==a.charAt(0)&&Ln(e[a],t,n,!0))return!0;return!i&&Ln(e,t,n,!1)}if("object"===s){for(a in t){var l=t[a];if(!b(l)&&!v(l)){var u="$"===a,c=u?e:e[a];if(!Ln(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Vn(e){return null===e?"null":typeof e}function Bn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Wn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Wn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function zn(e){var t,n,r,i,o,s=0;for((n=e.indexOf(bo))>-1&&(e=e.replace(bo,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==ko;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==ko;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>_o&&(t=t.splice(0,_o-1),s=n-1,n=1),{d:t,e:s,i:n}}function Hn(e,t,n,r){var i=e.d,o=i.length-e.i;t=v(t)?Math.min(Math.max(n,o),r):+t;var s=t+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var l=s;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(var c=0;c>s;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function Wn(e,t,n,r,i){if(!y(e)&&!x(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,l=Math.abs(e)+"",u="";if(s)u="";else{o=zn(l),Hn(o,i,t.minFrac,t.maxFrac);var c=o.d,d=o.i,f=o.e,p=[];for(a=c.reduce(function(e,t){return e&&!t},!0);d<0;)c.unshift(0),d++;d>0?p=c.splice(d):(p=c,c=[0]);var h=[];for(c.length>=t.lgSize&&h.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)h.unshift(c.splice(-t.gSize).join(""));c.length&&h.unshift(c.join("")),u=h.join(n),p.length&&(u+=r+p.join("")),f&&(u+="e+"+f)}return e<0&&!a?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Gn(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=ko+e;return n&&(e=e.substr(e.length-t)),i+e}function Kn(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&n==-12&&(s=12),Gn(s,t,r,i)}}function Yn(e,t,n){return function(r,i){var o=r["get"+e](),s=(n?"STANDALONE":"")+(t?"SHORT":""),a=Or(s+e);return i[a][o]}}function Jn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Gn(Math[r>0?"floor":"ceil"](r/60),2)+Gn(Math.abs(r%60),2)}function Xn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Zn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Qn(e){return function(t){var n=Xn(t.getFullYear()),r=Zn(t),i=+r-+n,o=1+Math.round(i/6048e5);return Gn(o,e)}}function er(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function tr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function nr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function rr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,s=t[8]?r.setUTCFullYear:r.setFullYear,a=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),s.call(r,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-i,u=d(t[5]||0)-o,c=d(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(r,l,u,c,f),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var s,a,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=To.test(n)?d(n):t(n)),x(n)&&(n=new Date(n)),!_(n)||!isFinite(n.getTime()))return n;for(;i;)a=So.exec(i),a?(u=B(u,a,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return o&&(c=K(o,c),n=J(n,o,!0)),r(u,function(t){s=Co[t],l+=s?s(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ir(){return function(e,t){return v(t)&&(t=2),W(e,t)}}function or(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):d(t),isNaN(t)?e:(x(e)&&(e=e.toString()),Wr(e)||y(e)?(n=!n||isNaN(n)?0:d(n),n=n<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function sr(e){function r(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=h;if(b(t))i=t;else if(y(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),i(e))?e:g(e)&&(e=e.toString(),i(e))?e:t}function s(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=o(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,i,o){function l(e,t){return{value:e,predicateValues:c.map(function(n){return s(n.get(e),t)})}}function u(e,t){for(var n=0,r=0,i=c.length;r<i&&!(n=a(e.predicateValues[r],t.predicateValues[r])*c[r].descending);++r);return n}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Wr(i)||(i=[i]),0===i.length&&(i=["+"]);var c=r(i,o);c.push({get:function(){return{}},descending:o?-1:1});var d=Array.prototype.map.call(e,l);return d.sort(u),e=d.map(function(e){return e.value})}}function ar(e){return b(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function lr(e,t){e.$name=t}function ur(e,t,n,i,o){var s=this,a=[];s.$error={},s.$$success={},s.$pending=void 0,s.$name=o(t.name||t.ngForm||"")(n),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Po,s.$rollbackViewValue=function(){r(a,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){r(a,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),a.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],r(s.$pending,function(t,n){s.$setValidity(n,null,e)}),r(s.$error,function(t,n){s.$setValidity(n,null,e)}),r(s.$$success,function(t,n){s.$setValidity(n,null,e)}),j(a,e),e.$$parentForm=Po},br({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(j(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,vs),i.addClass(e,$s),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,vs,$s+" "+Uo),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,r(a,function(e){e.$setPristine()})},s.$setUntouched=function(){r(a,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Uo),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function cr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function dr(e,t,n,r,i,o){fr(e,t,n,r,i,o),cr(r)}function fr(e,t,n,r,i,o){var s=Rr(t[0].type);if(!i.android){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionend",function(){a=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!a){var i=t.val(),u=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=Kr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Ko[s]&&r.$$hasNativeValidators&&s===n.type&&t.on(Go,function(e){if(!l){var t=this[Tr],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function pr(e,t){if(_(e))return e;if(y(e)){zo.lastIndex=0;var n=zo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,l=0,u=Xn(r),c=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,s,a,l)}}return NaN}function hr(e,t){return function(n,i){var o,s;if(_(n))return n;if(y(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),jo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function mr(e,t,n,r){return function(i,o,s,a,l,u,c){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return $(e)&&!_(e)?n(e)||void 0:e}gr(i,o,s,a),fr(i,o,s,a,l,u);var p,h=a&&a.$options&&a.$options.timezone;if(a.$$parserName=e,a.$parsers.push(function(e){if(a.$isEmpty(e))return null;if(t.test(e)){var r=n(e,p);return h&&(r=J(r,h)),r}}),a.$formatters.push(function(e){if(e&&!_(e))throw bs("datefmt","Expected `{0}` to be a date",e);return d(e)?(p=e,p&&h&&(p=J(p,h,!0)),c("date")(e,r,h)):(p=null,"")}),$(s.min)||s.ngMin){var m;a.$validators.min=function(e){return!d(e)||v(m)||n(e)>=m},s.$observe("min",function(e){m=f(e),a.$validate()})}if($(s.max)||s.ngMax){var g;a.$validators.max=function(e){return!d(e)||v(g)||n(e)<=g},s.$observe("max",function(e){g=f(e),a.$validate()})}}}function gr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=w(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(Tr)||{};return n.badInput||n.typeMismatch?void 0:e})}function vr(e,t,n,r,i,o){if(gr(e,t,n,r),fr(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Vo.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!x(e))throw bs("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),$(n.min)||n.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||v(s)||e>=s},n.$observe("min",function(e){
$(e)&&!x(e)&&(e=parseFloat(e,10)),s=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}if($(n.max)||n.ngMax){var a;r.$validators.max=function(e){return r.$isEmpty(e)||v(a)||e<=a},n.$observe("max",function(e){$(e)&&!x(e)&&(e=parseFloat(e,10)),a=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function $r(e,t,n,r,i,o){fr(e,t,n,r,i,o),cr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Fo.test(n)}}function wr(e,t,n,r,i,o){fr(e,t,n,r,i,o),cr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Lo.test(n)}}function Ir(e,t,n,r){v(n.name)&&t.attr("name",s());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function yr(e,t,n,r,i){var o;if($(r)){if(o=e(r),!o.constant)throw bs("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function xr(e,t,n,r,i,o,s,a){var l=yr(a,e,"ngTrueValue",n.ngTrueValue,!0),u=yr(a,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return V(e,l)}),r.$parsers.push(function(e){return e?l:u})}function _r(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return Wr(e)?(r(e,function(e){t=t.concat(o(e))}),t):y(e)?e.split(" "):w(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(s,a,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=a.data("$classCounts")||me(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function f(e,t){var r=i(t,e),o=i(e,t);r=d(r,1),o=d(o,-1),r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}function p(e){if(t===!0||s.$index%2===t){var n=o(e||[]);if(h){if(!V(e,h)){var r=o(h);f(r,n)}}else u(n)}h=Wr(e)?e.map(function(e){return L(e)}):L(e)}var h;s.$watch(l[e],p,!0),l.$observe("class",function(t){p(s.$eval(l[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var a=o(s.$eval(l[e]));i===t?u(a):c(a)}})}}}]}function br(e){function t(e,t,a){v(t)?n("$pending",e,a):r("$pending",e,a),O(t)?t?(c(s.$error,e,a),u(s.$$success,e,a)):(u(s.$error,e,a),c(s.$$success,e,a)):(c(s.$error,e,a),c(s.$$success,e,a)),s.$pending?(i(ys,!0),s.$valid=s.$invalid=void 0,o("",null)):(i(ys,!1),s.$valid=kr(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var l;l=s.$pending&&s.$pending[e]?void 0:!s.$error[e]&&(!!s.$$success[e]||null),o(e,l),s.$$parentForm.$setValidity(e,l,s)}function n(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function r(e,t,n){s[e]&&c(s[e],t,n),kr(s[e])&&(s[e]=void 0)}function i(e,t){t&&!l[e]?(d.addClass(a,e),l[e]=!0):!t&&l[e]&&(d.removeClass(a,e),l[e]=!1)}function o(e,t){e=e?"-"+le(e,"-"):"",i(ms+e,t===!0),i(gs+e,t===!1)}var s=e.ctrl,a=e.$element,l={},u=e.set,c=e.unset,d=e.$animate;l[gs]=!(l[ms]=a.hasClass(ms)),s.$setValidity=t}function kr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Cr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Sr=/^\/(.+)\/([a-z]*)$/,Tr="validity",Er=Object.prototype.hasOwnProperty,Rr=function(e){return y(e)?e.toLowerCase():e},Or=function(e){return y(e)?e.toUpperCase():e},Ar=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Pr=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Rr=Ar,Or=Pr);var Ur,Nr,Dr,Mr,jr=[].slice,Fr=[].splice,Lr=[].push,Vr=Object.prototype.toString,Br=Object.getPrototypeOf,qr=t("ng"),zr=e.angular||(e.angular={}),Hr=0;Ur=e.document.documentMode,p.$inject=[],h.$inject=[];var Wr=Array.isArray,Gr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Kr=function(e){return y(e)?e.trim():e},Yr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Jr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!$(Jr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Jr.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else Jr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Jr.rules},Xr=function(){if($(Xr.name_))return Xr.name_;var t,n,r,i,o=Qr.length;for(n=0;n<o;++n)if(r=Qr[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Xr.name_=i},Zr=/:/g,Qr=["ng-","data-ng-","ng:","x-ng-"],ei=/[A-Z]/g,ti=!1,ni=1,ri=2,ii=3,oi=8,si=9,ai=11,li={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Ee.expando="ng339";var ui=Ee.cache={},ci=1,di=function(e,t,n){e.addEventListener(t,n,!1)},fi=function(e,t,n){e.removeEventListener(t,n,!1)};Ee._data=function(e){return this.cache[e[this.expando]]||{}};var pi=/([\:\-\_]+(.))/g,hi=/^moz([A-Z])/,mi={mouseleave:"mouseout",mouseenter:"mouseover"},gi=t("jqLite"),vi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,$i=/<|&#?\w+;/,wi=/<([\w:-]+)/,Ii=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,yi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yi.optgroup=yi.option,yi.tbody=yi.tfoot=yi.colgroup=yi.caption=yi.thead,yi.th=yi.td;var xi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},_i=Ee.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Ee(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Nr(e>=0?this[e]:this[this.length+e])},length:0,push:Lr,sort:[].sort,splice:[].splice},bi={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){bi[Rr(e)]=e});var ki={};r("input,select,option,textarea,button,form,details".split(","),function(e){ki[e]=!0});var Ci={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Ne,removeData:Pe,hasData:be,cleanData:ke},function(e,t){Ee[t]=e}),r({data:Ne,inheritedData:Ve,scope:function(e){return Nr.data(e,"$scope")||Ve(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Nr.data(e,"$isolateScope")||Nr.data(e,"$isolateScopeNoTemplate")},controller:Le,injector:function(e){return Ve(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:De,css:function(e,t,n){return t=ye(t),$(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==ii&&r!==ri&&r!==oi){var i=Rr(t);if(bi[i]){if(!$(n))return e[t]||(e.attributes.getNamedItem(t)||p).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if($(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===ni||n===ii?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===M(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Oe(e,!0),void(e.innerHTML=t))},empty:Be},function(e,t){Ee.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Be&&v(2==e.length&&e!==De&&e!==Le?t:n)){if(w(t)){for(r=0;r<o;r++)if(e===Ne)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=v(s)?Math.min(o,1):o,l=0;l<a;l++){var u=e(this[l],t,n);s=s?s+u:u}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}}),r({removeData:Pe,on:function(e,t,n,r){if($(r))throw gi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(_e(e)){var i=Ue(e,!0),o=i.events,s=i.handle;s||(s=i.handle=Ge(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length,u=function(t,r,i){var a=o[t];a||(a=o[t]=[],a.specialHandlerWrapper=r,"$destroy"===t||i||di(e,t,s)),a.push(n)};l--;)t=a[l],mi[t]?(u(mi[t],Ye),u(t,void 0,!0)):u(t)}},off:Ae,one:function(e,t,n){e=Nr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Oe(e),r(new Ee(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===ni&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ni||n===ai){t=new Ee(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===ni){var n=e.firstChild;r(new Ee(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Te(e,Nr(t).eq(0).clone()[0])},remove:qe,detach:function(e){qe(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Ee(t);for(var i=0,o=t.length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:je,removeClass:Me,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!De(e,t)),(r?je:Me)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ai?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Re,triggerHandler:function(e,t,n){var i,o,s,a=t.type||t,l=Ue(e),c=l&&l.events,d=c&&c[a];d&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:a,target:e},t.type&&(i=u(i,t)),o=L(d),s=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,s)}))}},function(e,t){Ee.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)v(i)?(i=e(this[o],t,n,r),$(i)&&(i=Nr(i))):Fe(i,e(this[o],t,n,r));return $(i)?i:this},Ee.prototype.bind=Ee.prototype.on,Ee.prototype.unbind=Ee.prototype.off}),Ze.prototype={put:function(e,t){this[Xe(e,this.nextUid)]=t},get:function(e){return this[Xe(e,this.nextUid)]},remove:function(e){var t=this[e=Xe(e,this.nextUid)];return delete this[e],t}};var Si=[function(){this.$get=[function(){return Ze}]}],Ti=/^([^\(]+?)=>/,Ei=/^[^\(]*\(\s*([^\)]*)\)/m,Ri=/,/,Oi=/^\s*(_?)(\S+?)\1\s*$/,Ai=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=t("$injector");nt.$$annotate=tt;var Ui=t("$animate"),Ni=1,Di="ng-animate",Mi=function(){this.$get=p},ji=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=y(t)?t.split(" "):Wr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function s(){r(t,function(t){var n=e.get(t);if(n){var i=st(t.attr("class")),o="",s="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:s+=(s.length?" ":"")+t)}),r(t,function(e){o&&je(e,o),s&&Me(e,s)}),e.remove(t)}}),t.length=0}function a(n,r,a){var l=e.get(n)||{},u=o(l,r,!0),c=o(l,a,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&i.$$postDigest(s))}return{enabled:p,on:p,off:p,pin:p,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&a(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Fi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ui("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Di+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ui("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Di)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ot(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Nr(r),i=i&&Nr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",at(o))},move:function(n,r,i,o){return r=r&&Nr(r),i=i&&Nr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",at(o))},leave:function(t,n){return e.push(t,"leave",at(n),function(){t.remove()})},addClass:function(t,n,r){return r=at(r),r.addClass=it(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=at(r),r.removeClass=it(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=at(i),i.addClass=it(i.addClass,n),i.removeClass=it(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=at(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=it(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Li=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Vi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function s(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var a=0,l=1,u=2;return s.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},s.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},s.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===a&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},s}]},Bi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),a||l.complete(),a=!0}),l}function o(){s.addClass&&(t.addClass(s.addClass),s.addClass=null),s.removeClass&&(t.removeClass(s.removeClass),s.removeClass=null),s.to&&(t.css(s.to),s.to=null)}var s=r||{};s.$$prepared||(s=F(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(t.css(s.from),s.from=null);var a,l=new n;return{start:i,end:i}}}]},qi=t("$compile"),zi=new ft;pt.$inject=["$provide","$$sanitizeUriProvider"],ht.prototype.isFirstChange=function(){return this.previousValue===zi};var Hi=/^((?:x|data)[\:\-_])/i,Wi=t("$controller"),Gi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ki=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Nr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Yi="application/json",Ji={"Content-Type":Yi+";charset=utf-8"},Xi=/^\[|^\{(?!\{)/,Zi={"[":/]$/,"{":/}$/},Qi=/^\)\]\}',?\n/,eo=t("$http"),to=function(e){return function(){throw eo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},no=zr.$interpolateMinErr=t("$interpolate");no.throwNoconcat=function(e){throw no("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},no.interr=function(e,t){return no("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ro=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,io={http:80,https:443,ftp:21},oo=t("$location"),so={$$html5:!1,$$replace:!1,absUrl:Kt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ro.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Kt("$$protocol"),host:Kt("$$host"),port:Kt("$$port"),path:Yt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||x(e))e=e.toString(),this.$$search=Q(e);else{if(!w(e))throw oo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Yt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Gt,Wt,Ht],function(e){e.prototype=Object.create(so),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ht||!this.$$html5)throw oo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var ao=t("$parse"),lo=Function.prototype.call,uo=Function.prototype.apply,co=Function.prototype.bind,fo=me();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){fo[e]=!0});var po={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ho=function(e){this.options=e};ho.prototype={constructor:ho,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=fo[t],o=fo[n],s=fo[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ao("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Rr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=po[o];n+=a||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var mo=function(e,t){this.lexer=e,this.options=t};mo.Program="Program",mo.ExpressionStatement="ExpressionStatement",mo.AssignmentExpression="AssignmentExpression",mo.ConditionalExpression="ConditionalExpression",mo.LogicalExpression="LogicalExpression",mo.BinaryExpression="BinaryExpression",mo.UnaryExpression="UnaryExpression",mo.CallExpression="CallExpression",mo.MemberExpression="MemberExpression",mo.Identifier="Identifier",mo.Literal="Literal",mo.ArrayExpression="ArrayExpression",mo.Property="Property",mo.ObjectExpression="ObjectExpression",mo.ThisExpression="ThisExpression",mo.LocalsExpression="LocalsExpression",mo.NGValueParameter="NGValueParameter",mo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:mo.Program,body:e}},expressionStatement:function(){return{type:mo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:mo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:mo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:mo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:mo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:mo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:mo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:mo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:mo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:mo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:mo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:mo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:mo.Identifier,name:e.text}},constant:function(){return{type:mo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:mo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:mo.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:mo.ObjectExpression,properties:t}},throwError:function(e,t){throw ao("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:mo.ThisExpression},$locals:{type:mo.LocalsExpression}}},pn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},an(i,n.$filter);var o,s="";if(this.stage="assign",o=cn(i)){this.state.computing="assign";var a=this.nextId();this.recurse(o,a),this.return_(a),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=ln(i.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Zt,en,tn,Qt,nn,rn,on,e);return this.state=this.stage=void 0,c.literal=dn(i),c.constant=fn(i),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,s){var a,l,u,c,d=this;if(i=i||p,!s&&$(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case mo.Program:r(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case mo.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case mo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case mo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(a,l):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(l,0):"("+a+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case mo.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case mo.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case mo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Zt(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){o&&1!==o&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||mn(e.name))&&d.addEnsureSafeObject(t),i(t);break;case mo.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,function(){d.if_(d.notNull(a),function(){o&&1!==o&&d.addEnsureSafeAssignContext(a),e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),d.addEnsureSafeMemberName(l),o&&1!==o&&d.if_(d.not(d.computedMember(a,l)),d.lazyAssign(d.computedMember(a,l),"{}")),c=d.ensureSafeObject(d.computedMember(a,l)),d.assign(t,c),n&&(n.computed=!0,n.name=l)):(Zt(e.property.name),o&&1!==o&&d.if_(d.not(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),c=d.nonComputedMember(a,e.property.name),(d.state.expensiveChecks||mn(e.property.name))&&(c=d.ensureSafeObject(c)),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!o);break;case mo.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",d.assign(t,c),i(t)):(l=d.nextId(),a={},u=[],d.recurse(e.callee,l,a,function(){d.if_(d.notNull(l),function(){
d.addEnsureSafeFunction(l),r(e.arguments,function(e){d.recurse(e,d.nextId(),void 0,function(e){u.push(d.ensureSafeObject(e))})}),a.name?(d.state.expensiveChecks||d.addEnsureSafeObject(a.context),c=d.member(a.context,a.name,a.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=d.ensureSafeObject(c),d.assign(t,c)},function(){d.assign(t,"undefined")}),i(t)}));break;case mo.AssignmentExpression:if(l=this.nextId(),a={},!un(e.left))throw ao("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(e.right,l),d.addEnsureSafeObject(d.member(a.context,a.name,a.computed)),d.addEnsureSafeAssignContext(a.context),c=d.member(a.context,a.name,a.computed)+e.operator+l,d.assign(t,c),i(t||c)})},1);break;case mo.ArrayExpression:u=[],r(e.elements,function(e){d.recurse(e,d.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(c);break;case mo.ObjectExpression:u=[],r(e.properties,function(e){d.recurse(e.value,d.nextId(),void 0,function(t){u.push(d.escape(e.key.type===mo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(t,c),i(c);break;case mo.ThisExpression:this.assign(t,"s"),i("s");break;case mo.LocalsExpression:this.assign(t,"l"),i("l");break;case mo.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(y(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw ao("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},hn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,an(i,n.$filter);var o,s;(o=cn(i))&&(s=this.recurse(o));var a,l=ln(i.body);l&&(a=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,a.push(r),e.watchId=t}));var u=[];r(i.body,function(e){u.push(n.recurse(e.expression))});var c=0===i.body.length?p:1===i.body.length?u[0]:function(e,t){var n;return r(u,function(r){n=r(e,t)}),n};return s&&(c.assign=function(e,t,n){return s(e,n,t)}),a&&(c.inputs=a),c.literal=dn(i),c.constant=fn(i),c},recurse:function(e,t,n){var i,o,s,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case mo.Literal:return this.value(e.value,t);case mo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case mo.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case mo.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case mo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case mo.Identifier:return Zt(e.name,a.expression),a.identifier(e.name,a.expensiveChecks||mn(e.name),t,n,a.expression);case mo.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(Zt(e.property.name,a.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,a.expression):this.nonComputedMember(i,o,a.expensiveChecks,t,n,a.expression);case mo.CallExpression:return s=[],r(e.arguments,function(e){s.push(a.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var a=[],l=0;l<s.length;++l)a.push(s[l](e,n,r,i));var u=o.apply(void 0,a,i);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,i){var l,u=o(e,n,r,i);if(null!=u.value){en(u.context,a.expression),tn(u.value,a.expression);for(var c=[],d=0;d<s.length;++d)c.push(en(s[d](e,n,r,i),a.expression));l=en(u.value.apply(u.context,c),a.expression)}return t?{value:l}:l};case mo.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,s){var l=i(e,n,r,s),u=o(e,n,r,s);return en(l.value,a.expression),nn(l.context),l.context[l.name]=u,t?{value:u}:u};case mo.ArrayExpression:return s=[],r(e.elements,function(e){s.push(a.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case mo.ObjectExpression:return s=[],r(e.properties,function(e){s.push({key:e.key.type===mo.Identifier?e.key.name:""+e.key.value,value:a.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case mo.ThisExpression:return function(e){return t?{value:e}:e};case mo.LocalsExpression:return function(e,n){return t?{value:n}:n};case mo.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=$(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=$(s)?-s:0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),l=t(r,i,o,s),u=on(a,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),l=t(r,i,o,s),u=($(a)?a:0)-($(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);return n?{value:a}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var l=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,s,a,l){var u=s&&e in s?s:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&en(c,i),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,r,i){return function(o,s,a,l){var u,c,d=e(o,s,a,l);return null!=d&&(u=t(o,s,a,l),u=Qt(u),Zt(u,i),r&&1!==r&&(nn(d),d&&!d[u]&&(d[u]={})),c=d[u],en(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,n,r,i,o){return function(s,a,l,u){var c=e(s,a,l,u);i&&1!==i&&(nn(c),c&&!c[t]&&(c[t]={}));var d=null!=c?c[t]:void 0;return(n||mn(t))&&en(d,o),r?{context:c,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var go=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new mo(e,n),this.astCompiler=n.csp?new hn(this.ast,t):new pn(this.ast,t)};go.prototype={constructor:go,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var vo=Object.prototype.valueOf,$o=t("$sce"),wo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Io=t("$compile"),yo=e.document.createElement("a"),xo=An(e.location.href);Nn.$inject=["$document"],Mn.$inject=["$provide"];var _o=22,bo=".",ko="0";Bn.$inject=["$locale"],qn.$inject=["$locale"];var Co={yyyy:Kn("FullYear",4,0,!1,!0),yy:Kn("FullYear",2,0,!0,!0),y:Kn("FullYear",1,0,!1,!0),MMMM:Yn("Month"),MMM:Yn("Month",!0),MM:Kn("Month",2,1),M:Kn("Month",1,1),LLLL:Yn("Month",!1,!0),dd:Kn("Date",2),d:Kn("Date",1),HH:Kn("Hours",2),H:Kn("Hours",1),hh:Kn("Hours",2,-12),h:Kn("Hours",1,-12),mm:Kn("Minutes",2),m:Kn("Minutes",1),ss:Kn("Seconds",2),s:Kn("Seconds",1),sss:Kn("Milliseconds",3),EEEE:Yn("Day"),EEE:Yn("Day",!0),a:er,Z:Jn,ww:Qn(2),w:Qn(1),G:tr,GG:tr,GGG:tr,GGGG:nr},So=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,To=/^\-?\d+$/;rr.$inject=["$locale"];var Eo=m(Rr),Ro=m(Or);sr.$inject=["$parse"];var Oo=m({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Vr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ao={};r(bi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=mt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Ao[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Ci,function(e,t){Ao[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Sr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=mt("ng-"+e);Ao[t]=function(){return{priority:99,link:function(n,r,i){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Vr.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(s,t),void(Ur&&o&&r.prop(o,i[s]))):void("href"===e&&i.$set(s,null))})}}}});var Po={$addControl:p,$$renameControl:lr,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Uo="ng-submitted";ur.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var No=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||p}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ur,compile:function(n,i){n.addClass(vs).addClass(ms);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,s){var a=s[0];if(!("action"in i)){var l=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};di(n[0],"submit",l),n.on("$destroy",function(){t(function(){fi(n[0],"submit",l)},0,!1)})}var c=s[1]||a.$$parentForm;c.$addControl(a);var d=o?r(a.$name):p;o&&(d(e,a),i.$observe(o,function(t){a.$name!==t&&(d(e,void 0),a.$$parentForm.$$renameControl(a,t),(d=r(a.$name))(e,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),d(e,void 0),u(a,Po)})}}}};return i}]},Do=No(),Mo=No(!0),jo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Fo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Vo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Bo=/^(\d{4,})-(\d{2})-(\d{2})$/,qo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zo=/^(\d{4,})-W(\d\d)$/,Ho=/^(\d{4,})-(\d\d)$/,Wo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go="keydown wheel mousedown",Ko=me();r("date,datetime-local,month,time,week".split(","),function(e){Ko[e]=!0});var Yo={text:dr,date:mr("date",Bo,hr(Bo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mr("datetimelocal",qo,hr(qo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mr("time",Wo,hr(Wo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mr("week",zo,pr,"yyyy-Www"),month:mr("month",Ho,hr(Ho,["yyyy","MM"]),"yyyy-MM"),number:vr,url:$r,email:wr,radio:Ir,checkbox:xr,hidden:p,button:p,submit:p,reset:p,file:p},Jo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(Yo[Rr(s.type)]||Yo.text)(i,o,s,a[0],t,e,n,r)}}}}],Xo=/^(true|false|\d+)$/,Zo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Xo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Qo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],es=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],ts=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],ns=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),rs=_r("",!0),is=_r("Odd",0),os=_r("Even",1),ss=ar({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),as=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ls={},us={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=mt("ng-"+e);ls[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){s(t,{$event:n})};us[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var cs=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,l,u;n.$watch(i.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=he(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],ds=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:zr.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,l,u,c){var d,f,p,h=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};r.$watch(o,function(o){var l=function(){!$(a)||a&&!r.$eval(a)||t()},f=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&f===h){var t=r.$new();u.template=e;var a=c(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,p=a,d.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){r.$$destroyed||f===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],fs=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Vr.call(r[0]).match(/SVG/)?(r.empty(),void t(Ce(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],ps=ar({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),hs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",s="false"!==n.ngTrim,a=s?Kr(o):o,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(a),function(e){e&&t.push(s?Kr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){if(Wr(e))return e.join(o)}),i.$isEmpty=function(e){return!e||!e.length}}}},ms="ng-valid",gs="ng-invalid",vs="ng-pristine",$s="ng-dirty",ws="ng-untouched",Is="ng-touched",ys="ng-pending",xs="ng-empty",_s="ng-not-empty",bs=t("ngModel"),ks=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,s,a,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Po;var d,f=o(n.ngModel),h=f.assign,m=f,g=h,w=null,I=this;this.$$setOptions=function(e){if(I.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");m=function(e){var n=f(e);return b(n)&&(n=t(e)),n},g=function(e,t){b(f(e))?r(e,{$$$p:t}):h(e,t)}}else if(!f.assign)throw bs("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,X(i))},this.$render=p,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){I.$isEmpty(e)?(s.removeClass(i,_s),s.addClass(i,xs)):(s.removeClass(i,xs),s.addClass(i,_s))};var y=0;br({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){I.$dirty=!1,I.$pristine=!0,s.removeClass(i,$s),s.addClass(i,vs)},this.$setDirty=function(){I.$dirty=!0,I.$pristine=!1,s.removeClass(i,vs),s.addClass(i,$s),I.$$parentForm.$setDirty()},this.$setUntouched=function(){I.$touched=!1,I.$untouched=!0,s.setClass(i,ws,Is)},this.$setTouched=function(){I.$touched=!0,I.$untouched=!1,s.setClass(i,Is,ws)},this.$rollbackViewValue=function(){a.cancel(w),I.$viewValue=I.$$lastCommittedViewValue,I.$render()},this.$validate=function(){if(!x(I.$modelValue)||!isNaN(I.$modelValue)){var e=I.$$lastCommittedViewValue,t=I.$$rawModelValue,n=I.$valid,r=I.$modelValue,i=I.$options&&I.$options.allowInvalid;I.$$runValidators(t,e,function(e){i||n===e||(I.$modelValue=e?t:void 0,I.$modelValue!==r&&I.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=I.$$parserName||"parse";return v(d)?(a(e,null),!0):(d||(r(I.$validators,function(e,t){a(t,null)}),r(I.$asyncValidators,function(e,t){a(t,null)})),a(e,d),d)}function o(){var n=!0;return r(I.$validators,function(r,i){var o=r(e,t);n=n&&o,a(i,o)}),!!n||(r(I.$asyncValidators,function(e,t){a(t,null)}),!1)}function s(){var n=[],i=!0;r(I.$asyncValidators,function(r,o){var s=r(e,t);if(!A(s))throw bs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?u.all(n).then(function(){l(i)},p):l(!0)}function a(e,t){c===y&&I.$setValidity(e,t)}function l(e){c===y&&n(e)}y++;var c=y;return i()&&o()?void s():void l(!1)},this.$commitViewValue=function(){var e=I.$viewValue;a.cancel(w),(I.$$lastCommittedViewValue!==e||""===e&&I.$$hasNativeValidators)&&(I.$$updateEmptyClasses(e),I.$$lastCommittedViewValue=e,I.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){I.$modelValue!==o&&I.$$writeModelToScope()}var n=I.$$lastCommittedViewValue,r=n;if(d=!v(r)||void 0)for(var i=0;i<I.$parsers.length;i++)if(r=I.$parsers[i](r),v(r)){d=!1;break}x(I.$modelValue)&&isNaN(I.$modelValue)&&(I.$modelValue=m(e));var o=I.$modelValue,s=I.$options&&I.$options.allowInvalid;I.$$rawModelValue=r,s&&(I.$modelValue=r,t()),I.$$runValidators(r,I.$$lastCommittedViewValue,function(e){s||(I.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){g(e,I.$modelValue),r(I.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){I.$viewValue=e,I.$options&&!I.$options.updateOnDefault||I.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=I.$options;i&&$(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[t])?r=n[t]:x(n.default)&&(r=n.default)),a.cancel(w),r?w=a(function(){I.$commitViewValue()},r):l.$$phase?I.$commitViewValue():e.$apply(function(){I.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==I.$modelValue&&(I.$modelValue===I.$modelValue||t===t)){I.$modelValue=I.$$rawModelValue=t,d=void 0;for(var n=I.$formatters,r=n.length,i=t;r--;)i=n[r](i);I.$viewValue!==i&&(I.$$updateEmptyClasses(i),I.$viewValue=I.$$lastCommittedViewValue=i,I.$render(),I.$$runValidators(t,i,p))}return t})}],Cs=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ks,priority:1,compile:function(t){return t.addClass(vs).addClass(ws).addClass(ms),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Ss=/(\s+|^)default(\s+|$)/,Ts=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),$(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Kr(this.$options.updateOn.replace(Ss,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Es=ar({terminal:!0,priority:1e3}),Rs=t("ngOptions"),Os=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,As=["$compile","$document","$parse",function(t,i,o){function s(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function s(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var a=e.match(Os);if(!a)throw Rs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,X(t));var l=a[5]||a[7],u=a[6],c=/ as /.test(a[0])&&a[1],d=a[9],f=o(a[2]?a[1]:l),p=c&&o(c),h=p||f,m=d&&o(d),g=d?function(e,t){return m(r,t)}:function(e){return Xe(e)},v=function(e,t){return g(e,_(e,t))},$=o(a[2]||a[1]),w=o(a[3]||""),I=o(a[4]||""),y=o(a[8]),x={},_=u?function(e,t){return x[u]=t,x[l]=e,x}:function(e){return x[l]=e,x};return{trackBy:d,getTrackByValue:v,getWatchables:o(y,function(e){var t=[];e=e||[];for(var n=s(e),i=n.length,o=0;o<i;o++){var l=e===n?o:n[o],u=e[l],c=_(u,l),d=g(u,c);if(t.push(d),a[2]||a[1]){var f=$(r,c);t.push(f)}if(a[4]){var p=I(r,c);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],o=s(n),a=o.length,l=0;l<a;l++){var u=n===o?l:o[l],c=n[u],f=_(c,u),p=h(r,f),m=g(p,f),x=$(r,f),b=w(r,f),k=I(r,f),C=new i(m,p,x,b,k);e.push(C),t[m]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?zr.copy(e.viewValue):e.viewValue}}}}}function a(e,n,o,a){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function f(){var e=_&&h.readValue();if(_)for(var t=_.items.length-1;t>=0;t--){var r=_.items[t];qe(r.group?r.element.parentNode:r.element)}_=b.getOptions();var i={};if(y&&n.prepend(p),_.items.forEach(function(e){var t;$(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),k.appendChild(t),t.label=e.group,i[e.group]=t),c(e,t)):c(e,k)}),n[0].appendChild(k),m.$render(),!m.$isEmpty(e)){var o=h.readValue(),s=b.trackBy||g;(s?V(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var p,h=a[0],m=a[1],g=o.multiple,v=0,w=n.children(),I=w.length;v<I;v++)if(""===w[v].value){p=w.eq(v);break}var y=!!p,x=Nr(l.cloneNode(!1));x.val("?");var _,b=s(o.ngOptions,n,e),k=i[0].createDocumentFragment(),C=function(){y||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)},S=function(){y||p.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},E=function(){x.remove()};g?(m.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){_.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=_.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=_.selectValueMap[e];n&&!n.disabled&&t.push(_.getViewValueFromOption(n))}),t},b.trackBy&&e.$watchCollection(function(){if(Wr(m.$viewValue))return m.$viewValue.map(function(e){return b.getTrackByValue(e)})},function(){m.$render()})):(h.writeValue=function(e){var t=_.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(E(),S(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(E(),C()):(S(),T())},h.readValue=function(){var e=_.selectValueMap[n.val()];return e&&!e.disabled?(S(),E(),_.getViewValueFromOption(e)):null},b.trackBy&&e.$watch(function(){return b.getTrackByValue(m.$viewValue)},function(){m.$render()})),y?(p.remove(),t(p)(e),p.removeClass("ng-scope")):p=Nr(l.cloneNode(!1)),n.empty(),f(),e.$watchCollection(b.getWatchables,f)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=p},post:a}}}],Ps=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function u(e){a.text(e||"")}var c,d=l.count,f=l.$attr.when&&a.attr(l.$attr.when),h=l.offset||0,m=s.$eval(f)||{},g={},$=t.startSymbol(),w=t.endSymbol(),I=$+d+"-"+h+w,y=zr.noop;r(l,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+Rr(n[2]);m[r]=a.attr(l.$attr[t])}}),r(m,function(e,n){g[n]=t(e.replace(i,I))}),s.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in m||(r=e.pluralCat(r-h)),r!==c&&!(i&&x(c)&&isNaN(c))){y();var o=g[r];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),y=p,u()):y=s.$watch(o,u),c=r}})}}}],Us=["$parse","$animate","$compile",function(e,i,o){var s="$$NG_REMOVED",a=t("ngRepeat"),l=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var f=d.ngRepeat,p=o.$$createComment("end ngRepeat",f),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=h[1],g=h[2],v=h[3],$=h[4];if(h=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=h[3]||h[1],I=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var y,x,_,b,k={$id:Xe};return $?y=e($):(_=function(e,t){return Xe(t)},b=function(e){return e}),function(e,t,o,d,h){y&&(x=function(t,n,r){return I&&(k[I]=t),k[w]=n,k.$index=r,y(e,k)});var m=me();e.$watchCollection(g,function(o){var d,g,$,y,k,C,S,T,E,R,O,A,P=t[0],U=me();if(v&&(e[v]=o),n(o))E=o,T=x||_;else{T=x||b,E=[];for(var N in o)Er.call(o,N)&&"$"!==N.charAt(0)&&E.push(N)}for(y=E.length,O=new Array(y),d=0;d<y;d++)if(k=o===E?d:E[d],C=o[k],S=T(k,C,d),m[S])R=m[S],delete m[S],U[S]=R,O[d]=R;else{if(U[S])throw r(O,function(e){e&&e.scope&&(m[e.id]=e)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,S,C);O[d]={id:S,scope:void 0,clone:void 0},U[S]=!0}for(var D in m){if(R=m[D],A=he(R.clone),i.leave(A),A[0].parentNode)for(d=0,g=A.length;d<g;d++)A[d][s]=!0;R.scope.$destroy()}for(d=0;d<y;d++)if(k=o===E?d:E[d],C=o[k],R=O[d],R.scope){$=P;do $=$.nextSibling;while($&&$[s]);u(R)!=$&&i.move(he(R.clone),null,P),P=c(R),l(R.scope,d,w,C,I,k,y)}else h(function(e,t){R.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,i.enter(e,null,P),P=n,R.clone=e,U[R.id]=R,l(R.scope,d,w,C,I,k,y)});m=U})}}}}],Ns="ng-hide",Ds="ng-hide-animate",Ms=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ns,{tempClasses:Ds})})}}}],js=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ns,{tempClasses:Ds})})}}}],Fs=ar(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ls=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,s){var a=o.ngSwitch||o.on,l=[],u=[],c=[],d=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(a,function(n){var i,o;for(i=0,o=c.length;i<o;++i)e.cancel(c[i]);for(c.length=0,i=0,o=d.length;i<o;++i){var a=he(u[i].clone);d[i].$destroy();var p=c[i]=e.leave(a);p.then(f(c,i))}u.length=0,d.length=0,(l=s.cases["!"+n]||s.cases["?"])&&r(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};u.push(s),e.enter(r,o.parent(),o);
})})})}}}],Vs=ar({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Bs=ar({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),qs=t("ngTransclude"),zs=ar({restrict:"EAC",link:function(e,t,n,r,i){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw qs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(t));var s=n.ngTransclude||n.ngTranscludeSlot;i(o,null,s)}}),Hs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ws={$setViewValue:p,$render:p},Gs=["$element","$scope",function(t,n){var r=this,i=new Ze;r.ngModelCtrl=Ws,r.unknownOption=Nr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Xe(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=p}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==oi){fe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Cr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var s;n.$observe("value",function(e){$(s)&&r.removeOption(s),s=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Ks=function(){function e(e,t,n,i){var o=i[1];if(o){var s=i[0];if(s.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},s.writeValue=function(e){var n=new Ze(e);r(t.find("option"),function(e){e.selected=$(n.get(e.value))})};var a,l=NaN;e.$watch(function(){l!==o.$viewValue||V(a,o.$viewValue)||(a=L(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Gs,priority:1,link:{pre:e,post:t}}},Ys=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if($(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,r,i)}}}}],Js=m({restrict:"E",terminal:!1}),Xs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Zs=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(y(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,X(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(o)||o.test(t)}}}}},Qs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},ea=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),we(zr),zr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Nr(e.document).ready(function(){ie(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",function(e){return function(){var t;return t||e.angular}}(this)),function(e,t){"use strict";function n(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,n,r){var o="?"===r||"*?"===r?"?":null,s="*"===r||"*?"===r?"*":null;return i.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,s,l,u,c){function d(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,s=i.length;o<s;++o){var a=n[o-1],l=i[o];a&&l&&(r[a.name]=l)}return r}function f(e){var r=w.current;g=h(),v=g&&r&&g.$$route===r.$$route&&t.equals(g.pathParams,r.pathParams)&&!g.reloadOnSearch&&!$,v||!r&&!g||n.$broadcast("$routeChangeStart",g,r).defaultPrevented&&e&&e.preventDefault()}function p(){var e=w.current,r=g;v?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&($=!1,w.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(m(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),s.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=c.valueOf(n),e=u(n))),t.isDefined(e)&&(i.$template=e),s.all(i)}}).then(function(i){r==w.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==w.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function h(){var n,o;return t.forEach(r,function(r,s){!o&&(n=d(i.path(),r))&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function m(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var g,v,$=!1,w={routes:r,reload:function(){$=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,$=!1}};n.$evalAsync(function(){f(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(m(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",p),w}]}function r(){this.$get=function(){return{}}}function i(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,s,a,l){function u(){p&&(r.cancel(p),p=null),d&&(d.$destroy(),d=null),f&&(p=r.leave(f),p.then(function(){p=null}),f=null)}function c(){var s=e.current&&e.current.locals,a=s&&s.$template;if(t.isDefined(a)){var c=i.$new(),p=e.current,g=l(c,function(e){r.enter(e,null,f||o).then(function(){!t.isDefined(h)||h&&!i.$eval(h)||n()}),u()});f=g,d=p.scope=c,d.$emit("$viewContentLoaded"),d.$eval(m)}else u()}var d,f,p,h=s.autoscroll,m=s.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function o(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,s=o.locals;i.html(s.$template);var a=e(i.contents());if(o.controller){s.$scope=r;var l=t(o.controller,s);o.controllerAs&&(r[o.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}r[o.resolveAs||"$resolve"]=s,a(r)}}}var s=t.module("ngRoute",["ng"]).provider("$route",n),a=t.$$minErr("ngRoute");s.provider("$routeParams",r),s.directive("ngView",i),s.directive("ngView",o),i.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular),define("angularRoute",["angular"],function(e){return function(){var t;return t||e.angularRoute}}(this)),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){function r(e,t){return U(new(U(function(){},{prototype:e})),t)}function i(e){return P(arguments,function(t){t!==e&&P(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function a(e,t,n,r){var i,a=o(n,r),l={},u=[];for(var c in a)if(a[c].params&&a[c].params.length){i=a[c].params;for(var d in i)s(u,i[d])>=0||(u.push(i[d]),l[i[d]]=e[i[d]])}return U({},l,t)}function l(e,t){var n={};return P(e,function(e){var r=t[e];n[e]=null!=r?String(r):null}),n}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return P(e,function(e){n[e]=t[e]}),n}function d(e,t){var r=1,o=2,s={},a=[],l=s,u=U(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function c(e,n){if(h[n]!==o){if(p.push(n),h[n]===r)throw p.splice(0,p.indexOf(n)),new Error("Cyclic dependency: "+p.join(" -> "));if(h[n]=r,R(e))f.push(n,[function(){return t.get(e)}],a);else{var i=t.annotate(e);P(i,function(e){e!==n&&s.hasOwnProperty(e)&&c(s[e],e)}),f.push(n,e,i)}p.pop(),h[n]=o}}function d(e){return O(e)&&e.then&&e.$$promises}if(!O(s))throw new Error("'invocables' must be an object");var f=[],p=[],h={};return P(s,c),s=p=h=null,function(r,o,s){function a(){--$||(w||i(v,o.$$values),m.$$values=v,m.$$promises=!0,h.resolve(v))}function c(e){m.$$failure=e,h.reject(e)}function p(n,i,o){function l(e){d.reject(e),c(e)}function u(){if(!T(m.$$failure))try{d.resolve(t.invoke(i,s,v)),d.promise.then(function(e){v[n]=e,a()},l)}catch(e){l(e)}}var d=e.defer(),f=0;P(o,function(e){g.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(f++,g[e].then(function(t){v[e]=t,--f||u()},l))}),f||u(),g[n]=d.promise}if(d(r)&&s===n&&(s=o,o=r,r=null),r){if(!O(r))throw new Error("'locals' must be an object")}else r=l;if(o){if(!d(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=u;var h=e.defer(),m=h.promise,g=m.$$promises={},v=U({},r),$=1+f.length/3,w=!1;if(T(o.$$failure))return c(o.$$failure),m;o.$$values?(w=i(v,o.$$values),a()):(U(g,o.$$promises),o.then(a,c));for(var I=0,y=f.length;I<y;I+=3)r.hasOwnProperty(f[I])?a():p(f[I],f[I+1],f[I+2]);return m}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function f(e,t,n){this.fromConfig=function(e,t,n){return T(e.template)?this.fromString(e.template,t):T(e.templateUrl)?this.fromUrl(e.templateUrl,t):T(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return E(e)?e(t):e},this.fromUrl=function(n,r){return E(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function p(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(o[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");o[t]=!0,u.push(t)}function n(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var r,i=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,o={},s="^",a=0,l=this.segments=[],u=this.params=[];this.source=e;for(var c,d,f;(r=i.exec(e))&&(c=r[2]||r[3],d=r[4]||("*"==r[1]?".*":"[^/]*"),f=e.substring(a,r.index),!(f.indexOf("?")>=0));)s+=n(f)+"("+d+")",t(c),l.push(f),a=i.lastIndex;f=e.substring(a);var p=f.indexOf("?");if(p>=0){var h=this.sourceSearch=f.substring(p);f=f.substring(0,p),this.sourcePath=e.substring(0,a+p),P(h.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";s+=n(f)+"$",l.push(f),this.regexp=new RegExp(s),this.prefix=l[0]}function h(){this.compile=function(e){return new p(e)},this.isMatcher=function(e){return O(e)&&E(e.exec)&&E(e.format)&&E(e.concat)},this.$get=function(){return this}}function m(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function n(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!T(r)||r}var i=[],o=null;this.rule=function(e){if(!E(e))throw new Error("'rule' must be a function");return i.push(e),this},this.otherwise=function(e){if(R(e)){var t=e;e=function(){return t}}else if(!E(e))throw new Error("'rule' must be a function");return o=e,this},this.when=function(i,o){var s,a=R(o);if(R(i)&&(i=e.compile(i)),!a&&!E(o)&&!A(o))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,n){return a&&(s=e.compile(n),n=["$match",function(e){return s.format(e)}]),U(function(e,i){return r(e,n,t.exec(i.path(),i.search()))},{prefix:R(t.prefix)?t.prefix:""})},regex:function(e,i){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(s=i,i=["$match",function(e){return n(s,e)}]),U(function(t,n){return r(t,i,e.exec(n.path()))},{prefix:t(e)})}},u={matcher:e.isMatcher(i),regex:i instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](i,o));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,n){function r(t){function r(t){var r=t(n,e);return!!r&&(R(r)&&e.replace().url(r),!0)}if(!t||!t.defaultPrevented){var s,a=i.length;for(s=0;s<a;s++)if(r(i[s]))return;o&&r(o)}}return t.$on("$locationChangeSuccess",r),{sync:function(){r()}}}]}function g(e,i,o){function s(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){var r=R(e),i=r?e:e.name,o=s(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var a=i.split("."),l=0,u=a.length,c=t;l<u;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;a=a.slice(l).join("."),i=c.name+(c.name&&a?".":"")+a}var d=x[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function f(e,t){_[e]||(_[e]=[]),_[e].push(t)}function p(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!R(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(x.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):R(t.parent)?t.parent:"";if(i&&!x[i])return f(i,t.self);for(var o in k)E(k[o])&&(t[o]=k[o](t,k.$delegates[o]));if(x[n]=t,!t[b]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){y.$current.navigable==t&&u(e,n)||y.transitionTo(t,e,{location:!1})}]),_[n])for(var s=0;s<_[n].length;s++)p(_[n][s]);return t}function h(e){return e.indexOf("*")>-1}function m(e){var t=e.split("."),n=y.$current.name.split(".");if("**"===t[0]&&(n=n.slice(n.indexOf(t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(n.indexOf(t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function g(e,t){return R(e)&&!T(t)?k[e]:E(t)&&R(e)?(k[e]&&!k.$delegates[e]&&(k.$delegates[e]=k[e]),k[e]=t,this):this}function v(e,t){return O(e)?t=e:t.name=e,p(t),this}function $(e,i,s,f,p,g,v,$,_){function k(){v.url()!==j&&(v.url(j),v.replace())}function C(e,n,r,o,a){var l=r?n:c(e.params,n),u={$stateParams:l};a.resolve=p.resolve(e.resolve,u,a.resolve,e);var d=[a.resolve.then(function(e){a.globals=e})];return o&&d.push(o),P(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return s.load(r,{view:n,locals:u,params:l,notify:!1})||""}],d.push(p.resolve(i,u,a.resolve,e).then(function(o){if(E(n.controllerProvider)||A(n.controllerProvider)){var s=t.extend({},i,u);o.$$controller=f.invoke(n.controllerProvider,null,s)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,a[r]=o}))}),i.all(d).then(function(e){return a})}var S=i.reject(new Error("transition superseded")),O=i.reject(new Error("transition prevented")),D=i.reject(new Error("transition aborted")),M=i.reject(new Error("transition failed")),j=v.url(),F=_.baseHref();return I.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:I.self,$current:I,transition:null},y.reload=function(){y.transitionTo(y.current,g,{reload:!0,inherit:!1,notify:!1})},y.go=function(e,t,n){return this.transitionTo(e,t,U({inherit:!0,relative:y.$current},n))},y.transitionTo=function(t,n,o){n=n||{},o=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,c=y.$current,p=y.params,h=c.path,m=d(t,o.relative);if(!T(m)){var $={to:t,toParams:n,options:o};if(s=e.$broadcast("$stateNotFound",$,c.self,p),s.defaultPrevented)return k(),D;if(s.retry){if(o.$retry)return k(),M;var x=y.transition=i.when(s.retry);return x.then(function(){return x!==y.transition?S:($.options.$retry=!0,y.transitionTo($.to,$.toParams,$.options))},function(){return D}),k(),x}if(t=$.to,n=$.toParams,o=$.options,m=d(t,o.relative),!T(m)){if(o.relative)throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'");throw new Error("No such state '"+t+"'")}}if(m[b])throw new Error("Cannot transition to abstract state '"+t+"'");o.inherit&&(n=a(g,n||{},y.$current,m)),t=m;var _,E,R=t.path,A=I.locals,P=[];for(_=0,E=R[_];E&&E===h[_]&&u(n,p,E.ownParams)&&!o.reload;_++,E=R[_])A=P[_]=E.locals;if(w(t,c,A,o))return t.self.reloadOnSearch!==!1&&k(),y.transition=null,i.when(y.current);if(n=l(t.params,n||{}),o.notify&&(s=e.$broadcast("$stateChangeStart",t.self,n,c.self,p),s.defaultPrevented))return k(),O;for(var F=i.when(A),L=_;L<R.length;L++,E=R[L])A=P[L]=r(A),F=C(E,n,E===t,F,A);var V=y.transition=F.then(function(){var r,i,s;if(y.transition!==V)return S;for(r=h.length-1;r>=_;r--)s=h[r],s.self.onExit&&f.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(r=_;r<R.length;r++)i=R[r],i.locals=P[r],i.self.onEnter&&f.invoke(i.self.onEnter,i.self,i.locals.globals);if(y.transition!==V)return S;y.$current=t,y.current=t.self,y.params=n,N(y.params,g),y.transition=null;var a=t.navigable;return o.location&&a&&(v.url(a.url.format(a.locals.globals.$stateParams)),"replace"===o.location&&v.replace()),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,p),j=v.url(),y.current},function(r){return y.transition!==V?S:(y.transition=null,e.$broadcast("$stateChangeError",t.self,n,c.self,p,r),k(),i.reject(r))});return V},y.is=function(e,r){var i=d(e);return T(i)?y.$current===i&&(!T(r)||null===r||t.equals(g,r)):n},y.includes=function(e,r){if(R(e)&&h(e)){if(!m(e))return!1;e=y.$current.name}var i=d(e);if(!T(i))return n;if(!T(y.$current.includes[i.name]))return!1;var o=!0;return t.forEach(r,function(e,t){T(g[t])&&g[t]===e||(o=!1)}),o},y.href=function(e,t,n){n=U({lossy:!0,inherit:!1,absolute:!1,relative:y.$current},n||{});var r=d(e,n.relative);if(!T(r))return null;t=a(g,t||{},y.$current,r);var i=r&&n.lossy?r.navigable:r,s=i&&i.url?i.url.format(l(r.params,t||{})):null;return!o.html5Mode()&&s&&(s="#"+o.hashPrefix()+s),"/"!==F&&(o.html5Mode()?s=F.slice(0,-1)+s:n.absolute&&(s=F.slice(1)+s)),n.absolute&&s&&(s=v.protocol()+"://"+v.host()+(80==v.port()||443==v.port()?"":":"+v.port())+(!o.html5Mode()&&s?"/":"")+s),s},y.get=function(e,t){if(!T(e)){var n=[];return P(x,function(e){n.push(e.self)}),n}var r=d(e,t);return r&&r.self?r.self:null},y}function w(e,t,n,r){if(e===t&&(n===t.locals&&!r.reload||e.self.reloadOnSearch===!1))return!0}var I,y,x={},_={},b="abstract",k={parent:function(e){if(T(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):I},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=U({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url;if(R(t))return"^"==t.charAt(0)?i.compile(t.substring(1)):(e.parent.navigable||I).url.concat(t);if(i.isMatcher(t)||null==t)return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!A(e.params))throw new Error("Invalid params in state '"+e+"'");if(e.url)throw new Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return P(T(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};P(e.params,function(e){t[e]=!0}),P(e.parent.params,function(n){if(!t[n])throw new Error("Missing required parameter '"+n+"' in state '"+e.name+"'");t[n]=!1});var n=[];return P(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};I=p({name:"",url:"^",views:null,abstract:!0}),I.navigable=null,this.decorator=g,this.state=v,this.$get=$,$.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function v(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=U(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function $(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function w(e,n,r){function i(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){l.enter(e,null,t,n)},leave:function(e,t){l.leave(e,t)}};if(a){var r=a&&a(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=i(),a=s("$animator"),l=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,s){return function(n,i,a){function l(){c&&(c.remove(),c=null),f&&(f.$destroy(),f=null),d&&(g.leave(d,function(){c=null}),c=d,d=null)}function u(o){var a=n.$new(),u=d&&d.data("$uiViewName"),c=u&&e.$current&&e.$current.locals[u];if(o||c!==p){var v=s(a,function(e){g.enter(e,i,function(){(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),l()});p=e.$current.locals[v.data("$uiViewName")],d=v,f=a,f.$emit("$viewContentLoaded"),f.$eval(h)}}var c,d,f,p,h=a.onload||"",m=a.autoscroll,g=o(a,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function I(e,t,n){return{restrict:"ECA",priority:-400,compile:function(r){var i=r.html();return function(r,o,s){var a=s.uiView||s.name||"",l=o.inheritedData("$uiView");a.indexOf("@")<0&&(a=a+"@"+(l?l.state.name:"")),o.data("$uiViewName",a);var u=n.$current,c=u&&u.locals[a];if(c){o.data("$uiView",{name:a,state:c.$$state}),o.html(c.$template?c.$template:i);var d=e(o.contents());if(c.$$controller){c.$scope=r;var f=t(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}d(r)}}}}}function y(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function x(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function _(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(i,o,s,a){var l=y(s.uiSref),u=null,c=x(o)||e.$current,d="FORM"===o[0].nodeName,f=d?"action":"href",p=!0,h={relative:c},m=i.$eval(s.uiSrefOpts)||{};t.forEach(r,function(e){e in m&&(h[e]=m[e])});var g=function(t){if(t&&(u=t),p){var n=e.href(l.state,u,h);return a&&a.$$setStateInfo(l.state,u),n?void(o[0][f]=n):(p=!1,!1)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e,t){e!==u&&g(e)},!0),u=i.$eval(l.paramExpr)),g(),d||o.bind("click",function(t){var r=t.which||t.button;r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target")||(n(function(){e.go(l.state,u,h)}),t.preventDefault())})}}}function b(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,o){function s(){e.$current.self===l&&a()?i.addClass(d):i.removeClass(d)}function a(){return!c||u(c,t)}var l,c,d;d=n(o.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){l=e.get(t,x(i)),c=n,s()},r.$on("$stateChangeSuccess",s)}]}}function k(e){return function(t){return e.is(t)}}function C(e){return function(t){return e.includes(t)}}function S(e,t){function i(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function o(){this.locals=null,this.params=null}function s(n,s){if(null!=s.redirectTo){var a,u=s.redirectTo;if(R(u))a=u;else{if(!E(u))throw new Error("Invalid 'redirectTo' in when()");a=function(e,t){return u(e,t.path(),t.search())}}t.when(n,a)}else e.state(r(s,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:i,onExit:o}));return l.push(s),this}function a(e,t,r){function i(e){return""!==e.name?e:n}var o={routes:l,params:r,current:n};return t.$on("$stateChangeStart",function(e,n,r,o,s){t.$broadcast("$routeChangeStart",i(n),i(o))}),t.$on("$stateChangeSuccess",function(e,n,r,s,a){o.current=i(n),t.$broadcast("$routeChangeSuccess",i(n),i(s)),N(r,o.params)}),t.$on("$stateChangeError",function(e,n,r,o,s,a){t.$broadcast("$routeChangeError",i(n),i(o),a)}),o}var l=[];i.$inject=["$$state"],this.when=s,this.$get=a,a.$inject=["$state","$rootScope","$routeParams"]}var T=t.isDefined,E=t.isFunction,R=t.isString,O=t.isObject,A=t.isArray,P=t.forEach,U=t.extend,N=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",d),f.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",f),p.prototype.concat=function(e){return new p(this.sourcePath+e+this.sourceSearch)},p.prototype.toString=function(){return this.source},p.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;var r,i=this.params,o=i.length,s=this.segments.length-1,a={};if(s!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;r<s;r++)a[i[r]]=n[r+1];for(;r<o;r++)a[i[r]]=t[i[r]];return a},p.prototype.parameters=function(){return this.params},p.prototype.format=function(e){var t=this.segments,n=this.params;if(!e)return t.join("");var r,i,o,s=t.length-1,a=n.length,l=t[0];for(r=0;r<s;r++)o=e[n[r]],null!=o&&(l+=encodeURIComponent(o)),l+=t[r+1];for(;r<a;r++)o=e[n[r]],null!=o&&(l+=(i?"&":"?")+n[r]+"="+encodeURIComponent(o),i=!0);return l},t.module("ui.router.util").provider("$urlMatcherFactory",h),m.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",m),g.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",g),v.$inject=[],t.module("ui.router.state").provider("$view",v),t.module("ui.router.state").provider("$uiViewScroll",$),w.$inject=["$state","$injector","$uiViewScroll"],I.$inject=["$compile","$controller","$state"],t.module("ui.router.state").directive("uiView",w),t.module("ui.router.state").directive("uiView",I),_.$inject=["$state","$timeout"],b.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",_).directive("uiSrefActive",b),k.$inject=["$state"],C.$inject=["$state"],t.module("ui.router.state").filter("isState",k).filter("includedByState",C),S.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",S).directive("ngView",w)}(window,window.angular),define("angularUiRoute",["angular"],function(e){return function(){var t;return t||e.angularUiRoute}}(this)),function(e,t){"use strict";function n(e){var n=[];return a(n,t.noop).chars(e),n.join("")}function r(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function i(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),u.innerHTML=t;var r=5;do{if(0===r)throw c("uinput");r--,e.document.documentMode&&l(u),t=u.innerHTML,u.innerHTML=t}while(t!==u.innerHTML);for(r=u.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),o(r.attributes));break;case 3:n.chars(r.textContent)}var i;if(!(i=r.firstChild)&&(1==r.nodeType&&n.end(r.nodeName.toLowerCase()),
i=r.nextSibling,!i))for(;null==i&&(r=r.parentNode,r!==u);)i=r.nextSibling,1==r.nodeType&&n.end(r.nodeName.toLowerCase());r=i}for(;r=u.firstChild;)u.removeChild(r)}function o(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(d,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(f,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!r&&$[e]&&(r=e),r||!0!==w[e]||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;!0!==y[a]||!0===I[a]&&!n(r,l)||(i(" "),i(o),i('="'),i(s(r)),i('"'))}),i(">"))},end:function(e){e=t.lowercase(e),r||!0!==w[e]||!0===p[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}function l(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.indexOf("ns1:")||(t.removeAttributeNode(o),r--,i--)}(n=t.firstChild)&&l(n),(n=t.nextSibling)&&l(n)}var u,c=t.$$minErr("$sanitize"),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^\#-~ |!])/g,p=r("area,br,col,hr,img,wbr"),h=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=r("rp,rt"),g=t.extend({},m,h),h=t.extend({},h,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),m=t.extend({},m,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),v=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),$=r("script,style"),w=t.extend({},p,h,m,g),I=r("background,cite,href,longdesc,src,xlink:href"),g=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),m=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),y=t.extend({},I,m,g);!function(e){if(!e.document||!e.document.implementation)throw c("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?u=t[0]:(t=e.createElement("html"),u=e.createElement("body"),t.appendChild(u),e.appendChild(t))}(e),t.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(w,v),function(e){var t=[];return i(e,a(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,o=t.$$minErr("linky"),s=t.isString;return function(a,l,u){function c(e){e&&m.push(n(e))}function d(e,n){var r;if(m.push("<a "),t.isFunction(u)&&(u=u(e)),t.isObject(u))for(r in u)m.push(r+'="'+u[r]+'" ');else u={};!t.isDefined(l)||"target"in u||m.push('target="',l,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),c(n),m.push("</a>")}if(null==a||""===a)return a;if(!s(a))throw o("notstring",a);for(var f,p,h=a,m=[];a=h.match(r);)f=a[0],a[2]||a[4]||(f=(a[3]?"http://":"mailto:")+f),p=a.index,c(h.substr(0,p)),d(f,a[0].replace(i,"")),h=h.substring(p+a[0].length);return c(h),e(m.join(""))}}])}(window,window.angular),define("angularSanitize",["angular"],function(e){return function(){var t;return t||e.angularSanitize}}(this)),angular.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,t,n){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"=",create:"&uiSortableCreate",start:"&uiSortableStart",activate:"&uiSortableActivate",beforeStop:"&uiSortableBeforeStop",update:"&uiSortableUpdate",remove:"&uiSortableRemove",receive:"&uiSortableReceive",deactivate:"&uiSortableDeactivate",stop:"&uiSortableStop"},link:function(r,i,o,s){function a(e,t){var n="function"==typeof e,r="function"==typeof t;return n&&r?function(){e.apply(this,arguments),t.apply(this,arguments)}:r?t:e}function l(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function u(t,n){return k[t]?("stop"===t&&(n=a(n,function(){r.$apply()}),n=a(n,v)),n=a(k[t],n)):C[t]&&(n=C[t](n)),n||"items"!==t&&"ui-model-items"!==t||(n=e.items),n}function c(e,t,n){function r(e,t){t in _||(_[t]=null)}angular.forEach(k,r);var i=null;if(t){var o;angular.forEach(t,function(t,n){if(!(e&&n in e)){if(n in b)return void("ui-floating"===n?_[n]="auto":_[n]=u(n,void 0));o||(o=angular.element.ui.sortable().options);var r=o[n];r=u(n,r),i||(i={}),i[n]=r,_[n]=r}})}return angular.forEach(e,function(e,t){return t in b?("ui-floating"!==t||e!==!1&&e!==!0||!n||(n.floating=e),void(_[t]=u(t,e))):(e=u(t,e),i||(i={}),i[t]=e,void(_[t]=e))}),i}function d(e){var t=e.sortable("option","placeholder");if(t&&t.element&&"function"==typeof t.element){var n=t.element();return n=angular.element(n)}return null}function f(e,t){var n=_["ui-model-items"].replace(/[^,]*>/g,""),r=e.find('[class="'+t.attr("class")+'"]:not('+n+")");return r}function p(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}function h(e,t,n){var r=null;return p(e,t)&&"parent"===e.sortable("option","appendTo")&&(r=n.last()),r}function m(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}function g(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.element[0]===t[0])return r}}function v(e,t){t.item.sortable._destroy()}function $(e){return e.parent().find(_["ui-model-items"]).index(e)}function w(){r.$watchCollection("ngModel",function(){t(function(){l(i)&&i.sortable("refresh")},0,!1)}),k.start=function(e,t){if("auto"===_["ui-floating"]){var n=t.item.siblings(),r=l(angular.element(e.target));r.floating=m(n)}var o=$(t.item);t.item.sortable={model:s.$modelValue[o],index:o,source:i,sourceList:t.item.parent(),sourceModel:s.$modelValue,cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!t.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:t.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(t.item.sortable,function(e,n){t.item.sortable[n]=void 0})},_connectedSortables:[],_getElementContext:function(e){return g(this._connectedSortables,e)}}},k.activate=function(e,t){var n=t.item.sortable.source===i,o=n?t.item.sortable.sourceList:i,s={element:i,scope:r,isSourceContext:n,savedNodesOrigin:o};t.item.sortable._connectedSortables.push(s),x=o.contents();var a=d(i);if(a&&a.length){var l=f(i,a);x=x.not(l)}},k.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=$(t.item);var n=t.item.closest("[ui-sortable], [data-ui-sortable], [x-ui-sortable]");t.item.sortable.droptarget=n,t.item.sortable.droptargetList=t.item.parent();var o=t.item.sortable._getElementContext(n);t.item.sortable.droptargetModel=o.scope.ngModel,i.sortable("cancel")}var a=!t.item.sortable.received&&h(i,t,x);a&&a.length&&(x=x.not(a));var l=t.item.sortable._getElementContext(i);x.appendTo(l.savedNodesOrigin),t.item.sortable.received&&(x=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&(r.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)}),r.$emit("ui-sortable:moved",t))},k.stop=function(e,t){var n="dropindex"in t.item.sortable&&!t.item.sortable.isCanceled();if(n&&!t.item.sortable.received)r.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,s.$modelValue.splice(t.item.sortable.index,1)[0])}),r.$emit("ui-sortable:moved",t);else if(!n&&!angular.equals(i.contents().toArray(),x.toArray())){var o=h(i,t,x);o&&o.length&&(x=x.not(o));var a=t.item.sortable._getElementContext(i);x.appendTo(a.savedNodesOrigin)}x=null},k.receive=function(e,t){t.item.sortable.received=!0},k.remove=function(e,t){"dropindex"in t.item.sortable||(i.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||r.$apply(function(){t.item.sortable.moved=s.$modelValue.splice(t.item.sortable.index,1)[0]})},angular.forEach(k,function(e,t){k[t]=a(k[t],function(){var e,n=r[t];"function"==typeof n&&("uiSortable"+t.substring(0,1).toUpperCase()+t.substring(1)).length&&"function"==typeof(e=n())&&e.apply(this,arguments)})}),C.helper=function(e){return e&&"function"==typeof e?function(t,n){var r=n.sortable,o=$(n);n.sortable={model:s.$modelValue[o],index:o,source:i,sourceList:n.parent(),sourceModel:s.$modelValue,_restore:function(){angular.forEach(n.sortable,function(e,t){n.sortable[t]=void 0}),n.sortable=r}};var a=e.apply(this,arguments);return n.sortable._restore(),n.sortable._isCustomHelperUsed=n!==a,a}:e},r.$watchCollection("uiSortable",function(e,t){var n=l(i);if(n){var r=c(e,t,n);r&&i.sortable("option",r)}},!0),c(_)}function I(){s?w():n.info("ui.sortable: ngModel not provided!",i),i.sortable(_)}function y(){return(!r.uiSortable||!r.uiSortable.disabled)&&(I(),y.cancelWatcher(),y.cancelWatcher=angular.noop,!0)}var x,_={},b={"ui-floating":void 0,"ui-model-items":e.items},k={create:null,start:null,activate:null,beforeStop:null,update:null,remove:null,receive:null,deactivate:null,stop:null},C={helper:null};return angular.extend(_,b,e,r.uiSortable),angular.element.fn&&angular.element.fn.jquery?(y.cancelWatcher=angular.noop,void(y()||(y.cancelWatcher=r.$watch("uiSortable.disabled",y)))):void n.error("ui.sortable: jQuery should be included before AngularJS!")}}}]),define("uiSortable",["angular"],function(e){return function(){var t;return t||e.uiSortable}}(this)),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function a(e){return null!=r._start&&s?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){if(s&&r._chunkSize&&!r._finished&&r._file){var t=r._file&&r._file.size||0;i({loaded:Math.min(r._end,t),total:t,config:r,type:"progress"}),o.upload(r,!0)}else r._finished&&delete r._finished,u.resolve(e)},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(a(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(a(e)))},!1))}}),s?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(e.data):parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&s){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function a(t,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(i,r);else if(o.isFile(r)){var s=n(r,t),l=i.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),e._fileKey=e._fileKey||i,t.append(i,s,s.ngfName||s.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),a(t,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(i,r)}function l(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];e.formDataAppender?e.formDataAppender(r,n,i):a(r,i,n)}return r})}return t||(e=i(e)),e._isDigested||(e._isDigested=!0,l()),r(e)},this.http=function(t){return t=i(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),i=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:i}),s=n.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(o.name=s[1]),r.resolve(o)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function s(e,t,n,i){var o=l.attrGetter("ngfResize",t,n);if(!o||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(o instanceof Function){var s=r.defer();return o(e).then(function(r){a(r,e,t,n,i).then(function(e){s.resolve(e)},function(e){s.reject(e)})},function(e){s.reject(e)})}return a(o,e,t,n,i)}function a(e,t,n,i,o){function s(r,s){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})};var u=l.resize(r,e);a.push(u),u.then(function(e){t.splice(s,1,e)},function(e){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,t)})}}for(var a=[l.emptyPromise()],u=0;u<t.length;u++)s(t[u],u);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,a,u,c,d){function f(o,s,u,d,f){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=s;var p=o&&o.length?o[0]:null,h=s&&s.length?s[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(f?p:o)),a&&e(a)(i,{$files:o,$file:p,$newFiles:u,$duplicateFiles:d,$invalidFiles:s,$invalidFile:h,$event:c});var m=l.attrGetter("ngfModelInvalid",r);m&&t(function(){e(m).assign(i,f?h:s)}),t(function(){})}function p(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<v.length;n++)if(e(t,v[n]))return!0;for(n=0;n<$.length;n++)if(e(t,$[n]))return!0;return!1}if(u){g=[],w=[];for(var n=0;n<u.length;n++)t(u[n])?w.push(u[n]):g.push(u[n])}}function h(e){return angular.isArray(e)?e:[e]}function m(){function e(){t(function(){f(x?v.concat(y):y,x?$.concat(I):I,u,w,_)},k&&k.debounce?k.debounce.change||k.debounce:0)}var o=b?g:y;s(o,r,i,n).then(function(){b?l.validate(g,x?v.length:0,n,r,i).then(function(t){y=t.validsFiles,I=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<o.length;t++){var n=o[t];if("resize"===n.$error){var r=y.indexOf(n);r>-1&&(y.splice(r,1),I.push(n)),e()}}})}var g,v,$,w=[],I=[],y=[];v=r.$$ngfPrevValidFiles||[],$=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(v=h(n.$modelValue));var x=l.attrGetter("ngfKeep",r,i);g=(u||[]).slice(0),("distinct"===x||l.attrGetter("ngfKeepDistinct",r,i)===!0)&&p(r,i);var _=!x&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!x||g.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:g,$duplicateFiles:w,$event:c});var b=l.attrGetter("ngfValidateAfterResize",r,i),k=l.attrGetter("ngfModelOptions",r,i);l.validate(g,x?v.length:0,n,r,i).then(function(e){d?f(g,[],u,w,_):(k&&k.allowInvalid||b?y=g:(y=e.validFiles,I=e.invalidFiles),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(y,r,i).then(function(){m()}):m())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,a,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return w("ngfChange")||w("ngfSelect")}function f(t){if(u.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,o=[];if(!i)return;for(var s=0;s<i.length;s++)o.push(i[s]);u.updateModel(r,n,e,d(),o.length?o:null,t)}}function p(e,r){function i(t){e.attr("id","ngf-"+t),r.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var s=t[0].attributes[o];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(i(s.value),I.push(n.$observe("id",i))):e.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}function h(){if(c())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(e,n),s.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function m(n){if(t.attr("disabled"))return!1;if(!w("ngfSelectDisabled",e)){var r=g(n);if(null!=r)return r;v(n);try{c()||document.body.contains(_[0])||(s.push({el:t,ref:_.parent()}),document.body.appendChild(_.parent()[0]),_.bind("change",f))}catch(e){}return i(navigator.userAgent)?setTimeout(function(){_[0].click()},0):_[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return x=t[0].clientX,y=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(Math.abs(n-x)>20||Math.abs(r-y)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function v(t){u.shouldUpdateOn("click",n,e)&&_.val()&&(_.val(null),u.updateModel(r,n,e,d(),null,t,!0))}function $(e){if(_&&!_.attr("__ngf_ie10_Fix_")){if(!_[0].parentNode)return void(_=null);e.preventDefault(),e.stopPropagation(),_.unbind("click");var t=_.clone();return _.replaceWith(t),_=t,_.attr("__ngf_ie10_Fix_","true"),_.bind("change",f),_.bind("click",$),_[0].click(),!1}_.removeAttr("__ngf_ie10_Fix_")}var w=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var I=[];w("ngfMultiple")&&I.push(e.$watch(w("ngfMultiple"),function(){_.attr("multiple",w("ngfMultiple",e))})),w("ngfCapture")&&I.push(e.$watch(w("ngfCapture"),function(){_.attr("capture",w("ngfCapture",e))})),w("ngfAccept")&&I.push(e.$watch(w("ngfAccept"),function(){_.attr("accept",w("ngfAccept",e))})),I.push(n.$observe("accept",function(){_.attr("accept",w("accept"))}));var y=0,x=0,_=t;c()||(_=h()),_.bind("change",f),c()?t.bind("click",v):t.bind("click touchstart touchend",m),-1!==navigator.appVersion.indexOf("MSIE 10")&&_.bind("click",$),r&&r.$formatters.push(function(e){return(null==e||0===e.length)&&_.val()&&_.val(null),e}),e.$on("$destroy",function(){c()||_.parent().remove(),angular.forEach(I,function(e){e()})}),a(function(){for(var e=0;e<s.length;e++){var t=s[e];document.body.contains(t.el[0])||(s.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,_,f)}var s=[];return{restrict:"AEC",require:"?ngModel",link:function(i,s,a,l){o(i,s,a,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,s,a,l){function u(e){var s=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,s).finally(function(){n(function(){var t=(s?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[s],function(n){var c=a;if("ngfThumbnail"===s&&(c||(c={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===c.width&&window.getComputedStyle)){var d=getComputedStyle(i[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(c={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}return angular.isString(n)?(i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n)):void(!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):c&&t.isResizeSupported()?(c.resizeIf=function(e,i){return t.attrGetter("ngfResizeIf",o,r,{$width:e,$height:i,$file:n})},t.resize(n,c).then(function(e){u(e)},function(e){throw e})):u(n))});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0).finally(function(){if(i++,i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var s=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",s.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){s.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var a=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(a.url),r.blobUrlsTotalSize-=a.size}}})}else{var a=new FileReader;a.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,s.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},a.onerror=function(){t(function(){e.$ngfDataUrl="",s.reject()})},a.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()})}),o=i?e.$$ngfDataUrlPromise=s.promise:e.$$ngfBlobUrlPromise=s.promise,o.finally(function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var s=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",s,e.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var s=r(i[o]);s.regexp?(t+="("+s.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(s.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var s=n.excludes.length;s--;){var a=new RegExp(n.excludes[s],"i");i=i&&(null==e.type||a.test(e.type))&&(null==e.name||a.test(e.name))}return i},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){if(e.$dirty){var i=r;r&&!angular.isArray(r)&&(i=[r]),o.validate(i,0,e,t,n).then(function(){o.applyModelValidation(e,i)})}return r})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var s="ngf"+n[0].toUpperCase()+n.substr(1),a=o.attrGetter(s,e,t,{$file:i});if(null==a&&(a=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");a=a[l[0]],l.length>1&&(a=a&&a[l[1]])}return a},o.validate=function(e,n,r,i,s){function a(t,n,a){if(e){for(var l=e.length,u=null;l--;){var p=e[l];if(p){var h=o.getValidationAttr(i,s,t,n,p);null!=h&&(a(p,h,l)||(-1===c.indexOf(t)?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=h,-1===f.indexOf(p)&&f.push(p),d||e.splice(l,1),u=!1):e.splice(l,1)))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,a,l,p,h){function m(t,r,i){
function o(o){if(o())if(-1===c.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===f.indexOf(r)&&f.push(r),!d){var s=e.indexOf(r);s>-1&&e.splice(s,1)}t.resolve(!1)}else{var a=e.indexOf(r);a>-1&&e.splice(a,1),t.resolve(!0)}else t.resolve(!0)}null!=i?p(r,i).then(function(e){o(function(){return!h(e,i)})},function(){o(function(){return u("ngfValidateForce",{$file:r})})}):t.resolve(!0)}var g=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();return g.push(r.promise),!l||null!=e.type&&0===e.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){m(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){m(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.resolve(!1)}):m(r,e,o.getValidationAttr(i,s,n,a,e))):void r.resolve(!0)}));var v=t.defer();return t.all(g).then(function(e){for(var t=!0,i=0;i<e.length;i++)if(!e[i]){t=!1;break}r.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,i,s,t)},c=(o.attrGetter("ngfIgnoreInvalid",i,s)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",i,s);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var f=[];a("pattern",null,o.validatePattern),a("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),a("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var p=0;if(a("maxTotalSize",null,function(t,n){return p+=t.size,!(p>o.translateScalars(n))||(e.splice(0,e.length),!1)}),a("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:f});var h=t.defer(),m=[];return m.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),m.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),m.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),m.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),m.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),m.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-o.ratioToFloat(n[i]))<.01&&(r=!0);return r})),m.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),m.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),m.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),m.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),m.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),m.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e})),t.all(m).then(function(){if(d)for(var t=0;t<e.length;t++){var r=e[t];r.$error&&e.splice(t--,1)}d=!1,a("maxFiles",null,function(e,t,r){return t>n+r}),h.resolve({validFiles:e,invalidFiles:f})}),h.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void i.reject("not image"):void o.dataUrl(e).then(function(t){function r(){var t=a[0].naturalWidth||a[0].clientWidth,n=a[0].naturalHeight||a[0].clientHeight;a.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){a.remove(),i.reject("load error")}function s(){n(function(){a[0].parentNode&&(a[0].clientWidth?r():l++>10?o():s())},1e3)}var a=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");a.on("load",r),a.on("error",o);var l=0;s(),angular.element(document.getElementsByTagName("body")[0]).append(a)},function(){i.reject("load error")})}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void i.reject("not media"):void o.dataUrl(e).then(function(t){function r(){var t=a[0].duration;e.$ngfDuration=t,a.remove(),i.resolve(t)}function o(){a.remove(),i.reject("load error")}function s(){n(function(){a[0].parentNode&&(a[0].duration?r():l>10?o():s())},1e3)}var a=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");a.on("loadedmetadata",r),a.on("error",o);var l=0;s(),angular.element(document.body).append(a)},function(){i.reject("load error")})}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,s,a,l,u,c){var d=t.defer(),f=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null!=c&&c(e,t)===!1)return void d.reject("resizeIf");try{if(l){var h=n.ratioToFloat(l),m=e/t;h>m?(i=e,o=i/h):(o=t,i=o*h)}i||(i=e),o||(o=t);var g=r(e,t,i,o,u);f.width=Math.min(g.width,i),f.height=Math.min(g.height,o);var v=f.getContext("2d");v.drawImage(p,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),d.resolve(f.toDataURL(a||"image/WebP",s||.934))}catch(e){d.reject(e)}},p.onerror=function(){p.parentNode.removeChild(p),d.reject()},p.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),s=o.length,a=new Uint8Array(s);s--;)a[s]=o.charCodeAt(s);var l=new window.Blob([a],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r.width,r.height,r.quality,r.type||e.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===e.type&&r.restoreExif!==!1)try{i=n.restoreExif(t,i)}catch(e){setTimeout(function(){throw e},1)}try{var s=n.dataUrltoBlob(i,e.name,e.size);o.resolve(s)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},n}]),function(){function e(e,n,r,i,o,s,a,l,u,c){function d(){return n.attr("disabled")||$("ngfDropDisabled",e)}function f(t,n,r){if(t){var i;try{i=t&&t.getData&&t.getData("text/html")}catch(e){}g(t.items,t.files,$("ngfAllowDir",e)!==!1,$("multiple")||$("ngfMultiple",e)).then(function(e){e.length?p(e,n):h(r,i).then(function(e){p(e,n)})})}}function p(t,n){l.updateModel(i,r,e,$("ngfChange")||$("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,r,e)||"string"!=typeof n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],s=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){s.push(e)}))});var a=c.defer();return c.all(o).then(function(){a.resolve(s)},function(e){a.reject(e)}),a.promise}return l.emptyPromise()}function m(e,t,n,r){var i=$("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(x=i.delay),i.accept||i.reject)){var s=n.dataTransfer.items;if(null!=s&&s.length)for(var a=i.pattern||$("ngfPattern",e,{$event:n}),u=s.length;u--;){if(!l.validatePattern(s[u],a)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function g(t,n,i,o){function s(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(f){var i={type:"directory"};i.name=i.path=(t||"")+e.name,p.push(i)}var o=e.createReader(),a=[],m=function(){o.readEntries(function(i){try{i.length?(a=a.concat(Array.prototype.slice.call(i||[],0)),m()):(angular.forEach(a.slice(0),function(n){p.length<=u&&d>=h&&r.push(s(n,(t?t:"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};m()}else e.file(function(e){try{e.path=(t?t:"")+e.name,f&&(e=l.rename(e,e.path)),p.push(e),h+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles");null==u&&(u=Number.MAX_VALUE);var d=l.getValidationAttr(r,e,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var f=$("ngfIncludeDir",e),p=[],h=0,m=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==a.location.protocol)for(var g=0;g<t.length;g++){if(t[g].webkitGetAsEntry&&t[g].webkitGetAsEntry()&&t[g].webkitGetAsEntry().isDirectory){var v=t[g].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&m.push(s(v))}else{var w=t[g].getAsFile();null!=w&&(p.push(w),h+=w.size)}if(p.length>u||h>d||!o&&p.length>0)break}else if(null!=n)for(var I=0;I<n.length;I++){var y=n.item(I);if((y.type||y.size>0)&&(p.push(y),h+=y.size),p.length>u||h>d||!o&&p.length>0)break}var x=c.defer();return c.all(m).then(function(){if(o||f||!p.length)x.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;x.resolve([p[e]])}},function(e){x.reject(e)}),x.promise}var v=t(),$=function(e,t,n){return l.attrGetter(e,r,t,n)};if($("dropAvailable")&&s(function(){e[$("dropAvailable")]?e[$("dropAvailable")].value=v:e[$("dropAvailable")]=v}),!v)return void($("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));null==$("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var w,I=null,y=o($("ngfStopPropagation")),x=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),y(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}s.cancel(I),w||(w="C",m(e,r,t,function(r){w=r,n.addClass(w),$("ngfDrag",e,{$isDragging:!0,$class:w,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),y(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),y(e)&&t.stopPropagation(),I=s(function(){w&&n.removeClass(w),w=null,$("ngfDrag",e,{$isDragging:!1,$event:t})},x||100))},!1),n[0].addEventListener("drop",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),y(e)&&t.stopPropagation(),w&&n.removeClass(w),w=null,f(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&$("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,e)&&f(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&$("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,r,i,o,s){return{restrict:"AEC",require:"?ngModel",link:function(a,l,u,c){e(a,l,u,c,t,n,r,i,o,s)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,s){if(t()){var a=e(r.attrGetter("ngfDropAvailable",s));n(function(){a(i),a.assign&&a.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;i>o;){var s=r.getUint16(o,!1);if(o+=2,65505===s){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var a=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,a);var l=r.getUint16(o,a);o+=2;for(var u=0;l>u;u++)if(274===r.getUint16(o+12*u,a)){var c=r.getUint16(o+12*u+8,a);return c>=2&&8>=c&&(r.setUint16(o+12*u+8,1,a),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!==(65280&s))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?o.resolve(e):void i.dataUrl(e,!0).then(function(s){var a=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{a.width=t.orientation>4?l.height:l.width,a.height=t.orientation>4?l.width:l.height;var s=a.getContext("2d");n(s,t.orientation,l.width,l.height),s.drawImage(l,0,0);var u=a.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);o.resolve(c)}catch(e){return o.reject(e)}},l.onerror=function(){o.reject()},l.src=s},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,s="",a="",l="",u=0;do t=e[u++],n=e[u++],a=e[u++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=a="",r=i=o=l="";while(u<e.length);return s},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),s=r.slice(i),a=o;return a=a.concat(t),a=a.concat(s)},n.slice2Segments=function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,s="",a="",l=0,u=[],c=/[^A-Za-z0-9\+\/\=]/g;c.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,s=(3&o)<<6|a,u.push(t),64!==o&&u.push(n),64!==a&&u.push(s),t=n=s="",r=i=o=a="";while(l<e.length);return u},n.restore(e,t)},i}]),define("ngFileUpload",["angular"],function(e){return function(){var t;return t||e.ngFileUpload}}(this)),define("app",["angular"],function(e){return e.module("dcApp",["ngRoute","ui.router","ui.sortable","ngFileUpload","ngSanitize"])}),define("route",["app"],function(e){return e.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/parent"),e.state("taskList",{url:"/taskList",templateUrl:"tpls/taskList.html",controller:"taskListCtrl"}).state("reviewList",{url:"/reviewList",templateUrl:"tpls/review.html",controller:"reviewCtrl"}).state("addTask",{url:"/addTask",templateUrl:"tpls/newTask.html",controller:"newTaskCtrl"}).state("addStep",{url:"/addStep",templateUrl:"tpls/addStep.html",controller:"addStepCtrl"}).state("reviewDetail",{url:"/reviewDetail",templateUrl:"tpls/reviewDetail.html",controller:"reviewDetailCtrl"}).state("reviewDetail.tab1",{url:"/reviewDetail/tab1",templateUrl:"tpls/toReview.html",controller:"toReviewCtrl"}).state("reviewDetail.tab2",{url:"/reviewDetail/tab2",templateUrl:"tpls/reviewOk.html",controller:"reviewOkCtrl"}).state("reviewDetail.tab3",{url:"/reviewDetail/tab3",templateUrl:"tpls/reviewNo.html",controller:"reviewNoCtrl"})}])}),define("storageUtils",[],function(){return{USER_KEY:"_user_",KEYS:{},session:{setItem:function(e,t){null!=t&&t instanceof Object&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t)},getItem:function(e){var t=sessionStorage.getItem(e);return null==t||0!=t.indexOf("{")&&0!=t.indexOf("[")||(t=JSON.parse(t)),t},removeItem:function(e){sessionStorage.removeItem(e)}},local:{setItem:function(e,t){null!=t&&t instanceof Object&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},getItem:function(e){var t=localStorage.getItem(e);return null==t||0!=t.indexOf("{")&&0!=t.indexOf("[")||(t=JSON.parse(t)),t},removeItem:function(e){localStorage.removeItem(e)}}}}),define("dirTextProof",["app","storageUtils"],function(e,t){e.directive("textProofModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/textProof.html",link:function(n,r,i){document.getElementById("slideInput");r.click(function(e){}),r.find("img").eq(-1).click(function(r){if(r.stopPropagation(),console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-2,2);else var i=$(this).parents("li")[0].id.substr(-1,1);var o=$(this).parents("li")[1].id.substr(-1,1);if(n.stepItems[o].component[i].status=0,n.stepItems[o].component[i].id){var s=n.stepItems[o].component[i];s.task_id=t.session.getItem("_TaskId_"),""==s.tips_text&&(s.tips_text=" "),e.submitComponent(s)}n.stepItems[o].component.splice(i,1),n.$apply()})}}}])}),define("dirImgProof",["app","storageUtils"],function(e,t){e.directive("imgProofModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/imgProof.html",link:function(n,r,i){document.getElementById("slideInput");n.stepIndex=r.parents("ul")[0].id.substr(-1,1),r.click(function(e){}),r.find("img").eq(-1).click(function(r){if(r.stopPropagation(),r.stopPropagation(),console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-2,2);else var i=$(this).parents("li")[0].id.substr(-1,1);var o=$(this).parents("li")[1].id.substr(-1,1);if(n.stepItems[o].component[i].status=0,n.stepItems[o].component[i].id){var s=n.stepItems[o].component[i];s.task_id=t.session.getItem("_TaskId_"),""==s.tips_text&&(s.tips_text=" "),e.submitComponent(s)}n.stepItems[o].component.splice(i,1),n.$apply()});var o=!0;r.find("div").eq(2).on("mouseenter",function(e){function r(e){var t=$.ajax({url:"http://manager.shandianshua.com/sdk/qiniu/token.json",method:"POST",xhrFields:{withCredentials:!0},data:{bucket:"totoro-task"},dataType:"json",async:!1}).responseText;return jQuery.parseJSON(t).result}function i(e){var t=new Image;t.style.width="75px",t.style.height="110px";var n=new mOxie.Image;n.onload=function(){n.downsize(300,300),t.setAttribute("src",n.getAsDataURL()),$("#upImgProofPreview"+a+s).append(t),$("#upImgProofPreview"+a+s).css("display","block")},n.load(e.getSource())}if(e.stopPropagation(),o){if(console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var s=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var s=$(this).parents("li")[0].id.substr(-2,2);else var s=$(this).parents("li")[0].id.substr(-1,1);var a=$(this).parents("li")[1].id.substr(-1,1),l=[],u=Qiniu.uploader({runtimes:"html5,html4",browse_button:"upImgProof"+n.stepIndex+s,container:"upImgProofList"+n.stepIndex+s,max_file_size:"100mb",chunk_size:"5mb",multi_selection:!0,get_new_uptoken:!0,uptoken_func:r,domain:" http://task.totoro.cdn.shandianshua.com",unique_names:!0,auto_start:!0,init:{FilesAdded:function(e,t){console.log(t)},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(e,t,r){console.log(t),console.log(r),$("#upImgProofPreview"+a+s).children("img").remove(),i(t),l.push(jQuery.parseJSON(r)),console.log(l);var o=e.getOption("domain"),u=jQuery.parseJSON(r),c="";c+=o+"/"+u.key,n.stepItems[a].component[s].tips_image=c,console.log(n.stepItems[a].component[s])},Error:function(e,t,n){console.log(t)},UploadComplete:function(){var e=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");n.stepItems[a].component[s].task_id=e,n.$apply()},Key:function(e,t){var n="";return n}}});console.log(u),o=!1}})}}}])}),define("dirLaydate",["app"],function(e){return e.directive("ngcLayDate",["$timeout",function(e){return{require:"?ngModel",restrict:"A",scope:{ngModel:"=",maxDate:"@",minDate:"@"},link:function(t,n,r,i){var o=null,s={};e(function(){function e(){setTimeout(function(){var e=n.val();i.$setViewValue(e)},100)}s={elem:"#"+r.id,format:void 0!=r.format&&""!=r.format?r.format:"YYYY-MM-DD hh:mm:ss",max:r.hasOwnProperty("maxDate")?r.maxDate:"",min:r.hasOwnProperty("minDate")?r.minDate:"",choose:function(n){t.$apply(e())},clear:function(){t.$apply(e())}},o=laydate(s),r.hasOwnProperty("maxDate")&&r.$observe("maxDate",function(e){s.max=e}),r.hasOwnProperty("minDate")&&r.$observe("minDate",function(e){s.min=e}),i.$render=function(){n.val(i.$viewValue||"")},n.on("blur keyup change",function(){t.$apply(e())}),e()},0)}}}])}),define("dirAddStep",["app","storageUtils"],function(e,t){e.directive("stepModule",[function(){return{restrict:"EA",templateUrl:"tpls/stepModule.html",controller:["$scope","$timeout","serverService",function(e,n,r){e.showEditUrlByButton=!1,e.showEditUrl=function(t){e.stepItems[t].oldSteps.url||(e.stepItems[t].oldSteps.url="url")},e.middleItems=[],e.showText=function(n){var i=[],o=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");r.getComponent(o).then(function(s){t.session.setItem("_component_",s.result);var a=t.session.getItem("_component_");a&&null!=a&&a.forEach(function(e,t){1!=e.status||e.tips_text||i.push({id:e.id,order:e.order})});for(var l=0;l<e.stepItems[n].component.length;l++)if((!e.stepItems[n].component[l].tips_text||" "==e.stepItems[n].component[l].tips_text)&&1==e.stepItems[n].component[l].status){e.stepItems[n].component[l].tips_text="";for(var u=0;u<i.length;u++)e.stepItems[n].component[l].order!=i[u].order||(e.stepItems[n].component[l].id=i[u].id,e.stepItems[n].component[l].task_id=o,r.submitComponent(e.stepItems[n].component[l]).then(function(e){200==e.code}))}})},e.textProof=function(r){t.session.getItem("_saved_");t.session.setItem("_comIndex_",r);var i=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_"),o={id:"",order:1e4-e.componentItems.length,compress:1,options:"",options_other:0,regex:"",status:1,step_id:e.stepItems[r].oldSteps.id,type:1,task_id:i,tips_text:"",tips_image:"",isText:!0};e.stepItems[r].component.push(o),e.componentItems.push(o),t.session.setItem("_component_",e.componentItems),n(function(){$("#scroll"+r).height()>406&&$("#imgUrl"+r).animate({scrollTop:$("#scroll"+r).height()-406})},100)},e.showOtherType=function(){e.typePhoto=!e.typePhoto,e.typeCamera=!e.typeCamera,e.typeAll=!e.typeAll},e.imgProof=function(r,i){var o=(t.session.getItem("_saved_"),t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),s={id:"",order:1e4-e.componentItems.length,compress:1,options:"",options_other:0,regex:"",regex_name:null,status:1,step_id:e.stepItems[r].oldSteps.id,type:2,task_id:o,tips_text:"",tips_image:"",isText:!0};3==i&&(s.type=3),4==i&&(s.type=4),e.stepItems[r].component.push(s),e.componentItems.push(s),t.session.setItem("_component_",e.componentItems),e.typePhoto=!1,e.typeCamera=!1,e.typeAll=!1,n(function(){$("#scroll"+r).height()>406&&$("#imgUrl"+r).animate({scrollTop:$("#scroll"+r).height()-406})},100)},e.posProof=function(r){var i=(t.session.getItem("_saved_"),t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),o={id:"",order:1e4-e.componentItems.length,compress:1,options:"",options_other:0,regex:"",regex_name:null,status:1,step_id:e.stepItems[r].oldSteps.id,type:5,task_id:i,tips_text:"",tips_image:"",isText:!0};e.stepItems[r].component.push(o),e.componentItems.push(o),t.session.setItem("_component_",e.componentItems),n(function(){$("#scroll"+r).height()>406&&$("#imgUrl"+r).animate({scrollTop:$("#scroll"+r).height()-406})},100)},e.audioProof=function(r){var i=(t.session.getItem("_saved_"),t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),o={id:"",order:1e4-e.componentItems.length,compress:1,options:"",options_other:0,regex:"",regex_name:null,status:1,step_id:e.stepItems[r].oldSteps.id,type:6,task_id:i,tips_text:"",tips_image:"",isText:!0};e.stepItems[r].component.push(o),e.componentItems.push(o),t.session.setItem("_component_",e.componentItems),n(function(){$("#scroll"+r).height()>406&&$("#imgUrl"+r).animate({scrollTop:$("#scroll"+r).height()-406})},100)},e.radioproof=function(r){var i=(t.session.getItem("_saved_"),t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),o={id:"",order:1e4-e.componentItems.length,regex:"",regex_name:null,status:1,step_id:e.stepItems[r].oldSteps.id,type:7,task_id:i,tips_text:"",tips_image:"",compress:1,options:"",options_other:0,isText:!0};e.stepItems[r].component.push(o),e.componentItems.push(o),t.session.setItem("_component_",e.componentItems),n(function(){$("#scroll"+r).height()>406&&$("#imgUrl"+r).animate({scrollTop:$("#scroll"+r).height()-406})},100)},e.checkboxproof=function(){var r=(t.session.getItem("_saved_"),t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),i={id:"",order:1e4-e.componentItems.length,regex:"",regex_name:null,status:1,step_id:e.stepItems[index].oldSteps.id,type:8,task_id:r,tips_text:"",tips_image:"",isText:!0};e.stepItems[index].component.push(i),e.componentItems.push(i),t.session.setItem("_component_",e.componentItems),n(function(){$("#scroll"+index).height()>406&&$("#imgUrl"+index).scrollTop($("#scroll"+index).height())},100)},e.stepItems.forEach(function(e,t){e.oldSteps.title||(e.oldSteps.title=""),e.oldSteps.desc||(e.oldSteps.desc=""),e.oldSteps.url||(e.oldSteps.url="")});var i;e.showTitle=function(e){i=!0,$("#imgUrl"+e+"stepTitle").parent("div").siblings("li").find(".show-text").find("input").not(".radio-input").css("display","none"),$("#imgUrl"+e+"stepTitle").parent("div").siblings("li").find(".show-text").find("p").css("background",""),$("#imgUrl"+e+"stepTitle").parent("div").siblings("li").find(".show-text").find("span").css("display","none"),$("#imgUrl"+e+"stepDesc").children("p").css("width",288),$("#imgUrl"+e+"stepDesc").children("p").css("background-color",""),$("#imgUrl"+e+"stepUrl").children("p").css("background-color",""),$("#imgUrl"+e+"stepUrl").children("p").css("width",288),$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").css("display","none"),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").css("display","none"),$("#imgUrl"+e+"stepUrl .step-title-span").css("display","none"),$("#imgUrl"+e+"stepDesc .step-title-span").css("display","none");var t=$("#imgUrl"+e+"stepTitle .step-title-span").parent("p").height();$("#imgUrl"+e+"stepTitle .step-title-span").css("display","block"),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").css("display","block");$("#imgUrl"+e+"stepTitle").children("input").eq("-1").height();$("#imgUrl"+e+"stepTitle .step-title-span").css("height",t),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").css("display","block"),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").css("border-color","#FFCCBC"),$("#imgUrl"+e+"stepTitle").children("p").css("background-color","rgba(255,87,33,0.26);"),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").blur(function(){$("#imgUrl"+e+"stepTitle").children("p").css("background-color",""),$(this).css("display","none"),$("#imgUrl"+e+"stepTitle .step-title-span").css("display","none")})},e.showDesc=function(e){$("#imgUrl"+e+"stepDesc").parent("div").siblings("li").find(".show-text").find("input").not(".radio-input").css("display","none"),$("#imgUrl"+e+"stepDesc").parent("div").siblings("li").find(".show-text").find("p").css("background",""),$("#imgUrl"+e+"stepDesc").parent("div").siblings("li").find(".show-text").find("span").css("display","none"),$("#imgUrl"+e+"stepTitle").children("p").css("background-color",""),$("#imgUrl"+e+"stepUrl").children("p").css("background-color",""),$("#imgUrl"+e+"stepUrl .step-title-span").css("display","none"),$("#imgUrl"+e+"stepTitle .step-title-span").css("display","none"),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").css("display","none"),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").css("display","none");var t=$("#imgUrl"+e+"stepDesc .step-title-span").parent("p").height();$("#imgUrl"+e+"stepDesc .step-title-span").css("display","block"),$("#imgUrl"+e+"stepDesc .step-title-span").css("right","-30"),i&&$("#imgUrl"+e+"stepDesc .step-title-span").css("right","-35");$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").height();$("#imgUrl"+e+"stepDesc .step-title-span").css("height",t),$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").css("display","block"),$("#imgUrl"+e+"stepDesc").children("p").css("background-color","rgba(255,87,33,0.26);"),$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").css("height",t),$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").blur(function(){$("#imgUrl"+e+"stepDesc").children("p").css("background-color",""),$(this).css("display","none"),$("#imgUrl"+e+"stepDesc .step-title-span").css("display","none")})},e.showUrl=function(e){$("#imgUrl"+e+"stepUrl").parent("div").siblings("li").find(".show-text").find("input").not(".radio-input").css("display","none"),$("#imgUrl"+e+"stepUrl").parent("div").siblings("li").find(".show-text").find("p").css("background",""),$("#imgUrl"+e+"stepUrl").parent("div").siblings("li").find(".show-text").find("span").css("display","none"),$("#imgUrl"+e+"stepTitle").children("p").css("background-color",""),$("#imgUrl"+e+"stepDesc").children("p").css("background-color",""),$("#imgUrl"+e+"stepTitle").children("input").eq("-1").css("display","none"),$("#imgUrl"+e+"stepDesc").children("textarea").eq("-1").css("display","none"),
$("#imgUrl"+e+"stepDesc .step-title-span").css("display","none"),$("#imgUrl"+e+"stepTitle .step-title-span").css("display","none");var t=$("#imgUrl"+e+"stepUrl .step-title-span").parent("p").height();$("#imgUrl"+e+"stepUrl .step-title-span").css("display","block"),$("#imgUrl"+e+"stepUrl .step-title-span").css("right","-30"),i&&$("#imgUrl"+e+"stepUrl .step-title-span").css("right","-35"),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").css("display","block");var n=$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").height();$("#imgUrl"+e+"stepUrl .step-title-span").css("height",t),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").css("top",(t-n-5)/2),$("#imgUrl"+e+"stepUrl").children("p").css("background-color","rgba(255,87,33,0.26);"),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").focus(function(){"url"==$(this).val()&&$(this).val("")}),$("#imgUrl"+e+"stepUrl").children("textarea").eq("-1").blur(function(){$("#imgUrl"+e+"stepUrl").children("p").css("background-color",""),$(this).css("display","none"),$("#imgUrl"+e+"stepUrl .step-title-span").css("display","none")})},e.showImg=function(t){e.stepItems[t].oldSteps.images_list.push("../img/show_img.png"),n(function(){$("#scroll"+t).height()>406&&$("#imgUrl"+t).animate({scrollTop:$("#scroll"+t).height()-406})},100)}}]}}])}),define("dirPosProof",["app","storageUtils"],function(e,t){e.directive("posProofModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/posProof.html",link:function(n,r,i){document.getElementById("slideInput");r.find("img").eq(-1).click(function(r){if(r.stopPropagation(),r.stopPropagation(),console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-2,2);else var i=$(this).parents("li")[0].id.substr(-1,1);var o=$(this).parents("li")[1].id.substr(-1,1);if(n.stepItems[o].component[i].status=0,n.stepItems[o].component[i].id){var s=n.stepItems[o].component[i];s.task_id=t.session.getItem("_TaskId_"),""==s.tips_text&&(s.tips_text=" "),e.submitComponent(s)}n.stepItems[o].component.splice(i,1),n.$apply()})}}}])}),define("dirAudioProof",["app","storageUtils"],function(e,t){e.directive("audioProofModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/audioProof.html",link:function(n,r,i){r.click(function(){r.find("textarea").eq(0).css("visibility","visible"),r.find("textarea").eq(0).css("display","block"),r.find(".audio-proof-wrap").css("display","block"),r.find(".audio-proof-mask").css("display","block"),r.parent("div").parent("li").siblings("li").find("textarea").css("display","none"),r.parent("div").parent("li").siblings("li").find(".audio-proof-mask").css("display","none"),r.find("textarea").eq(0).on("click",function(e){e=window.event||event,e.stopPropagation()})}),r.find("textarea").eq(0).on("blur",function(){if($(this).css("visibility","hidden"),r.find(".audio-proof-mask").css("display","none"),16==$(this).parents("li")[0].id.length)var e=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var e=$(this).parents("li")[0].id.substr(-2,2);else var e=$(this).parents("li")[0].id.substr(-1,1);var i=$(this).parents("li")[1].id.substr(-1,1),o=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");n.stepItems[i].component[e].task_id=o,""==n.stepItems[i].component[e].tips_text&&(n.stepItems[i].component[e].tips_text="",n.$apply())}),r.find("textarea").eq(0).click(function(e){e.stopPropagation(),""==$(this).val()&&$(this).val("")}),r.find("img").eq(-1).click(function(i){var o=r.find("img");if(i.stopPropagation(),console.log(o.parents("li")),16==o.parents("li")[0].id.length)var s=o.parents("li")[0].id.substr(-3,3);else if(15==o.parents("li")[0].id.length)var s=o.parents("li")[0].id.substr(-2,2);else var s=o.parents("li")[0].id.substr(-1,1);var a=o.parents("li")[1].id.substr(-1,1);if(n.stepItems[a].component[s].status=0,n.stepItems[a].component[s].id){var l=n.stepItems[a].component[s];l.task_id=t.session.getItem("_TaskId_"),""==l.tips_text&&(l.tips_text=" "),e.submitComponent(l)}n.stepItems[a].component.splice(s,1),n.$apply()})}}}])}),define("dirRadioProof",["app","storageUtils"],function(e,t){e.directive("radioProofModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/radioProof.html",link:function(n,r,i){if(16==r.parents("li")[0].id.length)var o=r.parents("li")[0].id.substr(-3,3);else if(15==r.parents("li")[0].id.length)var o=r.parents("li")[0].id.substr(-2,2);else var o=r.parents("li")[0].id.substr(-1,1);n.comIndex=o,n.stepIndex=r.parents("ul")[0].id.substr(-1,1),"}"==o&&(n.optionsArr=n.stepItems[n.stepIndex].component[n.stepItems[n.stepIndex].component.length-1].options.split("\n"),o=n.stepItems[n.stepIndex].component.length-1,n.comIndex=o),7==n.stepItems[n.stepIndex].component[o].type&&(n.optionsArr=n.stepItems[n.stepIndex].component[o].options.split("\n")),7==n.stepItems[n.stepIndex].component[o].type&&(n.optionsArr=n.stepItems[n.stepIndex].component[o].options.split("\n")),n.changeOptions=function(e){if(16==r.parents("li")[0].id.length)var t=r.parents("li")[0].id.substr(-3,3);else if(15==r.parents("li")[0].id.length)var t=r.parents("li")[0].id.substr(-2,2);else var t=r.parents("li")[0].id.substr(-1,1);console.log(t);var i=n.stepItems[n.stepIndex].component[t].options.split("\n");i[e]=$("#input"+n.stepIndex+t+e).val(),n.stepItems[n.stepIndex].component[t].options=i.join("\n")},n.addRadioOption=function(){if(16==r.parents("li")[0].id.length)var e=r.parents("li")[0].id.substr(-3,3);else if(15==r.parents("li")[0].id.length)var e=r.parents("li")[0].id.substr(-2,2);else var e=r.parents("li")[0].id.substr(-1,1);n.stepItems[n.stepIndex].component[e].options+="\n",n.optionsArr=n.stepItems[n.stepIndex].component[o].options.split("\n"),setTimeout(function(){var e=$("#imgUrl"+n.stepIndex).scrollTop();$("#imgUrl"+n.stepIndex).scrollTop(e+40)},50)},n.delRadioOption=function(e){if(16==r.parents("li")[0].id.length)var t=r.parents("li")[0].id.substr(-3,3);else if(15==r.parents("li")[0].id.length)var t=r.parents("li")[0].id.substr(-2,2);else var t=r.parents("li")[0].id.substr(-1,1);var i=n.stepItems[n.stepIndex].component[t].options.split("\n");i.splice(e,1),n.stepItems[n.stepIndex].component[t].options=i.join("\n"),n.optionsArr=i},r.find("img").eq(-1).click(function(r){if(r.stopPropagation(),console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-2,2);else var i=$(this).parents("li")[0].id.substr(-1,1);var o=$(this).parents("li")[1].id.substr(-1,1);if(n.stepItems[o].component[i].status=0,n.stepItems[o].component[i].id){var s=n.stepItems[o].component[i];if(s.task_id=t.session.getItem("_TaskId_"),""==s.tips_text&&(s.tips_text=" "),s.options.indexOf("")>-1){var a=n.stepItems[n.stepIndex].component[i].options.split("\n");a.forEach(function(e,t){""==e&&a.splice(t,1),n.stepItems[n.stepIndex].component[i].options=a.join("\n")})}s.options=n.stepItems[n.stepIndex].component[i].options,e.submitComponent(s)}n.stepItems[o].component.splice(i,1),n.$apply()})}}}])}),define("dirShowImg",["app","storageUtils"],function(e,t){e.directive("showImgModule",["serverService",function(e){return{restrict:"EA",templateUrl:"tpls/showImg.html",link:function(e,n,r){e.stepIndex=n.parents("ul")[0].id.substr(-1,1),e.images.indexOf("http://")==-1&&(n.find("img").eq(0).src="./img/show_img.png",e.images="./img/show_img.png"),n.click(function(){console.log(n.parent("div").siblings().find("textarea")),n.parent("div").siblings().find("p").css("background-color",""),n.parent("div").siblings().find("input").css("display","none"),n.parent("div").siblings().find("textarea").css("display","none"),n.parent("div").siblings().find(".step-title-span").css("display","none"),n.parent("div").parent("div").siblings("li").find("input").not(".radio-input").css("display","none"),n.parent("div").parent("div").siblings("li").find("p").css("background",""),n.parent("div").parent("div").siblings("li").find("span").not(".tips").css("display","none")});var i=!0;n.find("img").eq(0).on("mouseenter",function(n){function r(e){var t=$.ajax({url:"http://manager.shandianshua.com/sdk/qiniu/token.json",method:"POST",xhrFields:{withCredentials:!0},data:{bucket:"totoro-task"},dataType:"json",async:!1}).responseText;return jQuery.parseJSON(t).result}function o(t){var n=new Image;n.style.width="100%",n.style.height="100%";var r=new mOxie.Image;r.onload=function(){r.downsize(300,300),n.setAttribute("src",r.getAsDataURL()),$("#preview"+e.stepIndex+s).append(n),$("#preview"+e.stepIndex+s).css("display","block")},r.load(t.getSource())}if(n.stopPropagation(),i){var s=$(this).attr("id");s=s.substr(-1,1);var a=[];Qiniu.uploader({runtimes:"html5,html4",browse_button:"step"+e.stepIndex+"Img"+s,container:"stepContainer"+e.stepIndex+"Img"+s,max_file_size:"100mb",chunk_size:"5mb",multi_selection:!0,get_new_uptoken:!0,uptoken_func:r,domain:" http://task.totoro.cdn.shandianshua.com",unique_names:!0,auto_start:!0,init:{FilesAdded:function(e,t){console.log(t)},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(t,n,r){console.log(n),console.log(r),$("#preview"+e.stepIndex+s).children("img").remove(),o(n),a.push(jQuery.parseJSON(r)),console.log(a);var i=t.getOption("domain"),l=jQuery.parseJSON(r),u="";if(u+=i+"/"+l.key,e.stepItems[e.stepIndex].oldSteps.images_list[s]){e.stepItems[e.stepIndex].oldSteps.images_list[s]=u;var c=e.stepItems[e.stepIndex].oldSteps.images.split("\n");c[s]=u,e.stepItems[e.stepIndex].oldSteps.images=c.join("\n")}else e.stepItems[e.stepIndex].oldSteps.images_list[s]=u,e.stepItems[e.stepIndex].oldSteps.images+="\n"+u+"\n"},Error:function(e,t,n){console.log(t)},UploadComplete:function(){t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")},Key:function(e,t){var n="";return n}}});i=!1}}),n.find("img").eq(-1).click(function(n){n.stopPropagation();var r=$(this).attr("id");if(r=r.substr(-1,1),1==e.stepItems[e.stepIndex].oldSteps.images_list.length)return e.stepItems[e.stepIndex].oldSteps.images_list=[],e.stepItems[e.stepIndex].oldSteps.images=" ",$(this).css("display","none"),void e.$apply();var i=e.stepItems[e.stepIndex].oldSteps.images.split("\n");i.splice(r,1),e.stepItems[e.stepIndex].oldSteps.images=i.join("\n");t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");e.stepItems[e.stepIndex].oldSteps.images_list.splice(r,1),$(this).css("display","none"),e.$apply()})}}}])}),define("dirShowText",["app","storageUtils"],function(e,t){e.directive("showTextModule",[function(){return{restrict:"EA",templateUrl:"tpls/showText.html",link:function(e,n,r){e.textIndex=n.parents("ul")[0].id.substr(-1,1),n.click(function(){n.parent("div").parent("li").siblings("div").find("p").css("background-color",""),n.parent("div").parent("li").siblings("div").find("input").css("display","none"),n.parent("div").parent("li").siblings("div").find("span").css("display","none"),n.parent("div").parent("li").siblings("div").find("textarea").css("display","none"),n.find("input").eq(0).css("display","block"),n.find("p").css("background-color","rgba(255,87,33,0.26);"),n.find("span").css("display","block"),console.log(n),n.parent("div").parent("li").siblings("li").find("input").not(".radio-input").css("display","none"),n.parent("div").parent("li").siblings("li").find("p").css("background-color",""),n.parent("div").parent("li").siblings("li").find("span").css("display","none"),n.find("input").click(function(e){e.stopPropagation(),""==$(this).val()&&$(this).val("")}),n.find("input").eq(0).keyup(function(){t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");if(1==this.value.length){if(16==$(this).parents("li")[0].id.length)var n=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var n=$(this).parents("li")[0].id.substr(-2,2);else var n=$(this).parents("li")[0].id.substr(-1,1);var r=$(this).parents("li")[1].id.substr(-1,1);console.log(r),e.stepItems[r].component[n].isText=!0}})}),n.find("input").eq(0).blur(function(){var r=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");if($(this).css("display","none"),n.find("span").css("display","none"),n.find("p").css("background-color",""),16==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var i=$(this).parents("li")[0].id.substr(-2,2);else var i=$(this).parents("li")[0].id.substr(-1,1);var o=$(this).parents("li")[1].id.substr(-1,1);console.log(o),e.stepItems[o].component[i].isText=!1,e.stepItems[o].component[i].task_id=r,""==e.stepItems[o].component[i].tips_text&&(e.stepItems[o].component[i].tips_text="",e.$apply())}),n.find("img").click(function(n){if(n.stopPropagation(),console.log($(this).parents("li")),16==$(this).parents("li")[0].id.length)var r=$(this).parents("li")[0].id.substr(-3,3);else if(15==$(this).parents("li")[0].id.length)var r=$(this).parents("li")[0].id.substr(-2,2);else var r=$(this).parents("li")[0].id.substr(-1,1);var i=$(this).parents("li")[1].id.substr(-1,1);e.stepItems[i].component[r].tips_text=" ",e.stepItems[i].component[r].isText=" ";var o=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");e.stepItems[i].component[r].task_id=o,$(this).css("display","none"),e.$apply()})},controller:["$scope",function(e){}]}}])}),define("dirKeyEvents",["app","storageUtils"],function(e,t){e.directive("keyEvents",[function(){return{restrict:"A",link:function(e,n,r,i){n.one("click",function(n){function r(t){var n=window.event?t.keyCode:t.which;console.log(n),187==n||107==n?0==e.tabSelected?$(".tr-right-fallow").trigger("click"):2==e.tabSelected&&$(".rn-right-fallow").trigger("click"):97==n||49==n?$("#reasonDetail0").trigger("click"):98==n||50==n?$("#reasonDetail1").trigger("click"):99!=n&&51!=n||(e.showRejCover=!0,$("#orderReason").trigger("keyup"))}t.session.getItem("_keyuped_")||(0==e.tabSelected?$(".to-key-area").ready(function(){t.session.setItem("_keyuped_",!0),$(document).unbind("keyup"),$(document).bind("keyup",r)}):2==e.tabSelected&&$(".no-key-area").ready(function(){$(document).unbind("keyup"),t.session.setItem("_keyuped_",!0),$(document).bind("keyup",r)}))})}}}])}),define("headerCtrl",["app"],function(e,t){return e.controller("headerCtrl",["$scope",function(e){e.isBlue=1,1==e.isBlue&&(window.location="#/taskList"),e.changeBlue=function(t){e.isBlue=t}}])}),define("newTaskCtrl",["app","storageUtils"],function(e,t){return e.controller("newTaskCtrl",["$scope","$timeout","serverService",function(e,n,r){var i=t.session.getItem("editData");i?(e.task=i,console.log(e.task)):e.task={title:"",desc:"",num:"",start_time:"",end_time:"",task_free_num:"",share_award:"",amount:"",max_check_time:"",max_submit_time:"",order:"",max_submit:"",tag_id:"",region_filter:"",is_reward:1,share_title:"",share_content:"",share_icon:""},e.showShareOther=!1,(e.task.share_title||e.task.share_content||e.taskshare_icon)&&(e.showShareOther=!0),e.showOtherShareItem=function(){e.showShareOther=!0,n(function(){$(".left").height($(".new-task").height()+11)},10)},r.getSelectData().then(function(t){e.areaItems=t.result,e.areaItems.push({value:"",code:""}),e.areaItems.forEach(function(t,n){t.code==e.task.region_filter&&(e.currentArea=t.value)}),e.task.region_filter&&""!=e.task.region_filter||(e.currentArea="")}),e.newtaskTitle="",e.newTaskCount="",e.isshow=!1,e.redOne="",e.showTaskDesc=e.task.desc.replace(/\n/g,"<br>"),e.changeShowTaskDesc=function(){console.log("changed"),e.showTaskDesc=e.task.desc.replace(/\n/g,"<br>")},e.deviceType="",0==e.task.device?e.deviceType="":1==e.task.device?(e.deviceType="android",e.task.android_version&&(e.deviceType="android"+e.task.android_version)):2==e.task.device&&(e.deviceType="ios"),0==e.task.tag_id?(e.tagType="",e.showLineDown=!1):6==e.task.tag_id?(e.tagType="APP",e.showLineDown=!1):5==e.task.tag_id?(e.tagType="",e.showLineDown=!1):4==e.task.tag_id?(e.tagType="",e.showLineDown=!1):3==e.task.tag_id?(e.tagType="",e.showLineDown=!1):7==e.task.tag_id&&(e.tagType="",e.showLineDown=!0),e.versionItems=[{version:""},{version:"android"},{version:"ios"}],e.tagItems=[{tagItem:"APP"},{tagItem:""},{tagItem:""},{tagItem:""},{tagItem:""},{tagItem:""}],e.changeTag=function(){n(function(){$(".left").height($(".new-task").height()+11)},100),"APP"==e.taskTag.tagItem&&(e.task.tag_id=6,e.showLineDown=!1,e.tagType=""),""==e.taskTag.tagItem&&(e.task.tag_id="5",e.showLineDown=!1,e.tagType=""),""==e.taskTag.tagItem&&(e.task.tag_id="4",e.showLineDown=!1,e.tagType=""),""==e.taskTag.tagItem&&(e.task.tag_id="3",e.showLineDown=!1,e.tagType=""),""==e.taskTag.tagItem&&(e.task.tag_id="7",e.showLineDown=!0,e.tagType=""),""==e.taskTag.tagItem&&(e.task.tag_id="0",e.showLineDown=!1,e.tagType="")},e.changeLineVersion=function(){"android"==e.lineVersion.version&&(e.task.device="1"),"ios"==e.lineVersion.version&&(e.task.device="2"),""==e.lineVersion.version&&(e.task.device="0")},e.changeReviewTime=function(){e.reviewTimeDay=Math.ceil(1*e.task.max_check_time/24)},e.changeReviewTime(),e.ntSavePage=function(n){e.task.tag_id||(e.task.tag_id=0),e.areaItems.forEach(function(t,n){e.showArea&&null!=e.showArea?e.showArea&&t.value==e.showArea.value&&(e.task.region_filter=t.code):t.value==e.currentArea&&(e.task.region_filter=t.code)}),e.task.order=100,e.task.poi_id||(e.task.poi_id=""),i=t.session.setItem("editData",e.task),console.log(e.task),r.submitSavePage(e.task).then(function(i){if(200==i.code){if(1!=n&&alert(""),e.task.id){t.session.setItem("_TaskId_",e.task.id);var o=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");o&&null!=o&&r.getComponent(o).then(function(e){console.log(e),t.session.setItem("_component_",e.result)})}else t.session.setItem("_newTaskid_",i.result);window.location="#/addStep"}else alert("~")})},e.ntNextPage=function(){e.ntSavePage(1);var n=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");n&&null!=n&&r.getComponent(n).then(function(e){console.log(e),t.session.setItem("_component_",e.result)})},e.ntPrePage=function(){t.session.removeItem("editData"),t.session.setItem("_DOWNLINE_",!0),window.location="#/taskList"},e.priceDesc=!1,e.showPriceDesc=function(){e.priceDesc=!e.priceDesc},n(function(){$(".left").height($(".new-task").height()+11)},100)}])}),define("taskListCtrl",["app","storageUtils"],function(e,t){return e.controller("taskListCtrl",["$rootScope","$scope","$timeout","serverService",function(e,n,r,i){r(function(){$(".left").css("height","calc(100% - 72px)")},100),t.session.removeItem("editData"),t.session.removeItem("_TaskId_"),t.session.removeItem("_newTaskid_"),t.session.removeItem("_oldStep_"),t.session.removeItem("_component_"),t.session.removeItem("_comIndex_"),t.session.removeItem("_componentId_"),t.session.removeItem("_toReviewSort_"),t.session.removeItem("_toReviewOrder_"),t.session.removeItem("_reviewOkSort_"),t.session.removeItem("_reviewOkOrder_"),t.session.removeItem("_reviewNoSort_"),t.session.removeItem("_reviewNoOrder_"),t.session.removeItem("_otherReason_"),n.chooseType=1,n.searchByTaskId=!0,n.searchByTaskName=!1,n.searchByPoiId=!1,n.state="",n.selected="",n.loadingState="",n.loadingDevice="",n.loadingUser="",n.nowUser="",n.data={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20,show_nocheck:1},t.session.getItem("_DOWNLINE_")&&(n.data.user=1,r(function(){$("#belongUser>option").eq(0).attr("selected",!1),$("#belongUser>option").eq(-1).attr("selected",!0)},300),t.session.removeItem("_DOWNLINE_"),n.nowUserFlag=!0,n.userLate=!0),i.getAllTask(n.data).then(function(r){var o=$("#indexProgressImage"),s=$("#indexMaskOfProgressImage");o.hide(),s.hide(),e.taskLists=r.result.rows,n.items=r.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),e.totalCount=r.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20,show_nocheck:1};n.nowUserFlag&&(r.user=1,n.loadingUser="",n.userLate=!0),i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},console.log(n.items),n.setChoose=function(e){switch(n.chooseType=e,e){case 1:n.searchByTaskId=!0,n.searchByTaskName=!1,n.searchByPoiId=!1;break;case 2:n.searchByTaskId=!1,n.searchByTaskName=!0,n.searchByPoiId=!1;break;case 3:n.searchByTaskId=!1,n.searchByTaskName=!1,n.searchByPoiId=!0}},n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.testNum=new RegExp("/d"),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.upStateShow=function(){return t.session.setItem("_state_",n.taskState),null==n.taskState?(n.nowUserFlag=!1,void(n.statusLate?n.stateItems.forEach(function(e,t){e.state==n.loadingState&&(n.taskState=e,n.statusLate=!1)}):i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20,show_nocheck:1};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}))):void(""==n.taskState.state?i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:1,device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.statusLate=!0,n.loadingState="",t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:1,device:0,user:0,page:t,rows:20,show_nocheck:1};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}):""==n.taskState.state?i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:2,device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.statusLate=!0,n.loadingState="",t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:2,device:0,user:0,page:t,rows:20,show_nocheck:1};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}):""==n.taskState.state&&i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:3,device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t,r){n.statusLate=!0,n.loadingState="",t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var o={id:"",title:"",pid:"",poi_id:"",status:3,device:0,user:0,page:t,rows:20,show_nocheck:1};i.getAllTask(o).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}))},n.upDeviceShow=function(){return null==n.deviceType?void(n.deviceLate?n.deviceItems.forEach(function(e){e.deviceType==n.loadingDevice&&(n.deviceType=e,n.deviceLate=!1)}):i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})):("Android"==n.deviceType.deviceType&&i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:1,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.loadingDevice="Android",n.deviceLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:1,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),void("IOS"==n.deviceType.deviceType&&i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:2,user:0,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.deviceLate=!0,n.loadingDevice="IOS",t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:2,user:0,page:1,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,
n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})))},n.upUserShow=function(){return null==n.belongUser?void(n.userLate&&""!=n.loadingUser?n.belongToUserItems.forEach(function(e,t){e.belongTo==n.loadingUser&&(n.belongUser=e,n.userLate=!1)}):i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})):void i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:1,rows:20,show_nocheck:1}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.loadingUser="",n.userLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})},n.turnToSelf=function(){n.nowUserFlag=!1,n.taskState=null,n.deviceType=null,n.belongUser=null,n.statusLate=!1,n.deviceLate=!1,n.userLate=!1,i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,"")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}]})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})},n.taskSearch=function(){return n.searchByTaskId||n.searchByTaskName||n.searchByPoiId?(1==n.searchByTaskId&&n.searhContent&&i.getAllTask({id:1*n.searhContent,title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searhContent="",e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){if(n.searhContent){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:1*n.searhContent,title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.searhContent=""})}},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),1==n.searchByTaskName&&n.searhContent&&i.getAllTask({id:"",title:n.searhContent,pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:20}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searhContent="",e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:n.searhContent,pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:20};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.searhContent=""})},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),1==n.searchByPoiId&&n.searhContent&&i.getAllTask({id:"",title:"",pid:"",poi_id:n.searhContent,status:"",device:0,user:0,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searhContent="",e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){if(n.searhContent){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:n.searhContent,pid:"",poi_id:"",status:"",device:0,user:0,page:t,rows:10};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAcheive=e.num.split(">")[1].split("<")[0]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.searhContent=""})}},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),void console.log(n.searhContent)):void alert("")},n.downLine=function(e){i.getUpdownLine(n.items[e].id).then(function(e){200==e.code?(alert(""),t.session.setItem("_DOWNLINE_",!0),window.location.reload()):(alert(""),t.session.setItem("_DOWNLINE_",!0),window.location.reload())})},n.editTask=function(e){console.log(n.items[e].id),i.getDatajson(n.items[e].id).then(function(e){console.log(e),t.session.setItem("editData",e),window.location="#/addTask"})},n.copyTask=function(e){var r={id:n.items[e].id};confirm("")&&i.getCopy(r).then(function(e){200==e.code&&(alert(""),t.session.setItem("_DOWNLINE_",!0),window.location.reload())})}})}])}),define("reviewCtrl",["app","storageUtils"],function(e,t,n){return e.controller("reviewCtrl",["$rootScope","$scope","$timeout","serverService",function(e,n,r,i){t.session.removeItem("_toReviewSort_"),t.session.removeItem("_toReviewOrder_"),t.session.removeItem("_reviewOkSort_"),t.session.removeItem("_reviewOkOrder_"),t.session.removeItem("_reviewNoSort_"),t.session.removeItem("_reviewNoOrder_"),r(function(){$(".left").height($(".right").height())},100),t.session.removeItem("_reviewList_");var o=t.session.getItem("_DRAG_");if(t.session.removeItem("searchCheckBydate"),o){t.session.removeItem("_DRAG_");var s=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_");i.getComponent(s).then(function(e){console.log(e),t.session.setItem("_component_",e.result),window.location="#/addStep"})}n.chooseType=1,n.reviewSearchByTaskId=!0,n.reviewSearchByTaskName=!1,n.reviewSearchByPoiId=!1,i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:1,rows:10,show_nocheck:1}).then(function(r){var o=$("#indexProgressImage"),s=$("#indexMaskOfProgressImage");o.hide(),s.hide();var a=[];r.result.rows.forEach(function(e,t){a.push(e)}),n.items=a,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),e.totalCount=r.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:10,show_nocheck:1};i.getAllTask(r).then(function(t){var r=$("#indexProgressImage"),i=$("#indexMaskOfProgressImage");r.hide(),i.hide(),e.taskLists=t.result.rows,n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})},n.setChoose=function(e){switch(n.chooseType=e,e){case 1:n.reviewSearchByTaskId=!0,n.reviewSearchByTaskName=!1,n.reviewSearchByPoiId=!1;break;case 2:n.reviewSearchByTaskId=!1,n.reviewSearchByTaskName=!0,n.reviewSearchByPoiId=!1;break;case 3:n.reviewSearchByTaskId=!1,n.reviewSearchByTaskName=!1,n.reviewSearchByPoiId=!0}},n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")});n.turnToReviewDetail=function(e){t.session.setItem("_reviewList_",n.items[e].id),window.location="#/reviewDetail"},n.exportStates=[{exportState:""},{exportState:""},{exportState:""},{exportState:""}],n.export=function(e,t){e.exportShow=!e.exportShow;var r={id:e.id,uid:"",date:"",status:2,page:1,rows:100};n.chooseState=function(e){console.log(n.exportItem),""==e.exportItem.exportState&&(r.status=2),""==e.exportItem.exportState&&(r.status=1),""==e.exportItem.exportState&&(r.status=3),""==e.exportItem.exportState&&(r.status=4),i.getReviewList(r).then(function(t){e.exportShow=!1,e.exportItem={};var t={uid:"",tid:e.id,date:n.exportSubmitTime,status:r.status,tip:1};if(t.date){var i="http://manager.shandianshua.com/totoro/task/expimp/export/check/data.html?id="+t.tid+"&uid="+t.uid+"&date="+t.date+"&status="+t.status+"&tip=1";window.open(i)}else alert("")})}},n.file_upload=function(e){var t=$("#progressImage"),n=$("#maskOfProgressImage"),r=e.id.substr(-1,1)||e.id.substr(-2,2),i="#totoroTaskCheckFileForm"+r;console.log(i),console.log(new FormData($(i)[0])),$.ajax({url:"http://manager.shandianshua.com/totoro/task/expimp/import/check/data.json",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:new FormData($(i)[0]),contentType:!1,processData:!1,beforeSend:function(e){t.show().css({position:"fixed",top:"40%",left:"45%","margin-top":function(){return-1*t.height()/2},"margin-left":function(){return-1*t.width()/2}}),n.show().css("opacity","0.1")},success:function(e){if("200"===e.code){var t="\n:"+e.result.pass+"\n:"+e.result.fail+"\n:"+e.result.nocheck+"\n";alert(t)}},complete:function(e){t.hide(),n.hide()}})},n.reveiewSearch=function(){return n.reviewSearchByTaskId||n.reviewSearchByTaskName||n.reviewSearchByPoiId?(1==n.reviewSearchByTaskId&&n.searchReviewContent&&i.getAllTask({id:1*n.searchReviewContent,title:"",pid:"",poi_id:"",status:"",device:0,user:0,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searchReviewContent="",n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){if(n.searchReviewContent){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:1*n.searchReviewContent,title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:10};i.getAllTask(r).then(function(e){var t=$("#indexProgressImage"),r=$("#indexMaskOfProgressImage");t.hide(),r.hide(),n.items=e.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.searchReviewContent=""})}},n.items.forEach(function(e,t){1==e.status?e.line="":2==e.status?e.line="":3==e.status&&(e.line="")}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),1==n.reviewSearchByTaskName&&n.searchReviewContent&&i.getAllTask({id:"",title:n.searchReviewContent,pid:"",poi_id:"",status:"",device:0,user:1,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searchReviewContent="",n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1].split("<")[0]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:n.searchReviewContent,pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:10};i.getAllTask(r).then(function(e){var t=$("#indexProgressImage"),r=$("#indexMaskOfProgressImage");t.hide(),r.hide(),n.items=e.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.searchReviewContent=""})},n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),1==n.reviewSearchByPoiId&&n.searchReviewContent&&i.getAllTask({id:"",title:"",pid:"",poi_id:n.searchReviewContent,status:"",device:0,user:1,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.searchReviewContent="",n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){if(n.searchReviewContent){n.statusLate=!0,t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:n.searchReviewContent,pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:10};i.getAllTask(r).then(function(e){var t=$("#indexProgressImage"),r=$("#indexMaskOfProgressImage");t.hide(),r.hide(),n.items=e.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")}),n.stateItems=[{state:""},{state:""},{state:""}],n.deviceItems=[{deviceType:"Android"},{deviceType:"IOS"}],n.belongToUserItems=[{belongTo:""}],n.searchReviewContent=""})}},n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})}),void console.log(n.searchReviewContent)):void alert("")},n.returnToSelf=function(){i.getAllTask({id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:1,rows:10}).then(function(t){var r=$("#indexProgressImage"),o=$("#indexMaskOfProgressImage");r.hide(),o.hide(),n.items=t.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),e.totalCount=t.result.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/20),e.toPage=function(t){t<1&&(t=1),t>e.pageTotal&&(t--,e.pageIndex=t),e.pageIndex=t;var r={id:"",title:"",pid:"",poi_id:"",status:"",device:0,user:1,page:t,rows:10};i.getAllTask(r).then(function(e){var t=$("#indexProgressImage"),r=$("#indexMaskOfProgressImage");t.hide(),r.hide(),n.items=e.result.rows,n.items.forEach(function(e,t){e.title=e.title.replace(/&nbsp;/g,""),n.oneAchieve=e.num.split(">")[1]}),n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})},n.items.forEach(function(e,t){1==e.status?(e.endTime=e.end_time,e.line=""):2==e.status?(e.endTime=e.end_time,e.line=""):3==e.status&&(e.endTime=e.end_time.split(">")[1].substr(0,19),e.line="")})})}})}])}),define("reviewDetailCtrl",["app","storageUtils"],function(e,t,n){return e.controller("reviewDetailCtrl",["$scope","$rootScope","$timeout","$state","serverService",function(e,n,r,i,o){r(function(){$(".left").height($(".right").height())},100);var s=t.session.getItem("_reviewList_");e.reviewId=s,e.chooseType=2,e.tabSelected=0,e.subTime="",e.setChoose=function(t){e.chooseType=t},e.reviewDetailInputStop=function(e){e.stopPropagation()};var a=$(".tabs-header-1");a.click(function(){window.location="#/reviewDetail/reviewDetail/tab1"}),a.trigger("click"),a.off("click"),e.changeTabBorder=function(t){e.tabSelected=t},e.clearTime=function(){e.subTime=""},e.reviewDetailExport=function(){var n="";if(e.reviewUserId&&(n=e.reviewUserId),2==e.chooseType&&e.reviewUserId&&(n=""),0==e.tabSelected)var r=2;else if(1==e.tabSelected)var r=3;else if(2==e.tabSelected)var r=4;var i={uid:n,tid:t.session.getItem("_reviewList_"),date:e.subTime,status:r,tip:1};if(i.date){var o="http://manager.shandianshua.com/totoro/task/expimp/export/check/data.html?id="+i.tid+"&uid="+i.uid+"&date="+i.date+"&status="+i.status+"&tip=1";window.open(o)}else alert("")},e.reviewDetailUpload=function(n){var r=$("#reviewDetailProgressImage"),i=$("#reviewDetailMaskOfProgressImage"),o="#reviewDetailImportForm";console.log(o),console.log(new FormData($(o)[0])),$.ajax({url:"http://manager.shandianshua.com/totoro/task/expimp/import/check/data.json",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:new FormData($(o)[0]),contentType:!1,processData:!1,beforeSend:function(e){r.show().css({position:"fixed",top:"40%",left:"45%","margin-top":function(){return-1*r.height()/2},"margin-left":function(){return-1*r.width()/2}}),i.show().css("opacity","0.1")},success:function(n){if("200"===n.code){var r="\n:"+n.result.pass+"\n:"+n.result.fail+"\n:"+n.result.nocheck+"\n";alert(r),0==e.tabSelected?(t.session.setItem("_imported_",!0),window.location="#/reviewDetail/reviewDetail/tab3"):1==e.tabSelected?(t.session.setItem("_imported__",!0),window.location="#/reviewDetail/reviewDetail/tab1"):2==e.tabSelected&&(t.session.setItem("_imported__",!0),window.location="#/reviewDetail/reviewDetail/tab2")}},complete:function(e){r.hide(),i.hide()}})},e.searchCheckBydate=function(){if(!e.chooseType)return void alert("");if(!e.reviewUserId&&2!=e.chooseType)return void alert("");var n={id:t.session.getItem("_reviewList_"),uid:"",date:e.subTime,status:"",page:1,rows:10};1==e.chooseType&&(n.uid=e.reviewUserId),2==e.chooseType&&e.reviewUserId&&(n.id=e.reviewUserId,t.session.setItem("_reviewList_",n.id),t.session.getItem("_otherReason_")&&t.session.getItem("_otherReason_").taskId!=s&&t.session.removeItem("_otherReason_"),e.reviewId=n.id),0==e.tabSelected&&(n.status=2,n.sort=t.session.getItem("_toReviewSort_"),n.order=t.session.getItem("_toReviewOrder_"),e.resMsg=""),1==e.tabSelected&&(n.status=3,n.sort=t.session.getItem("_reviewOkSort_"),n.order=t.session.getItem("_reviewOkOrder_"),e.resMsg=""),2==e.tabSelected&&(n.status=4,n.sort=t.session.getItem("_reviewNoSort_"),n.order=t.session.getItem("_reviewNoOrder_"),e.resMsg=""),console.log(n),o.getReviewList(n).then(function(n){if(console.log(n),n.result.rows&&n.result.rows.length>0){if(t.session.setItem("searchCheckBydate",n.result),3==n.result.rows[0].status)return void(window.location="#/reviewDetail/reviewDetail/tab1");window.location="#/reviewDetail/reviewDetail/tab2"}else alert(e.resMsg+""),t.session.setItem("searchCheckBydate",n.result),0==e.tabSelected&&(t.session.setItem("_FLAG_",!0),window.location="#/reviewDetail/reviewDetail/tab3"),1==e.tabSelected&&(t.session.setItem("_FLAG_",!0),window.location="#/reviewDetail/reviewDetail/tab1"),2==e.tabSelected&&(t.session.setItem("_FLAG_",!0),window.location="#/reviewDetail/reviewDetail/tab2");e.subTime=""})}}])}),define("toReviewCtrl",["app","storageUtils"],function(e,t){return e.controller("toReviewCtrl",["$rootScope","$scope","$timeout","$window","serverService","mapService",function(e,n,r,i,o,s){t.session.removeItem("_keyuped_"),n.checkedCount=0;var a=(t.session.getItem("_currentPageIndex_"),t.session.getItem("_otherReason_")),l=t.session.getItem("_reviewList_");a&&a.taskId!=l&&t.session.removeItem("_otherReason_");var u=t.session.getItem("_imported_");if(u)return t.session.removeItem("_imported_"),void(window.location="#/reviewDetail/reviewDetail/tab2");var c=t.session.getItem("_FLAG_");if(c)return t.session.removeItem("_FLAG_"),void(window.location="#/reviewDetail/reviewDetail/tab2");var l=t.session.getItem("_reviewList_"),d=t.session.getItem("searchCheckBydate");return console.log(d),d?(e.totalCount=d.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/10),d.rows.length>0&&3==d.rows[0].status?void(window.location="#/reviewDetail/reviewDetail/tab2"):(d.rows.length>0&&(n.closeCover=function(e){e.stopPropagation(),n.showRejCover=!1},n.stopSub=function(e){e.stopPropagation()},t.session.getItem("_otherReason_")&&(n.otherReason=t.session.getItem("_otherReason_").otherReason),n.toReviewItems=d.rows,n.toReview=n.toReviewItems[0].data,n.checkedBox=0,n.changeColor=0,n.currentIndex=0,e.totalCount=d.total,e.pageIndex=1,e.pageTotal=Math.ceil(n.totalCount/10),e.toPage=function(t){if($(".to-review-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>e.pageTotal)return t--,void(e.pageIndex=t);n.masterHeader=!1,n.masterItem=!1,e.pageIndex=t,n.reviewUserId&&2==n.chooseType&&(n.reviewUserId=""),n.chooseType||(n.reviewUserId="");var r={id:l,uid:n.reviewUserId,date:n.subTime,status:2,page:t,rows:10};o.getReviewList(r).then(function(e){n.toReviewItems=e.result.rows,n.toReviewItems&&n.toReviewItems.length>0&&(n.toReview=n.toReviewItems[0].data,0==$socpe.toReview.length&&$socpe.toReview.push({}),o.getInfoData({uid:n.toReviewItems[0].uid,tid:n.toReviewItems[0].id}).then(function(e){n.currentIndex=0,n.changeColor=0,n.toReview[0].amount=e.result.amount,n.toReview[0].check_fail=e.result.check_fail,n.toReview[0].invited=e.result.invited,n.toReview[0].regist_time=e.result.regist_time,n.toReview[0].task_check_fail=e.result.task_check_fail}),n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.initOk=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},n.flag=!1,n.masterItem=!1,n.changeRight=function(e,t){e&&e.data?o.getInfoData({uid:e.uid,tid:e.id}).then(function(t){n.toReview=e.data,0==n.toReview.length&&n.push({}),n.toReview[0].amount=t.result.amount,n.toReview[0].check_fail=t.result.check_fail,n.toReview[0].invited=t.result.invited,n.toReview[0].regist_time=t.result.regist_time,n.toReview[0].task_check_fail=t.result.task_check_fail,n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):n.toReview={},n.changeColor=t,n.currentIndex=t,$(".to-review-left").animate({scrollTop:72*n.currentIndex})},n.changeRight(n.toReviewItems[0],0),n.all=function(e){n.masterItem=e;for(var t=0;t<n.toReviewItems.length;t++)n.toReviewItems[t].checkState=e},n.cancelOne=function(e,t,r){e=event||window.event,e&&e.stopPropagation&&e.stopPropagation(),n.toReviewItems[r].checkState=t;for(var i=0;i<n.toReviewItems.length;i++){if(!n.toReviewItems[i].checkState)return n.masterHeader=!1,n.flag=!1,!1;n.masterHeader=!0,n.flag=!0}},n.toNext=function(){n.currentIndex++,n.currentIndex>=n.toReviewItems.length&&(n.currentIndex=n.toReviewItems.length-1),n.changeRight(n.toReviewItems[n.currentIndex],n.currentIndex)},n.toPrev=function(){n.currentIndex--,n.currentIndex<0&&(n.currentIndex=0),n.changeRight(n.toReviewItems[n.currentIndex],n.currentIndex)},n.trRightAllow=function(i){i.stopPropagation();var s=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&s.push(e)}),0==s.length)return void alert("");if(confirm("?"))if(n.masterHeader&&1==n.masterHeader){for(var a=0;a<n.toReviewItems.length;a++)o.check({ids:n.toReviewItems[a].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_Allowed_",!0):t.session.setItem("_Allowed_",!1)}),n.masterHeader=!1,n.changeRight(null);r(function(){"true"==t.session.getItem("_Allowed_")&&(alert(""),t.session.removeItem("_Allowed_"),t.session.setItem("_keyuped_",!0),t.session.setItem("_currentCheckIndex_",10),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),n.toReviewItems=[],n.masterHeader=!1,t.session.setItem("_reviewNo_",n.toReviewItems)}else{for(var a=(n.toReviewItems.length,0);a<n.toReviewItems.length;a++)1==n.toReviewItems[a].checkState&&(o.check({ids:n.toReviewItems[a].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_Allowed_",!0):t.session.setItem("_Allowed_",!1)}),n.toReviewItems.splice(a,1),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),a--);r(function(){"true"==t.session.getItem("_Allowed_")&&(alert(""),t.session.removeItem("_Allowed_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentPageIndex_",e.pageIndex):t.session.setItem("_currentPageIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}},n.reasonLists=[{reasonText:""},{reasonText:""}],n.showRejCover=!1,n.changeReasonBg=function(e){n.bg=e},n.subReason=function(i,s,a){i.stopPropagation();var l=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&l.push(e)}),0==l.length)return void alert("");if(confirm("")){i&&i.stopPropagation(),n.toReviewItems.forEach(function(e,t){1==e.checkState&&n.checkedCount++});var u={ids:"",status:0,message:3,extmessage:"",reason:n.reasonLists[s].reasonText};if(0==s&&(u.message=3),1==s&&(u.message=4),a)if(t.session.getItem("_otherReason_")&&n.otherReason)u.extmessage=t.session.getItem("_otherReason_").otherReason;else if(n.otherReason&&!t.session.getItem("_otherReason_")){var c={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",c),u.extmessage=n.otherReason}if(n.masterHeader&&1==n.masterHeader){for(var d=0;d<n.toReviewItems.length;d++)u.ids=n.toReviewItems[d].cid,
o.check(u).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.masterHeader=!1,n.changeRight(null);n.toReviewItems=[],n.masterHeader=!1,r(function(){"true"==t.session.getItem("_Fail_")&&(alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),t.session.setItem("_currentCheckIndex_",10),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200)}else{for(var f=n.toReviewItems.length,d=0;d<n.toReviewItems.length;d++)1==n.toReviewItems[d].checkState&&(console.log(n.toReviewItems[d].nickName+""),u.ids=n.toReviewItems[d].cid,o.check(u).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.toReviewItems.splice(d,1),n.checkedCount>=1&&0!=d&&10==f?t.session.setItem("_currentCheckIndex_",10-n.checkedCount):n.checkedCount>1&&0==d&&10==f&&t.session.setItem("_currentCheckIndex_",10-n.checkedCount),d--);r(function(){"true"==t.session.getItem("_Fail_")&&(alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}n.showRejCover=!1}},n.subOtherReason=function(i){if(i){var s=window.event?i.keyCode:i.which;if(13==s){i.stopPropagation();var a=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&a.push(e)}),0==a.length)return void alert("");if(confirm("")){if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&n.checkedCount++}),n.masterHeader&&1==n.masterHeader){for(var l=0;l<n.toReviewItems.length;l++)o.check({ids:n.toReviewItems[l].cid,status:0,message:3,extmessage:n.otherReason}).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.masterHeader=!1,r(function(){if("true"==t.session.getItem("_Fail_")){alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),t.session.setItem("_currentCheckIndex_",10),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1);var r={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",r),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"}},200),n.changeRight(null);n.toReviewItems=[]}else{for(var u=n.toReviewItems.length,l=0;l<n.toReviewItems.length;l++)1==n.toReviewItems[l].checkState&&(o.check({ids:n.toReviewItems[l].cid,status:0,message:3,extmessage:n.otherReason}).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.toReviewItems.splice(l,1),n.checkedCount>=1&&0!=l&&10==u?t.session.setItem("_currentCheckIndex_",10-n.checkedCount):n.checkedCount>1&&0==l&&10==u&&t.session.setItem("_currentCheckIndex_",10-n.checkedCount),l--);r(function(){if("true"==t.session.getItem("_Fail_")){alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1);var r={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",r),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"}},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}n.showRejCover=!1}else t.session.setItem("_otherReason_",n.otherReason)}}},n.showRejCoverFn=function(){n.showRejCover=!0},n.orderByTimes=function(r){var i=t.session.getItem("_reviewList_");2==n.chooseType&&(n.reviewUserId=""),n.chooseType||(n.reviewUserId="");var s={id:i,uid:n.reviewUserId,date:n.subTime,status:"",page:e.pageIndex,rows:10,sort:"created_time",order:"desc"};switch(r){case 1:s.sort="created_time",s.order="asc";break;case 2:s.sort="submit_time",s.order="asc";break;case 3:s.sort="surplus_check_time",s.order="desc"}switch(n.orderFlag&&(s.order="desc",3==r&&(s.order="asc")),n.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}o.getReviewList(s).then(function(r){n.orderFlag=!n.orderFlag,n.toReviewItems=r.result.rows,e.totalCount=r.result.total,e.pageIndex=e.pageIndex,e.pageTotal=Math.ceil(n.totalCount/10),e.toPage=function(t){if($(".to-review-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>e.pageTotal)return t--,void(e.pageIndex=t);n.masterHeader=!1,n.masterItem=!1,e.pageIndex=t;var r={id:i,uid:n.reviewUserId,date:n.subTime,status:2,page:t,rows:10,order:s.order,sort:s.sort};o.getReviewList(r).then(function(e){n.toReviewItems=e.result.rows,n.toReviewItems&&n.toReviewItems.length>0&&(n.toReview=n.toReviewItems[0].data,0==$socpe.toReview.length&&n.toReview.push({}),o.getInfoData({uid:n.toReviewItems[0].uid,tid:n.toReviewItems[0].id}).then(function(e){n.currentIndex=0,n.changeColor=0,n.toReview[0].amount=e.result.amount,n.toReview[0].check_fail=e.result.check_fail,n.toReview[0].invited=e.result.invited,n.toReview[0].regist_time=e.result.regist_time,n.toReview[0].task_check_fail=e.result.task_check_fail}),n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},n.changeRight(n.toReviewItems[0],0),t.session.setItem("_toReviewSort_",s.sort),t.session.setItem("_toReviewOrder_",s.order)})}),void t.session.removeItem("searchCheckBydate"))):(n.reviewUserId&&2==n.chooseType&&(n.reviewUserId=""),n.chooseType||(n.reviewUserId=""),n.data={id:l,uid:n.reviewUserId,date:n.subTime,status:2,page:1,rows:10},t.session.getItem("_currentPageIndex_")&&(n.data.page=t.session.getItem("_currentPageIndex_")),t.session.getItem("_toReviewSort_")&&(n.data.sort=t.session.getItem("_toReviewSort_")),t.session.getItem("_toReviewOrder_")&&(n.data.order=t.session.getItem("_toReviewOrder_")),void o.getReviewList(n.data).then(function(i){if(n.closeCover=function(e){e.stopPropagation(),n.showRejCover=!1},n.stopSub=function(e){e.stopPropagation()},n.toReviewItems=i.result.rows,e.totalCount=i.result.total,t.session.getItem("_currentPageIndex_")?e.pageIndex=t.session.getItem("_currentPageIndex_"):e.pageIndex=1,t.session.removeItem("_currentPageIndex_"),e.pageTotal=Math.ceil(n.totalCount/10),e.toPage=function(t){if($(".to-review-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>e.pageTotal)return t--,void(e.pageIndex=t);n.masterHeader=!1,n.masterItem=!1,e.pageIndex=t;var r={id:l,uid:n.reviewUserId,date:n.subTime,status:2,page:t,rows:10,sort:n.data.sort,order:n.data.order};o.getReviewList(r).then(function(e){n.toReviewItems=e.result.rows,n.toReviewItems&&n.toReviewItems.length>0&&(n.toReview=n.toReviewItems[0].data,0==n.toReview.length&&n.toReview.push({}),o.getInfoData({uid:n.toReviewItems[0].uid,tid:n.toReviewItems[0].id}).then(function(e){n.currentIndex=0,n.changeColor=0,n.toReview[0].amount=e.result.amount,n.toReview[0].check_fail=e.result.check_fail,n.toReview[0].invited=e.result.invited,n.toReview[0].regist_time=e.result.regist_time,n.toReview[0].task_check_fail=e.result.task_check_fail}),n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},!(n.toReviewItems&&n.toReviewItems.length>0))return void r(function(){alert("")},50);if(n.toReview=n.toReviewItems[0].data,0==n.toReview.length&&n.toReview.push({}),o.getInfoData({uid:n.toReviewItems[0].uid,tid:n.toReviewItems[0].id}).then(function(e){n.toReview[0].amount=e.result.amount,n.toReview[0].check_fail=e.result.check_fail,n.toReview[0].invited=e.result.invited,n.toReview[0].regist_time=e.result.regist_time,n.toReview[0].task_check_fail=e.result.task_check_fail}),n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.init=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},console.log(n.toReview),n.checkedBox=0,n.changeColor=0,n.currentIndex=0,n.flag=!1,n.masterItem=!1,t.session.getItem("_otherReason_")&&(n.otherReason=t.session.getItem("_otherReason_").otherReason),n.changeRight=function(e,t){e&&e.data?o.getInfoData({uid:e.uid,tid:e.id}).then(function(t){n.toReview=e.data,0==n.toReview.length&&n.toReview.push({}),n.toReview[0].amount=t.result.amount,n.toReview[0].check_fail=t.result.check_fail,n.toReview[0].invited=t.result.invited,n.toReview[0].regist_time=t.result.regist_time,n.toReview[0].task_check_fail=t.result.task_check_fail,n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):n.toReview={},n.changeColor=t,n.currentIndex=t,$(".to-review-left").animate({scrollTop:72*n.currentIndex})},n.all=function(e){n.masterItem=e;for(var t=0;t<n.toReviewItems.length;t++)n.toReviewItems[t].checkState=e},n.cancelOne=function(e,t,r){e=event||window.event,e&&e.stopPropagation&&e.stopPropagation(),n.toReviewItems[r].checkState=t;for(var i=0;i<n.toReviewItems.length;i++){if(!n.toReviewItems[i].checkState)return n.masterHeader=!1,n.flag=!1,!1;n.masterHeader=!0,n.flag=!0}},n.toNext=function(){n.currentIndex++,n.currentIndex>=n.toReviewItems.length&&(n.currentIndex=n.toReviewItems.length-1),n.changeRight(n.toReviewItems[n.currentIndex],n.currentIndex)},n.toPrev=function(){n.currentIndex--,n.currentIndex<0&&(n.currentIndex=0),n.changeRight(n.toReviewItems[n.currentIndex],n.currentIndex)},n.trRightAllow=function(i){i.stopPropagation();var s=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&s.push(e)}),0==s.length)return void alert("");if(confirm("")){n.toReviewItems.forEach(function(e,t){1==e.checkState&&n.checkedCount++});for(var a=n.toReviewItems.length,l=0;l<n.toReviewItems.length;l++)1==n.toReviewItems[l].checkState&&(o.check({ids:n.toReviewItems[l].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_Allowed_",!0):t.session.setItem("_Allowed_",!1)}),n.toReviewItems.splice(l,1),n.checkedCount>=1&&0!=l&&10==a?t.session.setItem("_currentCheckIndex_",10-n.checkedCount):n.checkedCount>1&&0==l&&10==a&&t.session.setItem("_currentCheckIndex_",10-n.checkedCount),l--);r(function(){"true"==t.session.getItem("_Allowed_")&&(alert(""),t.session.removeItem("_Allowed_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}},n.reasonLists=[{reasonText:""},{reasonText:""}],n.showRejCover=!1,n.changeReasonBg=function(e){n.bg=e},n.subReason=function(i,s,a){i.stopPropagation();var l=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&l.push(e)}),0==l.length)return void alert("");if(confirm("")){i.stopPropagation(),n.toReviewItems.forEach(function(e,t){1==e.checkState&&n.checkedCount++});var u={ids:"",status:0,message:3,extmessage:"",reason:n.reasonLists[s].reasonText};if(0==s&&(u.message=3),1==s&&(u.message=4),a)if(t.session.getItem("_otherReason_")&&n.otherReason)u.extmessage=t.session.getItem("_otherReason_").otherReason;else if(n.otherReason&&!t.session.getItem("_otherReason_")){var c={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",c),u.extmessage=n.otherReason}if(n.masterHeader&&1==n.masterHeader){for(var d=0;d<n.toReviewItems.length;d++)u.ids=n.toReviewItems[d].cid,o.check(u).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.masterHeader=!1,n.changeRight(null);n.toReviewItems=[],r(function(){"true"==t.session.getItem("_Fail_")&&(alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_currentCheckIndex_",10),e.pageIndex<e.pageTotal?t.session.setItem("_currentPageIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentPageIndex_",e.pageIndex-1),t.session.setItem("_keyuped_",!0),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),n.masterHeader=!1}else{for(var f=n.toReviewItems.length,d=0;d<n.toReviewItems.length;d++)1==n.toReviewItems[d].checkState&&(u.ids=n.toReviewItems[d].cid,o.check(u).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.toReviewItems.splice(d,1),n.checkedCount>=1&&0!=d&&10==f?t.session.setItem("_currentCheckIndex_",10-n.checkedCount):n.checkedCount>1&&0==d&&10==f&&t.session.setItem("_currentCheckIndex_",10-n.checkedCount),d--);r(function(){"true"==t.session.getItem("_Fail_")&&(alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2")},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}n.showRejCover=!1}},n.subOtherReason=function(i){if(i){var s=window.event?i.keyCode:i.which;if(13==s){i.stopPropagation();var a=[];if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&a.push(e)}),0==a.length)return void alert("");if(confirm("")){if(n.toReviewItems.forEach(function(e,t){1==e.checkState&&n.checkedCount++}),n.masterHeader&&1==n.masterHeader){for(var l=0;l<n.toReviewItems.length;l++)o.check({ids:n.toReviewItems[l].cid,status:0,message:3,extmessage:n.otherReason}).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.masterHeader=!1,n.changeRight(null);n.toReviewItems=[],r(function(){if("true"==t.session.getItem("_Fail_")){alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_currentCheckIndex_",10),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1);var r={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",r),t.session.setItem("_keyuped_",!0),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"}},200)}else{for(var u=n.toReviewItems.length,l=0;l<n.toReviewItems.length;l++)1==n.toReviewItems[l].checkState&&(o.check({ids:n.toReviewItems[l].cid,status:0,message:3,extmessage:n.otherReason}).then(function(e){1==e.result.success?t.session.setItem("_Fail_",!0):t.session.setItem("_Fail_",!1)}),n.toReviewItems.splice(l,1),n.checkedCount>=1&&0!=l&&10==u?t.session.setItem("_currentCheckIndex_",10-n.checkedCount):n.checkedCount>1&&0==l&&10==u&&t.session.setItem("_currentCheckIndex_",10-n.checkedCount),l--);r(function(){if("true"==t.session.getItem("_Fail_")){alert(""),t.session.removeItem("_Fail_"),t.session.setItem("_keyuped_",!0),e.pageIndex<e.pageTotal?t.session.setItem("_currentCheckIndex_",e.pageIndex):e.pageIndex==e.pageTotal&&1!=e.pageIndex&&t.session.setItem("_currentCheckIndex_",e.pageIndex-1);var r={taskId:t.session.getItem("_reviewList_"),otherReason:n.otherReason};t.session.setItem("_otherReason_",r),t.session.setItem("_toReviewChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"}},200),result=n.toReviewItems,n.toReviewItems=result,n.toReviewItems.length>0?n.changeRight(n.toReviewItems[0],0):n.toReview={}}n.showRejCover=!1}else t.session.setItem("_otherReason_",n.otherReason)}}},n.showRejCoverFn=function(){n.showRejCover=!0},n.orderByTimes=function(r){var i=t.session.getItem("_reviewList_");2==n.chooseType&&(n.reviewUserId=""),n.chooseType||(n.reviewUserId="");var s={id:i,uid:n.reviewUserId,date:n.subTime,status:"",page:e.pageIndex,rows:10,sort:"created_time",order:"desc"};switch(r){case 1:s.sort="created_time",s.order="asc";break;case 2:s.sort="submit_time",s.order="asc";break;case 3:s.sort="surplus_check_time",s.order="desc"}switch(n.orderFlag&&(s.order="desc",3==r&&(s.order="asc")),n.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}o.getReviewList(s).then(function(r){n.orderFlag=!n.orderFlag,n.toReviewItems=r.result.rows,n.changeRight(n.toReviewItems[0],0),e.totalCount=r.result.total,e.pageIndex=e.pageIndex,e.pageTotal=Math.ceil(n.totalCount/10),e.toPage=function(t){if($(".to-review-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>e.pageTotal)return t--,void(e.pageIndex=t);n.masterHeader=!1,n.masterItem=!1,e.pageIndex=t;var r={id:i,uid:n.reviewUserId,date:n.subTime,status:2,page:t,rows:10,order:s.order,sort:s.sort};o.getReviewList(r).then(function(e){n.toReviewItems=e.result.rows,n.toReviewItems&&n.toReviewItems.length>0&&(n.toReview=n.toReviewItems[0].data,0==n.toReview.length&&n.toReview.push({}),o.getInfoData({uid:n.toReviewItems[0].uid,tid:n.toReviewItems[0].id}).then(function(e){n.currentIndex=0,n.changeColor=0,n.toReview[0].amount=e.result.amount,n.toReview[0].check_fail=e.result.check_fail,n.toReview[0].invited=e.result.invited,n.toReview[0].regist_time=e.result.regist_time,n.toReview[0].task_check_fail=e.result.task_check_fail}),n.toReview.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},t.session.setItem("_toReviewSort_",s.sort),t.session.setItem("_toReviewOrder_",s.order)})},t.session.getItem("_currentCheckIndex_")&&10!=t.session.getItem("_currentCheckIndex_")){var s=t.session.getItem("_currentCheckIndex_");t.session.removeItem("_currentCheckIndex_"),n.changeRight(n.toReviewItems[s],s)}else t.session.removeItem("_currentCheckIndex_"),n.changeRight(n.toReviewItems[0],0)}))}])}),define("reviewOkCtrl",["app","storageUtils"],function(e,t,n){return e.controller("reviewOkCtrl",["$scope","$rootScope","$timeout","serverService",function(e,n,r,i){var o=t.session.getItem("_FLAG_"),s=t.session.getItem("_imported_"),a=t.session.getItem("_toReviewChecked_"),l=t.session.getItem("_reviewNoChecked_");if(s)return t.session.removeItem("_imported_"),void(window.location="#/reviewDetail/reviewDetail/tab3");if(o)return t.session.removeItem("_FLAG_"),void(window.location="#/reviewDetail/reviewDetail/tab3");if(a)return t.session.removeItem("_toReviewChecked_"),void(window.location="#/reviewDetail/reviewDetail/tab1");if(l)return t.session.removeItem("_reviewNoChecked_"),void(window.location="#/reviewDetail/reviewDetail/tab3");var u=t.session.getItem("_reviewList_"),c=t.session.getItem("searchCheckBydate");if(c)return n.totalCount=c.total,n.pageIndex=1,n.pageTotal=Math.ceil(e.totalCount/10),c.rows.length>0&&2==c.rows[0].status?void(window.location="#/reviewDetail/reviewDetail/tab1"):c.rows.length>0&&4==c.rows[0].status?void(window.location="#/reviewDetail/reviewDetail/tab3"):(c.rows.length>0&&3==c.rows[0].status&&(e.reviewOkItems=c.rows,e.reviewOk=e.reviewOkItems[0].data,e.changeColor=0,e.currentIndex=0,n.totalCount=c.total,n.pageIndex=1,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-ok-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);n.pageIndex=t,e.reviewUserId&&2==e.chooseType&&(e.reviewUserId="");var r={id:u,uid:e.reviewUserId,date:e.subTime,status:3,page:t,rows:10};i.getReviewList(r).then(function(t){e.reviewOkItems=t.result.rows,e.reviewOkItems&&e.reviewOkItems.length>0&&(e.reviewOk=e.reviewOkItems[0].data,0==e.reviewOk.length&&e.reviewOk.push({}),i.getInfoData({uid:e.reviewOkItems[0].uid,tid:e.reviewOkItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewOk[0].amount=t.result.amount,e.reviewOk[0].check_fail=t.result.check_fail,e.reviewOk[0].invited=t.result.invited,e.reviewOk[0].regist_time=t.result.regist_time,e.reviewOk[0].task_check_fail=t.result.task_check_fail}),e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.initOk=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},e.flag=!1,e.masterItem=!1,e.all=function(t){e.masterItem=t;for(var n=0;n<e.reviewOkItems.length;n++)e.reviewOkItems[n].checkState=t},e.cancelOne=function(t,n,r){t=event||window.event,t&&t.stopPropagation&&t.stopPropagation(),e.reviewOkItems[r].checkState=n;for(var i=0;i<e.reviewOkItems.length;i++){if(!e.reviewOkItems[i].checkState)return e.masterHeader=!1,e.flag=!1,!1;e.flag=!0}},e.changeRight=function(t,n){t&&t.data?i.getInfoData({uid:t.uid,tid:t.id}).then(function(n){e.reviewOk=t.data,0==e.reviewOk.length&&e.reviewOk.push({}),e.reviewOk[0].amount=n.result.amount,e.reviewOk[0].check_fail=n.result.check_fail,e.reviewOk[0].invited=n.result.invited,e.reviewOk[0].regist_time=n.result.regist_time,e.reviewOk[0].task_check_fail=n.result.task_check_fail,e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):e.reviewOk={},e.changeColor=n,e.currentIndex=n,$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},e.changeRight(e.reviewOkItems[0],0),e.okNext=function(){e.currentIndex++,e.currentIndex>=e.reviewOkItems.length&&(e.currentIndex=e.reviewOkItems.length-1),e.changeRight(e.reviewOkItems[e.currentIndex],e.currentIndex),$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},e.okPrev=function(){e.currentIndex--,e.currentIndex<0&&(e.currentIndex=0),e.changeRight(e.reviewOkItems[e.currentIndex],e.currentIndex),$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},e.orderByTimes=function(r){var o=t.session.getItem("_reviewList_");2!=e.chooseType&&e.chooseType||(e.reviewUserId=""),e.chooseType||(e.reviewUserId="");var s={id:o,uid:e.reviewUserId,date:e.subTime,status:"",page:n.pageIndex,rows:10,sort:"created_time",order:"desc"};switch(r){case 0:s.sort="created_time",s.order="asc";break;case 1:s.sort="submit_time",s.order="asc";break;case 2:s.sort="surplus_check_time",s.order="desc"}switch(e.orderFlag&&(s.order="desc",3==r&&(s.order="asc")),e.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}i.getReviewList(s).then(function(r){e.orderFlag=!e.orderFlag,e.reviewOkItems=r.result.rows,e.changeRight(e.reviewOkItems[0],0),n.totalCount=r.result.total,n.pageIndex=n.pageIndex,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-ok-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);n.pageIndex=t;var r={id:o,uid:e.reviewUserId,date:e.subTime,status:3,page:t,rows:10,order:s.order,sort:s.sort};i.getReviewList(r).then(function(t){e.reviewOkItems=t.result.rows,e.reviewOkItems&&e.reviewOkItems.length>0&&(e.reviewOk=e.reviewOkItems[0].data,0==e.reviewOk.length&&e.reviewOk.push({}),i.getInfoData({uid:e.reviewOkItems[0].uid,tid:e.reviewOkItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewOk[0].amount=t.result.amount,e.reviewOk[0].check_fail=t.result.check_fail,e.reviewOk[0].invited=t.result.invited,e.reviewOk[0].regist_time=t.result.regist_time,e.reviewOk[0].task_check_fail=t.result.task_check_fail}),e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},t.session.setItem("_reviewOkSort_",s.sort),t.session.setItem("_reviewOkOrder_",s.order)})}),void t.session.removeItem("searchCheckBydate"));var u=t.session.getItem("_reviewList_");e.reviewUserId&&2==e.chooseType&&(e.reviewUserId=""),e.chooseType||(e.reviewUserId=""),e.data={id:u,uid:e.reviewUserId,date:e.subTime,status:3,page:1,rows:10},t.session.getItem("_reviewOkSort_")&&(e.data.sort=t.session.getItem("_reviewOkSort_")),t.session.getItem("_reviewOkOrder_")&&(e.data.order=t.session.getItem("_reviewOkOrder_")),i.getReviewList(e.data).then(function(o){return console.log(o),e.reviewOkItems=o.result.rows,n.totalCount=o.result.total,n.pageIndex=1,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-ok-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);n.pageIndex=t;var r={id:u,uid:e.reviewUserId,date:e.subTime,status:3,page:t,rows:10,sort:e.data.sort,order:e.data.order};i.getReviewList(r).then(function(t){e.reviewOkItems=t.result.rows,e.reviewOkItems&&e.reviewOkItems.length>0&&(e.reviewOk=e.reviewOkItems[0].data,0==e.reviewOk.length&&$socpe.reviewOk.push({}),i.getInfoData({uid:e.reviewOkItems[0].uid,tid:e.reviewOkItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewOk[0].amount=t.result.amount,e.reviewOk[0].check_fail=t.result.check_fail,e.reviewOk[0].invited=t.result.invited,e.reviewOk[0].regist_time=t.result.regist_time,e.reviewOk[0].task_check_fail=t.result.task_check_fail}),e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},e.reviewOkItems&&e.reviewOkItems.length>0?(e.reviewOk=e.reviewOkItems[0].data,0==e.reviewOk.length&&e.reviewOk.push({}),i.getInfoData({uid:e.reviewOkItems[0].uid,tid:e.reviewOkItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewOk[0].amount=t.result.amount,e.reviewOk[0].check_fail=t.result.check_fail,e.reviewOk[0].invited=t.result.invited,e.reviewOk[0].regist_time=t.result.regist_time,e.reviewOk[0].task_check_fail=t.result.task_check_fail}),e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.initOk=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},e.changeColor=0,e.currentIndex=0,e.flag=!1,e.masterItem=!1,e.all=function(t){e.masterItem=t;for(var n=0;n<e.reviewOkItems.length;n++)e.reviewOkItems[n].checkState=t},e.cancelOne=function(t,n,r){t=event||window.event,t&&t.stopPropagation&&t.stopPropagation(),e.reviewOkItems[r].checkState=n;for(var i=0;i<e.reviewOkItems.length;i++){if(!e.reviewOkItems[i].checkState)return e.masterHeader=!1,e.flag=!1,!1;e.flag=!0}},e.changeRight=function(t,n){t&&t.data?i.getInfoData({uid:t.uid,tid:t.id}).then(function(n){e.reviewOk=t.data,0==e.reviewOk.length&&e.reviewOk.push({}),e.reviewOk[0].amount=n.result.amount,e.reviewOk[0].check_fail=n.result.check_fail,e.reviewOk[0].invited=n.result.invited,e.reviewOk[0].regist_time=n.result.regist_time,e.reviewOk[0].task_check_fail=n.result.task_check_fail,e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):e.reviewOk={},e.changeColor=n,e.currentIndex=n,$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},e.okNext=function(){e.currentIndex++,e.currentIndex>=e.reviewOkItems.length&&(e.currentIndex=e.reviewOkItems.length-1),e.changeRight(e.reviewOkItems[e.currentIndex],e.currentIndex),$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},e.okPrev=function(){e.currentIndex--,e.currentIndex<0&&(e.currentIndex=0),e.changeRight(e.reviewOkItems[e.currentIndex],e.currentIndex),$(".review-ok-left").animate({scrollTop:72*e.currentIndex})},void(e.orderByTimes=function(r){var o=t.session.getItem("_reviewList_");2==e.chooseType&&(e.reviewUserId=""),e.chooseType||(e.reviewUserId="");var s={id:o,uid:e.reviewUserId,date:e.subTime,status:"",page:n.pageIndex,rows:10,sort:"created_time",order:"desc"};switch(r){case 0:s.sort="created_time",s.order="asc";break;case 1:s.sort="submit_time",s.order="asc";break;case 2:s.sort="surplus_check_time",s.order="desc"}switch(e.orderFlag&&(s.order="desc",2==r&&(s.order="asc")),e.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}i.getReviewList(s).then(function(r){e.orderFlag=!e.orderFlag,e.reviewOkItems=r.result.rows,e.changeRight(e.reviewOkItems[0],0),n.totalCount=r.result.total,n.pageIndex=n.pageIndex,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-ok-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);n.pageIndex=t;var r={id:o,uid:e.reviewUserId,date:e.subTime,status:3,page:t,rows:10,order:s.order,sort:s.sort};i.getReviewList(r).then(function(t){e.reviewOkItems=t.result.rows,e.reviewOkItems&&e.reviewOkItems.length>0&&(e.reviewOk=e.reviewOkItems[0].data,0==e.reviewOk.length&&$socpe.reviewOk.push({}),i.getInfoData({uid:e.reviewOkItems[0].uid,tid:e.reviewOkItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewOk[0].amount=t.result.amount,e.reviewOk[0].check_fail=t.result.check_fail,e.reviewOk[0].invited=t.result.invited,e.reviewOk[0].regist_time=t.result.regist_time,e.reviewOk[0].task_check_fail=t.result.task_check_fail}),e.reviewOk.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},t.session.setItem("_reviewOkSort_",s.sort),t.session.setItem("_reviewOkOrder_",s.order)})})):void r(function(){alert("")},50)})}])}),define("serverService",["app"],function(e){e.factory("serverService",["$http","$q",function(e,t){function n(e){var n=$("#indexProgressImage"),r=$("#indexMaskOfProgressImage"),i=t.defer();e.show_nocheck=1;var o="http://localhost:8088/longmao_build/public/mock/taskList.json";return $.ajax({type:"POST",url:o,xhrFields:{withCredentials:!0},data:e,beforeSend:function(e){n.show().css({position:"fixed",top:"40%",left:"45%","margin-top":function(){return-1*n.height()/2},"margin-left":function(){return-1*n.width()/2}}),r.show().css("opacity","0.1")},success:function(e){i.resolve(e)},error:function(e){console.error(e)}}),i.promise}function r(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/data.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:{id:e},success:function(e){n.resolve(e.result)},error:function(e){console.error(e)}}),n.promise}function i(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/save.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function o(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/steps/list.json?task_id=";return $.ajax({type:"POST",url:r+e,xhrFields:{withCredentials:!0},success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function s(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/status.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:{id:e},success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function a(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/check/list.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function l(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/expimp/export/check/data.html";return $.ajax({type:"GET",url:r,xhrFields:{withCredentials:!0},params:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function u(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/expimp/import/check/data.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},headers:{"Content-Type":"multipart/form-data"},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function c(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/check/check.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function d(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/steps/save.json";return $.ajax({type:"POST",url:r,
xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function f(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/component/save.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function p(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/component/list.json?task_id=";return $.ajax({type:"POST",url:r+e,xhrFields:{withCredentials:!0},success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function h(){var e=t.defer(),n="http://manager.test.shandianshua.com/sys/dict/options.json?key=DICT.COMMON.REGEXP.IPREGEXP";return $.ajax({type:"POST",url:n,xhrFields:{withCredentials:!0},success:function(t){e.resolve(t)},error:function(e){console.error(e)}}),e.promise}function m(){var e=t.defer(),n="http://manager.test.shandianshua.com/sys/dict/options.json?key=DICT.TOTORO.TASK.UNIQUEREGEXP";return $.ajax({type:"POST",url:n,xhrFields:{withCredentials:!0},success:function(t){e.resolve(t)},error:function(e){console.error(e)}}),e.promise}function g(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/check/user/info.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}function v(e){var n=t.defer(),r="http://manager.test.shandianshua.com/totoro/task/task/copy.json";return $.ajax({type:"POST",url:r,xhrFields:{withCredentials:!0},data:e,success:function(e){n.resolve(e)},error:function(e){console.error(e)}}),n.promise}return{getSelectData:h,getAllTask:n,getDatajson:r,submitSavePage:i,getStepById:o,getUpdownLine:s,getReviewList:a,exportReview:l,importReview:u,check:c,saveStep:d,submitComponent:f,getComponent:p,getInfoData:g,getRegex:m,getCopy:v}}])}),define("reviewNoCtrl",["app","storageUtils","serverService"],function(e,t,n){return e.controller("reviewNoCtrl",["$scope","$rootScope","$timeout","serverService",function(e,n,r,i){t.session.removeItem("_keyuped_"),e.checkedCount=0;var o=t.session.getItem("_imported_"),s=t.session.getItem("_reviewList_"),a=t.session.getItem("_FLAG_");if(o)return t.session.removeItem("_imported_"),void(window.location="#/reviewDetail/reviewDetail/tab1");if(a)return t.session.removeItem("_FLAG_"),void(window.location="#/reviewDetail/reviewDetail/tab1");var l=t.session.getItem("searchCheckBydate");if(l)return n.totalCount=l.total,n.pageIndex=1,n.pageTotal=Math.ceil(e.totalCount/10),l.rows.length>0&&4==l.rows[0].status&&(e.reviewNoItems=l.rows,e.reviewNo=e.reviewNoItems[0].data,e.changeColor=0,e.currentIndex=0,n.totalCount=l.total,n.pageIndex=1,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-no-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);e.masterHeader=!1,e.masterItem=!1,n.pageIndex=t,e.reviewUserId&&2==e.chooseType&&(e.reviewUserId=""),e.chooseType||(e.reviewUserId="");var r={id:s,uid:e.reviewUserId,date:e.subTime,status:4,page:t,rows:10};i.getReviewList(r).then(function(t){e.reviewNoItems=t.result.rows,e.reviewNoItems&&e.reviewNoItems.length>0&&(e.reviewNo=e.reviewNoItems[0].data,0==e.reviewNo.length&&e.reviewNo.push({}),i.getInfoData({uid:e.reviewNoItems[0].uid,tid:e.reviewNoItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewNo[0].amount=t.result.amount,e.reviewNo[0].check_fail=t.result.check_fail,e.reviewNo[0].invited=t.result.invited,e.reviewNo[0].regist_time=t.result.regist_time,e.reviewNo[0].task_check_fail=t.result.task_check_fail}),e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.initNo=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},e.flag=!1,e.masterItem=!1,e.all=function(t){e.masterItem=t;for(var n=0;n<e.reviewNoItems.length;n++)e.reviewNoItems[n].checkState=t},e.cancelOne=function(t,n,r){t=event||window.event,t&&t.stopPropagation&&t.stopPropagation(),e.reviewNoItems[r].checkState=n;for(var i=0;i<e.reviewNoItems.length;i++){if(!e.reviewNoItems[i].checkState)return e.masterHeader=!1,e.flag=!1,!1;e.flag=!0}},e.changeRight=function(t,n){t&&t.data?i.getInfoData({uid:t.uid,tid:t.id}).then(function(n){e.reviewNo=t.data,0==e.reviewNo.length&&e.reviewNo.push({}),e.reviewNo[0].amount=n.result.amount,e.reviewNo[0].check_fail=n.result.check_fail,e.reviewNo[0].invited=n.result.invited,e.reviewNo[0].regist_time=n.result.regist_time,e.reviewNo[0].task_check_fail=n.result.task_check_fail,e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):e.reviewNo={},e.changeColor=n,e.currentIndex=n,$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.changeRight(e.reviewNoItems[0],0),e.noReviewNext=function(){e.currentIndex++,e.currentIndex>=e.reviewNoItems.length&&(e.currentIndex=e.reviewNoItems.length-1),e.changeRight(e.reviewNoItems[e.currentIndex],e.currentIndex),$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.noPrev=function(){e.currentIndex--,e.currentIndex<0&&(e.currentIndex=0),e.changeRight(e.reviewNoItems[e.currentIndex],e.currentIndex),$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.rnRightAllow=function(o){o.stopPropagation();var s=[];if(e.reviewNoItems.forEach(function(e,t){1==e.checkState&&s.push(e)}),0==s.length)return void alert("");if(confirm("?"))if(e.reviewNoItems.forEach(function(t,n){1==t.checkState&&e.checkedCount++}),e.masterHeader&&1==e.masterHeader){for(var a=0;a<e.reviewNoItems.length;a++)i.check({ids:e.reviewNoItems[a].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_NotoAllow_",!0):t.session.setItem("_NotoAllow_",!1)}),e.masterHeader=!1,e.changeRight(null);e.reviewNoItems=[],e.masterHeader=!1,r(function(){"true"==t.session.getItem("_NotoAllow_")?(alert(""),t.session.removeItem("_NotoAllow_"),t.session.setItem("_noReviewCurrentCheckIndex_",10),t.session.setItem("_keyuped_",!0),n.pageIndex<n.pageTotal?t.session.setItem("_noCurrentPageIndex_",n.pageIndex):n.pageIndex==n.pageTotal&&1!=n.pageIndex&&t.session.setItem("_noCurrentPageIndex_",n.pageIndex-1),t.session.setItem("_reviewNoChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"):alert("")},200),t.session.setItem("_reviewNo_",e.reviewNoItems)}else{for(var l=e.reviewNoItems.length,a=0;a<e.reviewNoItems.length;a++)1==e.reviewNoItems[a].checkState&&(i.check({ids:e.reviewNoItems[a].cid,status:1}).then(function(e){1==e.result.success&&t.session.setItem("_NotoAllow_",!0)}),e.reviewNoItems.splice(a,1),e.checkedCount>=1&&0!=a&&10==l?t.session.setItem("_noReviewCurrentCheckIndex_",10-e.checkedCount):e.checkedCount>1&&0==a&&10==l&&t.session.setItem("_noReviewCurrentCheckIndex_",10-e.checkedCount),a--);r(function(){"true"==t.session.getItem("_NotoAllow_")?(alert(""),t.session.removeItem("_NotoAllow_"),t.session.setItem("_reviewNoChecked_",!0),t.session.setItem("_keyuped_",!0),n.pageIndex<n.pageTotal?t.session.setItem("_noCurrentPageIndex_",n.pageIndex):n.pageIndex==n.pageTotal&&1!=n.pageIndex&&t.session.setItem("_noCurrentPageIndex_",n.pageIndex-1),window.location="#/reviewDetail/reviewDetail/tab2"):alert("")},200),result=e.reviewNoItems,e.reviewNoItems=result,e.reviewNoItems.length>0?e.changeRight(e.reviewNoItems[0],0):e.reviewNo={}}},e.orderByTimes=function(r){var o=t.session.getItem("_reviewList_");2!=e.chooseType&&e.chooseType||(e.reviewUserId="");var s={id:o,uid:e.reviewUserId,date:e.subTime,status:"",page:1,rows:10,sort:"created_time",order:"desc"};switch(r){case 1:s.sort="created_time",s.order="asc";break;case 2:s.sort="submit_time",s.order="asc";break;case 3:s.sort="surplus_check_time",s.order="desc"}switch(e.orderFlag&&(s.order="desc",3==r&&(s.order="asc")),e.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}i.getReviewList(s).then(function(r){e.orderFlag=!e.orderFlag,e.reviewNoItems=r.result.rows,e.changeRight(e.reviewNoItems[0],0),n.totalCount=r.result.total,n.pageIndex=n.pageIndex,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-no-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);e.masterHeader=!1,e.masterItem=!1,n.pageIndex=t;var r={id:o,uid:e.reviewUserId,date:e.subTime,status:4,page:t,rows:10,order:s.order,sort:s.sort};i.getReviewList(r).then(function(t){e.reviewNoItems=t.result.rows,e.reviewNoItems&&e.reviewNoItems.length>0&&(e.reviewNo=e.reviewNoItems[0].data,0==e.reviewNo.length&&e.reviewNo.push({}),i.getInfoData({uid:e.reviewNoItems[0].uid,tid:e.reviewNoItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewNo[0].amount=t.result.amount,e.reviewNo[0].check_fail=t.result.check_fail,e.reviewNo[0].invited=t.result.invited,e.reviewNo[0].regist_time=t.result.regist_time,e.reviewNo[0].task_check_fail=t.result.task_check_fail}),e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},t.session.setItem("_reviewNoSort_",s.sort),t.session.setItem("_reviewNoOrder_",s.order)})}),void t.session.removeItem("searchCheckBydate");e.reviewUserId&&2==e.chooseType&&(e.reviewUserId=""),e.chooseType||(e.reviewUserId="");var s=t.session.getItem("_reviewList_");e.data={id:s,uid:e.reviewUserId,date:e.subTime,status:4,page:1,rows:10},t.session.getItem("_noCurrentPageIndex_")&&(e.data.page=t.session.getItem("_noCurrentPageIndex_"),t.session.removeItem("_noCurrentPageIndex_")),t.session.getItem("_reviewNoSort_")&&(e.data.sort=t.session.getItem("_reviewNoSort_")),t.session.getItem("_reviewNoOrder_")&&(e.data.order=t.session.getItem("_reviewNoOrder_")),i.getReviewList(e.data).then(function(o){if(console.log(o),e.reviewNoItems=o.result.rows,n.totalCount=o.result.total,n.pageIndex=e.data.page,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-no-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);e.masterHeader=!1,e.masterItem=!1,n.pageIndex=t;var r={id:s,uid:e.reviewUserId,date:e.subTime,status:4,page:t,rows:10,sort:e.data.sort,order:e.data.order};i.getReviewList(r).then(function(t){e.reviewNoItems=t.result.rows,e.reviewNoItems&&e.reviewNoItems.length>0&&(e.reviewNo=e.reviewNoItems[0].data,0==e.reviewNo.length&&e.reviewNo.push({}),i.getInfoData({uid:e.reviewNoItems[0].uid,tid:e.reviewNoItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewNo[0].amount=t.result.amount,e.reviewNo[0].check_fail=t.result.check_fail,e.reviewNo[0].invited=t.result.invited,e.reviewNo[0].regist_time=t.result.regist_time,e.reviewNo[0].task_check_fail=t.result.task_check_fail}),e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},!(e.reviewNoItems&&e.reviewNoItems.length>0))return void r(function(){alert("")},50);if(e.reviewNo=e.reviewNoItems[0].data,0==e.reviewNo.length&&e.reviewNo.push({}),i.getInfoData({uid:e.reviewNoItems[0].uid,tid:e.reviewNoItems[0].id}).then(function(t){e.reviewNo[0].amount=t.result.amount,e.reviewNo[0].check_fail=t.result.check_fail,e.reviewNo[0].invited=t.result.invited,e.reviewNo[0].regist_time=t.result.regist_time,e.reviewNo[0].task_check_fail=t.result.task_check_fail}),e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}),window.initNo=function(){map=new BMap.Map("cc_map");var e=new BMap.Point(window.x,window.y);map.centerAndZoom(e,16),map.enableScrollWheelZoom()},e.changeColor=0,e.currentIndex=0,e.flag=!1,e.masterItem=!1,e.all=function(t){e.masterItem=t;for(var n=0;n<e.reviewNoItems.length;n++)e.reviewNoItems[n].checkState=t},e.cancelOne=function(t,n,r){t=event||window.event,t&&t.stopPropagation&&t.stopPropagation(),e.reviewNoItems[r].checkState=n;for(var i=0;i<e.reviewNoItems.length;i++){if(!e.reviewNoItems[i].checkState)return e.masterHeader=!1,e.flag=!1,!1;e.flag=!0}},e.changeRight=function(t,n){t&&t.data?i.getInfoData({uid:t.uid,tid:t.id}).then(function(n){e.reviewNo=t.data,0==e.reviewNo.length&&e.reviewNo.push({}),e.reviewNo[0].amount=n.result.amount,e.reviewNo[0].check_fail=n.result.check_fail,e.reviewNo[0].invited=n.result.invited,e.reviewNo[0].regist_time=n.result.regist_time,e.reviewNo[0].task_check_fail=n.result.task_check_fail,e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)})}):e.reviewNo={},e.changeColor=n,e.currentIndex=n,$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.noReviewNext=function(){e.currentIndex++,e.currentIndex>=e.reviewNoItems.length&&(e.currentIndex=e.reviewNoItems.length-1),e.changeRight(e.reviewNoItems[e.currentIndex],e.currentIndex),$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.noPrev=function(){e.currentIndex--,e.currentIndex<0&&(e.currentIndex=0),e.changeRight(e.reviewNoItems[e.currentIndex],e.currentIndex),$(".review-no-left").animate({scrollTop:72*e.currentIndex})},e.rnRightAllow=function(o){o.stopPropagation();var s=[];if(e.reviewNoItems.forEach(function(e,t){1==e.checkState&&s.push(e)}),0==s.length)return void alert("");if(confirm("?"))if(e.reviewNoItems.forEach(function(t,n){1==t.checkState&&e.checkedCount++}),e.masterHeader&&1==e.masterHeader){for(var a=0;a<e.reviewNoItems.length;a++)i.check({ids:e.reviewNoItems[a].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_NotoAllow_",!0):t.session.setItem("_NotoAllow_",!1)}),e.masterHeader=!1,e.changeRight(null);e.reviewNoItems=[],r(function(){"true"==t.session.getItem("_NotoAllow_")?(alert(""),t.session.removeItem("_NotoAllow_"),t.session.setItem("_noReviewCurrentCheckIndex_",10),n.pageIndex<n.pageTotal?t.session.setItem("_noCurrentPageIndex_",n.pageIndex):n.pageIndex==n.pageTotal&&1!=n.pageIndex&&t.session.setItem("_noCurrentPageIndex_",n.pageIndex-1),t.session.setItem("_keyuped_",!0),t.session.setItem("_reviewNoChecked_",!0),window.location="#/reviewDetail/reviewDetail/tab2"):alert("")},200),t.session.setItem("_reviewNo_",e.reviewNoItems)}else{for(var l=e.reviewNoItems.length,a=0;a<e.reviewNoItems.length;a++)1==e.reviewNoItems[a].checkState&&(i.check({ids:e.reviewNoItems[a].cid,status:1}).then(function(e){1==e.result.success?t.session.setItem("_NotoAllow_",!0):t.session.setItem("_NotoAllow_",!1)}),e.reviewNoItems.splice(a,1),e.checkedCount>=1&&0!=a&&10==l?t.session.setItem("_noReviewCurrentCheckIndex_",10-e.checkedCount):e.checkedCount>1&&0==a&&10==l&&t.session.setItem("_noReviewCurrentCheckIndex_",10-e.checkedCount),a--);r(function(){"true"==t.session.getItem("_NotoAllow_")?(alert(""),t.session.removeItem("_NotoAllow_"),t.session.setItem("_reviewNoChecked_",!0),t.session.setItem("_keyuped_",!0),n.pageIndex<n.pageTotal?t.session.setItem("_noCurrentPageIndex_",n.pageIndex):n.pageIndex==n.pageTotal&&1!=n.pageIndex&&t.session.setItem("_noCurrentPageIndex_",n.pageIndex-1),window.location="#/reviewDetail/reviewDetail/tab2"):alert("")},200),result=e.reviewNoItems,e.reviewNoItems=result,e.reviewNoItems.length>0?e.changeRight(e.reviewNoItems[0],0):e.reviewNo={}}},e.orderByTimes=function(r){var o=t.session.getItem("_reviewList_");2!=e.chooseType&&e.chooseType||(e.reviewUserId="");var s={id:o,uid:e.reviewUserId,date:e.subTime,status:"",page:1,rows:10,sort:"created_time",order:"desc"};switch(r){case 1:s.sort="created_time",s.order="asc";break;case 2:s.sort="submit_time",s.order="asc";break;case 3:s.sort="surplus_check_time",s.order="desc"}switch(e.orderFlag&&(s.order="desc",3==r&&(s.order="asc")),e.tabSelected){case 0:s.status=2;break;case 1:s.status=3;break;case 2:s.status=4}i.getReviewList(s).then(function(r){e.orderFlag=!e.orderFlag,e.reviewNoItems=r.result.rows,e.changeRight(e.reviewNoItems[0],0),n.totalCount=r.result.total,n.pageIndex=n.pageIndex,n.pageTotal=Math.ceil(e.totalCount/10),n.toPage=function(t){if($(".review-no-left").animate({scrollTop:0}),t<1)return void(t=1);if(t>n.pageTotal)return t--,void(n.pageIndex=t);e.masterHeader=!1,e.masterItem=!1,n.pageIndex=t;var r={id:o,uid:e.reviewUserId,date:e.subTime,status:4,page:t,rows:10,order:s.order,sort:s.sort};i.getReviewList(r).then(function(t){e.reviewNoItems=t.result.rows,e.reviewNoItems&&e.reviewNoItems.length>0&&(e.reviewNo=e.reviewNoItems[0].data,0==e.reviewNo.length&&e.reviewNo.push({}),i.getInfoData({uid:e.reviewNoItems[0].uid,tid:e.reviewNoItems[0].id}).then(function(t){e.currentIndex=0,e.changeColor=0,e.reviewNo[0].amount=t.result.amount,e.reviewNo[0].check_fail=t.result.check_fail,e.reviewNo[0].invited=t.result.invited,e.reviewNo[0].regist_time=t.result.regist_time,e.reviewNo[0].task_check_fail=t.result.task_check_fail}),e.reviewNo.forEach(function(e,t){5==e.type&&(window.x=e.x,window.y=e.y)}))})},t.session.setItem("_reviewNoSort_",s.sort),t.session.setItem("_reviewNoOrder_",s.order)})},t.session.getItem("_noReviewCurrentCheckIndex_")&&10!=t.session.getItem("_noReviewCurrentCheckIndex_")){var a=t.session.getItem("_noReviewCurrentCheckIndex_");t.session.removeItem("_noReviewCurrentCheckIndex_"),e.changeRight(e.reviewNoItems[a],a)}else t.session.removeItem("_noReviewCurrentCheckIndex_"),e.changeRight(e.reviewNoItems[0],0)})}])}),define("toReviewDetailCtrl",["app"],function(e){return e.controller("toReviewDetailCtrl",function(e){})}),define("addStepCtrl",["app","storageUtils"],function(e,t){return e.controller("addStepCtrl",["$scope","Upload","$timeout","serverService",function(e,n,r,i){var o=t.session.getItem("_TaskId_"),s=t.session.getItem("_newTaskid_");i.getRegex().then(function(t){e.regexArr=t.result}),e.removeStep=function(n){e.stepItems[n].oldSteps.status=0,e.stepItems[n].oldSteps.task_id||(e.stepItems[n].oldSteps.task_id=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_")),e.stepItems[n].oldSteps.order||(e.stepItems[n].oldSteps.order=e.stepItems.length-n);var r=e.stepItems[n].oldSteps;e.stepItems.splice(n,1),e.stepCount--;for(var s=n;s<e.stepItems.length;s++)e.stepItems[s].index--;$(".left").css("height",Math.round($(".new-step").innerHeight()/2)+432),0==e.stepCount&&$(".left").css("height",846),r.id&&i.saveStep(r).then(function(e){200==e.code&&i.getComponent(o).then(function(e){e.result.forEach(function(e,t){e.step_id==r.id&&(e.status=0,i.submitComponent(e))})})})};var a=[];e.stepItems=[],e.addStepModule=function(t){e.stepItems.push({showValue:1,index:e.stepCount+1,oldSteps:e.oldSteps[t],component:[],addItems:[]}),e.stepItems[e.stepItems.length-1].oldSteps?null!=e.stepItems[e.stepItems.length-1].oldSteps.images_list&&0!=e.stepItems[e.stepItems.length-1].oldSteps.images_list.length||(e.stepItems[e.stepItems.length-1].oldSteps.images_list=[],e.stepItems[e.stepItems.length-1].oldSteps.order=100-e.stepItems.length,e.stepItems[e.stepItems.length-1].oldSteps.images=""):(e.stepItems[e.stepItems.length-1].oldSteps={},e.stepItems[e.stepItems.length-1].oldSteps.images_list=[],e.stepItems[e.stepItems.length-1].oldSteps.images="",e.stepItems[e.stepItems.length-1].oldSteps.order=100-e.stepItems.length);var n=e.stepItems[t]||e.stepItems[e.stepItems.length-1];1!=n.oldSteps.status&&1!=n.oldSteps.status||a.push(n),e.stepCount++,r(function(){$(".left").css("height",$(".new-step").innerHeight()+17)},100)},s&&"undefined"!=s&&i.getStepById(s).then(function(t){console.log(t.result),e.stepCount=0,e.oldSteps=[{images_list:[]},{images_list:[]}]}),o&&"undefined"!=o?i.getStepById(o).then(function(n){if(console.log(n.result),0==n.result.length)alert("~"),e.stepCount=0,e.oldSteps=[{images_list:[]},{images_list:[]}],e.addStepModule(e.stepCount+1);else{e.oldSteps=n.result,t.session.setItem("_oldStep_",e.oldSteps);var r=t.session.getItem("_oldStep_");if(t.session.setItem("_saved_",!0),e.stepCount=0,r&&r.length>0){e.stepItems=[];for(var i=0;i<r.length;i++)e.addStepModule(i);e.stepItems=a}}}):(alert(""),alert("~"),e.stepCount=0,e.oldSteps=[{images_list:[]},{images_list:[]}],e.addStepModule(e.stepCount+1)),r(function(){var n=t.session.getItem("_component_");if(n&&null!=n){e.componentItems=n;for(var r=0;r<e.componentItems.length;r++)for(var i=0;i<e.stepItems.length;i++)e.componentItems[r].step_id==e.stepItems[i].oldSteps.id&&(7==e.componentItems[r].type&&1==e.componentItems[r].options_other&&(e.componentItems[r].options+="\n"),""==e.componentItems[r].tips_text&&(e.componentItems[r].tips_text=""),e.stepItems[i].component.push(e.componentItems[r]))}else e.componentItems=[]},300),e.sortableOptions={start:function(e,t){},change:function(e,t){},update:function(e,t){console.log("update")},stop:function(e,t){}},e.step_upload=function(t){e.step_upload=function(e){function t(e){var t=$.ajax({url:"http://manager.test.shandianshua.com/sdk/qiniu/token.json",method:"POST",xhrFields:{withCredentials:!0},data:{bucket:"totoro-task"},dataType:"json",async:!1}).responseText;return jQuery.parseJSON(t).result}var n=e.parentNode.parentNode.parentNode.parentNode.id.substr(-1,1),r=$("#imgUrl"+n).find("p").eq(0).find("img");console.log(r);for(var i=0;i<r.length;i++){r[i].setAttribute("id","step"+n+"Img"+i);var o=document.createElement("div");o.id="step"+n+"ImgContainer"+i,$("#imgUrl"+n).find("p").eq(0).prepend(o);var s=[];Qiniu.uploader({runtimes:"html5,html4",browse_button:"step"+n+"Img"+i,container:"step"+n+"ImgContainer"+i,max_file_size:"100mb",chunk_size:"5mb",multi_selection:!0,get_new_uptoken:!0,uptoken_func:t,domain:" http://task.totoro.cdn.shandianshua.com",unique_names:!0,auto_start:!0,init:{FilesAdded:function(e,t){},BeforeUpload:function(e,t){alert("")},UploadProgress:function(e,t){},FileUploaded:function(e,t,n){for(var r=e.getOption("domain"),i=(jQuery.parseJSON(n),""),o=0;o<s.length;o++)i+=r+"/"+s[o].key+"\n";console.log(n)},Error:function(e,t,n){console.log(t)},UploadComplete:function(){},Key:function(e,t){var n="";return n}}})}}},e.asprePage=function(){window.location="#/addTask"},e.assaveTask=function(){for(var n="",a=0;a<e.stepItems.length;a++){console.log(e.stepItems[a].oldSteps);var l=e.stepItems[a].oldSteps;l.title||(l.title=" "),l.order||(l.order=100-a),l.task_id=t.session.getItem("_TaskId_")||t.session.getItem("_newTaskid_"),l.id||(l.id=""),l.url||(l.url=""),l.skip=0,l.status=1,console.log(l),i.saveStep(l).then(function(e){200==e.code&&(console.log(""),window.save=!0)}),n=""}r(function(){var n=o||s;i.getStepById(n).then(function(n){console.log(n.result),t.session.setItem("_addStep_",n.result),e.stepItems.forEach(function(e,t){for(var r=0;r<n.result.length;r++)e.oldSteps.title==n.result[r].title&&(e.oldSteps.id=n.result[r].id)});for(var o=0;o<e.stepItems.length;o++)n.result.forEach(function(n,s){n.id==e.stepItems[o].oldSteps.id&&e.stepItems[o].component&&e.stepItems[o].component.length>0&&e.stepItems[o].component.forEach(function(o,s){if(o.step_id=n.id,o.task_id=n.task_id,o.order=1e4-s,""==o.tips_text&&(o.tips_text=" "),o.tips_text.indexOf("")>-1&&e.regexArr.forEach(function(e,t){""==e.value&&(o.regex=e.code)}),o.tips_text.indexOf("")>-1&&e.regexArr.forEach(function(e,t){""==e.value&&(o.regex=e.code)}),o.tips_text.indexOf("")>-1&&e.regexArr.forEach(function(e,t){""==e.value&&(o.regex=e.code)}),r(function(){i.submitComponent(o).then(function(e){console.log(e),200==e.code?(t.session.setItem("_component_",e.result),window.save=!0):window.save=!1})},300),7==o.type)if(console.log(o.options),o.options.indexOf("")>-1){o.options_other=1,console.log(o.options);var a=o.options.split("\n");a.forEach(function(e,t){""==e&&a.splice(t,1)}),o.options=a.join("\n")}else o.options_other=0})})})},2e3),r(function(){save&&(alert(""),t.session.setItem("_DOWNLINE_",!0),window.location.reload())},2500)}}])}),define("textProofCtrl",["app","storageUtils"],function(e,t){return e.controller("textProofCtrl",["$scope","serverService",function(e,t){}])}),define("imgProofCtrl",["app","storageUtils"],function(e,t){return e.controller("imgProofCtrl",["$scope","serverService",function(e,n){e.deleteImgProof=function(r,i){e.componentItems.length;e.componentItems[i].status=0,n.submitComponent(e.componentItems[i]).then(function(n){200==n.code&&t.session.setItem("_component_",e.componentItems)}),e.componentItems.splice(i,1),t.session.setItem("_DRAG_",!0),window.location="#/reviewList"}}])}),define("posProofCtrl",["app","storageUtils","serverService"],function(e,t,n){return e.controller("posProofCtrl",["$scope","serverService",function(e,t){e.pos={n:{one:"21",two:"24",three:"12.2"},e:{one:"2",two:"10",three:"26.5"}}}])}),define("showImgCtrl",["app","storageUtils"],function(e,t,n){return e.controller("showImgCtrl",["$scope","Upload","$timeout","$http","serverService",function(e,t,n,r,i){}])}),define("changeLeftNav",["app"],function(e){return e.service("chLnavService",function(e){e.changeBlue=function(t){e.isBlue=t}})}),define("mapService",["app"],function(e){return e.factory("mapService",["$http","$q",function(e,t){function n(e,t){var n=document.createElement("script");n.type="text/javascript",n.src="http://api.map.baidu.com/api?v=2.0&ak=VcN7gumC0Wnn475XXWr4FeoyF5YYOVGC&callback="+t,document.getElementById(e).appendChild(n)}function r(n){var r=t.defer(),i="http://api.map.baidu.com/geocoder/v2/?ak=VcN7gumC0Wnn475XXWr4FeoyF5YYOVGC&callback=JSON_CALLBACK&location="+n.lat+","+n.lng+"&output=json&pois=1";return e.jsonp(i).success(function(e){var t=e.result.cityCode,n=[];e.result.pois.forEach(function(e){var r=e.name,i=e.point.x,o=e.point.y;n.push({address:r,lng:i,lat:o,cityId:t})}),r.resolve(n)}).error(function(){alert("")}),r.promise}function i(n){var r=t.defer(),i="http://api.map.baidu.com/geocoder/v2/?address="+n+"&output=json&ak=VcN7gumC0Wnn475XXWr4FeoyF5YYOVGC&callback=JSON_CALLBACK";return e.jsonp(i).success(function(e){console.log(e);var t=new BMap.Point(e.result.location.lng,e.result.location.lat);r.resolve(t)}),r.promise}function o(){var e=t.defer(),n=new BMap.Geolocation;return n.getCurrentPosition(function(t){if(this.getStatus()==BMAP_STATUS_SUCCESS){var n=t.point,r=new BMap.Geocoder;r.getLocation(n,function(t){var r=t.addressComponents,i=r.city+r.district+r.street+r.streetNumber;e.resolve({name:i,lng:n.lng,lat:n.lat})})}else alert("")},{enableHighAccuracy:!0}),e.promise}function s(n){var r=t.defer(),i="http://api.map.baidu.com/place/v2/search?q="+n+"&region=&output=json&ak=VcN7gumC0Wnn475XXWr4FeoyF5YYOVGC&callback=JSON_CALLBACK";return e.jsonp(i).success(function(e){r.resolve(e)}),r.promise}return{loadMapAPI:n,getAroundAddrs:r,getPointByAddr:i,getCurrentAddr:o,locationSearch:s}}])}),function(e){require.config({waitSeconds:0,paths:{angular:"libs/angular",angularRoute:"libs/angular-route",angularUiRoute:"libs/angular-ui-router",angularSanitize:"libs/angular-sanitize.min",uiSortable:"libs/sortable",ngFileUpload:"libs/ng-file-upload.min",angularCookie:"libs/angular-cookie.min",serverService:"services/serverService",mapService:"services/mapService",app:"controllers/app",headerCtrl:"controllers/headerCtrl",newTaskCtrl:"controllers/newTaskCtrl",taskListCtrl:"controllers/taskListCtrl",reviewCtrl:"controllers/reviewCtrl",reviewDetailCtrl:"controllers/reviewDetailCtrl",toReviewCtrl:"controllers/toReviewCtrl",reviewOkCtrl:"controllers/reviewOkCtrl",reviewNoCtrl:"controllers/reviewNoCtrl",toReviewDetailCtrl:"controllers/toReviewDetailCtrl",addStepCtrl:"controllers/addStepCtrl",textProofCtrl:"controllers/textProofCtrl",imgProofCtrl:"controllers/imgProofCtrl",posProofCtrl:"controllers/posProofCtrl",showImgCtrl:"controllers/showImgCtrl",route:"routes/appRoute",storageUtils:"util/storageUtils",changeLeftNav:"util/changeLeftNav",dirTextProof:"util/dirTextProof",dirImgProof:"util/dirImgProof",dirLaydate:"util/dirLaydate",dirAddStep:"util/dirAddStep",dirAudioProof:"util/dirAudioProof",dirPosProof:"util/dirPosProof",dirShowImg:"util/dirShowImg",dirShowText:"util/dirShowText",dirKeyEvents:"util/dirKeyEvents",dirRadioProof:"util/dirRadioProof"},shim:{angular:{exports:"angular"},angularRoute:{exports:"angularRoute",deps:["angular"]},angularUiRoute:{deps:["angular"],exports:"angularUiRoute"},uiSortable:{deps:["angular"],exports:"uiSortable"},"ui-bootstrap":{deps:["angular"],exports:"ui-bootstrap"},ngFileUpload:{deps:["angular"],exports:"ngFileUpload"},angularCookie:{deps:["angular"],exports:"angularCookie"},angularSanitize:{deps:["angular"],exports:"angularSanitize"}}}),require(["angular","angularRoute","angularUiRoute","angularSanitize","uiSortable","ngFileUpload","app","route","storageUtils","dirTextProof","dirImgProof","dirLaydate","dirAddStep","dirPosProof","dirAudioProof","dirRadioProof","dirShowImg","dirShowText","dirKeyEvents","headerCtrl","newTaskCtrl","taskListCtrl","reviewCtrl","reviewDetailCtrl","toReviewCtrl","reviewOkCtrl","reviewNoCtrl","toReviewDetailCtrl","addStepCtrl","textProofCtrl","imgProofCtrl","posProofCtrl","showImgCtrl","changeLeftNav","serverService","mapService"],function(e){e.bootstrap(document,["dcApp"])})}(window),define("main",function(){});